const nock = require("nock");

nock("https://123-abc-456.mktorest.com:443", { encodedQueryParams: true })
  .get("/identity/oauth/token")
  .query({
    grant_type: "client_credentials",
    client_id: "98628d43-73e8-7a3d-9725-f1fd7be3755c",
    client_secret: "qZyFW90pDnrdHZTS4whWqTtqeVAjZlsT",
  })
  .once()
  .reply(
    200,
    {
      access_token: "my-access-token",
      token_type: "bearer",
      expires_in: 3432,
      scope: "my-user@grouparoo.com",
    },
    [
      "Server",
      "nginx",
      "Date",
      "Tue, 01 Dec 2020 17:55:18 GMT",
      "Content-Type",
      "application/json;charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Cache-Control",
      "no-store",
      "Pragma",
      "no-cache",
    ]
  );
nock("https://123-abc-456.mktorest.com:443", { encodedQueryParams: true })
  .get("/rest/v1/leads/describe.json")
  .once()
  .reply(
    200,
    [
      "1f8b0800000000000003a55b6d6fdb3610fe2b82f7b51fe2348dd37c4b9d14f0d0b441bc62c086619065da152a4bae5eba1a45fffb8eefe49d28cacab76ebee79e8747f2783c313f6735fbd6b1a65d6d67b7b3cdf5e5eeb7f9e27abe5bccb3c5eb6cf60a7e6ebaa29dddfefd739683c9d5abd9366f8e457afa981e184096d5e19896a744fc27fc98b6e91fa723ffa569ebbcdc838b8295fbf6cbecf6f2cd1be10fbcfd9c95129e49b8204ab79fcae234bbdda545c37ebd9a35557a744c15538fe9af57521cb8f7c5adf39681fdb9a21a09ab594491728fedb49c6b2ce75d5e141092e46ebb85b036beb296fd68c5d81a373e1b0959b73563f2e78826c5110468718b90b865de9e7c65a326520955681c1232994a66c05c8bbc09895cb7e9a49935e194f0b132351db6d73adf86742eabae6ceb97c4d338c0dcc19006115aedfc2224f7a96adab44896d576cab651c1954e948fb1aa074146f81c0bff936dd46675f6785717b08087b2ce7f0616d56719b0a9517589553da679993c7da9ca29513c00586331259973ce143236fa485abc2bcb0ea6f9997d67658734665d5db332e34b1672949b8a5281b2a0a838491306188124517eec0ec9c3e1585427c6509acccb96ed594de595dd61c3ea4f3b17179508445190914952e6aadc76901ca76cefdc42a3221d1a6c6bb4914cb95e2dc7ece32bc805689e9b3c1bbb79812460aa855d925c630a86aac573db7f041ebeb695027d54181c06ba2fe218adf08a2495871f2dab4b9107656d03b5116cf181cae60d8d229ce6c289522e5c60d94602a9aa306370d5434dc6273052140cb393fcf0be2b8aa9051d9f2d550b5a596dddb15f66b464bb3fb1baa9ca44d48d6707fa28c00a6b290345a4a40a581b856437ad9ae429addb52241e67256caaaa606949b3110fc3aab1182ccc5091d201a83ec07cfa2b2ec89337ca1813902db10a596a297c11fbe53348594282ab0e670edb016159868cec3a20bb2babf274a83a94f20706ef228254e47c5ea7450705645ef18973667354a1dbb860cc49a2ee51616b138cd738f2eff3ba69a76ec11d07933d18d8108229606cf491fcf4986fb7059b2af020d001521242c915b036124912fb904e8f6001d8002191c77902b6461cc9780f50e515fdf740c67f82753954bf6a1bbca08838c123b2937f421865a4a611d56422eb227f771c55413b244cdb4485c58ad63724053f5670bf60b2ac9eacef209c84c849f82467c8dc0491e4f0f7e98fc91277e98f9e0923d280a2c74c4bba26b9fcf76a93fc91b7052af747a5bc56e1a2b3aa09b0a19145b2feb22adb346ba15415a596bfe26ab663fc32c235a3223593380bb394a2d820f1a244162153a31149ce8b7be81624d52e7997d7d0c7f28e0c383d7ad4f1fffb69a7cd3111d1c6fd574173a38b9c1267f49152d3728aaab15eb1a95142ce83894da34cf69a300f0950a44d744d92bf6ed8c0449cd58e84f6879a4f3f5f12459a004b372122297f7a2b280b7674882c4b12144633fe8b9a3e47810edc0289be516d9e6b92fbf505213fb0e4af696d15754d000fca810d90773b5990ccf9a9cef739bf0eaeabaeced8986b4a5fa7bb526ea4177203e9cf5a9a3b00f213d78264570dd7d257e5aef2f317cdff1717f432eb6b575e5000c95c6b72a99d80907692749fd93e0775a24cd7fa47dc10fb425f3bae062349c6e08a1844ea7dbf2049da75a1c731751ee840",
      "02611d319000d20c84e4783d9fc99aa575f6257928615b4c2927cc6a127e8c9bd1eb2904432b8a1c0a78004f5feab479f9008c9bf306d003430320478819c0332f8c6a7c2b8ff7bd75e41dfc58d1bd1024981c2df29ab32abfa785685439c771f0522fee361662f54932b2b20547d8deac6772a878e29265da4d5a0bae5cede32ccd2190114e6e179fcba6db34599d6fd8d83651e743a2021105b6d7da6ec889e302e103430a7dbd29078eabd778c12ac85270c98328a39d9c38f755020d66580905bf7f8f59abdb0a00ca3eaaee7ec0d88822c787236af21ae5cd48c31e5b6f3724f1bb124c589df08cab214cac8c8bf1110b424cdc48b27f4cebaface55fdbd75d7364e576f45e3968a40bc45a0d3149d23dc4d3278e4889ce1ec9c1ef8a34fb9a7c805a6a7404361c6210c1a1938cea524d1eb3431e1d2c498deaa2a0bf13398b34fc6d496234048f96249947d84cc310bd36e61764379b7e75b27af2730cdd443daf6552dd2017e8a854c3d66b6e65921d0fb521af2fb6fd6d99515273e5627c874693f621fc42637e41b6bb0683e2a92f2eac62edc106b8ff76a6492da74560c5244f687032b17762e4e21e8a779d9d5f90846088450f030ee9fdb40f215a807063bcd808201d245b181db22930e66b75dfe54ecb08b416900a92318c8a47d6d6d5b12af2362d933b18c684fda9b5b8be94ab505ce8631ca348f49d859417c786b7eeb910d2a7f1c3734912962c92dd93d0c9a9c335bc0bb2a347fbe292e41ec438f91c1185b9d1103b4ae69724a5602177fcfd9d337af8271418f0089234a77d6a810b078024867b76844fcd075622be516977eb82312939cb3c2a6c6dce87d7a425b6045b282792f121c92402c5c25f7dafe96de2c8837c0e4f2711c33c24e4cbaafa9ae3d728a3e29d1964387c24039b0726f07598c1cb02f9fc01bff920fc03af4c8423e967f0adc79cbe76e1ef0794047f7d0f7c7d81370f5bc92616bfee958be9248bcc270886e98ae49e67785be14b1a1312ae4d213157afb480ad59fd5724438901c96e60445edf79c5f519f02885416bab91242fa911be66e0c7142484418d1a3c4e63c8da6a24bb4e6accaa1acd72f0b193089db21fa72a606c4591bdf9b9deabe78f4eaadf1555daf338bb33b6588d252065cf539d431b0ebfb10e8ef968cdc324a4aa79660534cebfb3647d46786b05d298201f7d2964f87ac3171c9c66b4a82027fda22d96cf330c53fc9181335ba39638ffb020809891240943812dcd24d336184c32b4114ee22557b28227abe2f3b5573e0ca4d7a33810940f3e4cc78315d19f6dd561121260e17e2176b5206b48c497bf60cbf94ba9041f4f03faf93e35c0def388041993dd7b070bd27ad39feed44be36479cae0a1c8233c622f921577e4ac8d886ae54278100ece501fa40fc6fc86641f1106ed082e567b367104023b41bcc319927d4d4be5bbec5b97c3437cbe4e9eea6a5fa787d1614f2d5641c7c9eee194b10aeb26e1767ddccb2fffce5a817f060a7cde5075b00a1a225ebc25eb9577a352b0ff7797b30235f1fb3b550481d9c8968a2274fe5abc2547b3bad9f5c90b5efa30262a3006b0fac8c4891b569f3af103acbda1476a3e382a73d8dc8a2427bd3af6fa64064f448c89aa8b01ac3e92e04555d3a72e50eef8f65165c3e65ad70d7f6ee03f3bd6fbae4f9afe4d1c0fde9fa7e85f0c2a2a308ab01ac9cdb4e17595a1024ffa995170667d4454dcb0b95546be6241f19041efa04f9bfa89c60e63a2ea62805fff403aeab28cff95e3ad2854fe0794a86367693a0000",
    ],
    [
      "Server",
      "nginx",
      "Date",
      "Tue, 01 Dec 2020 17:55:19 GMT",
      "Content-Type",
      "application/json;charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Vary",
      "Accept-Encoding",
      "Content-Encoding",
      "gzip",
    ]
  );

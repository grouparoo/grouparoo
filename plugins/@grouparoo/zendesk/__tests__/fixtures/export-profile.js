const nock = require("nock");

nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migratedusername" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:21 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=de7eb6d349e0fef4364817a3e0b0284621619214020; expires=Sun, 23-May-21 21:40:20 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "399",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-w9swc",
    "X-Request-Id",
    "644a3fedfd82cf96-IAD",
    "X-Runtime",
    "0.377915",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3fedfd82cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a24648b90000cf9647bd8000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=8O4mvJ3o3PJYjXrwv7KCtFmiKTr6S%2BD7bPJjO%2B%2Ft4kVALSw%2B0YIBbqNGKgigLx8Y%2F6Auq7IMPuEYIgcZNW2DJh5EcSGWgK9eA%2BgpYv6QXfpc"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=d971291cd36fb5339feced8d46ca69876851d6f7-1619214021; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3fedfd82cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migrateduser%40bleonard.com" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:21 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "398",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-5dlxg",
    "X-Request-Id",
    "644a3ff16bc3cf96-IAD",
    "X-Runtime",
    "0.171589",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3ff16bc3cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a2464ae70000cf96c2a85000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=rQbkzwfVjwjLnbg%2BNHDT94IeA1aHAKSB4BN%2F9E7AQGxewTj5Scfx7T5SKRW1QLfvGuScdGEchrlZM7Uk37qhsydS6%2FC9qSqv3PdSiS8Zn5oP"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3ff16bc3cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:21 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "397",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-qb798",
    "X-Request-Id",
    "644a3ff39f96cf96-IAD",
    "X-Runtime",
    "0.139315",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3ff39f96cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a2464c3a0000cf967f011000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=k6s3aJqWGWM38Hbz5e0e3lr8fA37Gul1v0xOu3spb31eHhOZvRg4ZOzbdeJu%2B1AaIMmnkwBbaDyBVFc1%2BSgS7n6iy8b9wsw%2BHhC7%2BQH3zAEw"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3ff39f96cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:22 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "396",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-5w7ht",
    "X-Request-Id",
    "644a3ff57ad8cf96-IAD",
    "X-Runtime",
    "0.143203",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3ff57ad8cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a2464d6e0000cf966092c000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=xZwBMupnRLUWkoPRHuVOff6v52lICNnzO1lEIKQV9yJf2vDO79SmypO4fk21h5CcNjM8V5BUNfJ3PHNXTEl3Ib1CJIHrvu3MV5tkx49J3gSW"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3ff57ad8cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:22 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "395",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-gzbhs",
    "X-Request-Id",
    "644a3ff7aecbcf96-IAD",
    "X-Runtime",
    "0.148387",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3ff7aecbcf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a2464ecb0000cf963f9d9000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=c1nuOMNMMgiFG2OmCT310s6Y4y7ukgVSQmFpyvHrY69KtAnaIwan0Qbye7Td4ic69zk%2F4yFW4iBuEDUv%2F0jOuRIo3Yu31oA1xvZaI3c4wH7p"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3ff7aecbcf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:23 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "394",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-4bjm5",
    "X-Request-Id",
    "644a3ff99a13cf96-IAD",
    "X-Runtime",
    "0.302649",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3ff99a13cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a2464ffb0000cf969127d000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=KxvB7AEUq7DOeqgs4y3F2S5R6mbahoonVmWpSc9frN%2Bo8wVIY%2BMq2EIkAui1C8n6xwmvFlIiM6DEFObszV8RMPTuRg6aneiHwFpaVqL18PK%2B"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3ff99a13cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:23 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=dddad7e02341ec5c21ae15d3b99ebdcb51619214023; expires=Sun, 23-May-21 21:40:23 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "393",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-bx9q7",
    "X-Request-Id",
    "644a3ffcf9c5cf8a-IAD",
    "X-Runtime",
    "0.163063",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3ffcf9c5cf8a-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246521f0000cf8a633fe000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ZucQDoRGGES76mFf1%2Bu06A5goOO8JRSmbxNfaBZbHpaf%2Bdb9l883uwcKvOEjQg4ACwnqE5FU69AMA3gXD2jEhNlXH1rmBhPTBNNY4kKWNiOP"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=d9b9976fc54ac3e97f4078fb7ba7e994dd955447-1619214023; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3ffcf9c5cf8a-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:23 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "392",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-vjlt8",
    "X-Request-Id",
    "644a3fff6d12cf96-IAD",
    "X-Runtime",
    "0.165986",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a3fff6d12cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a24653a40000cf96a7182000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=g8gJqnyb32V94zgdCkOdwynxpTfek4tB%2BnB3iXxuqF3GpOWah0rMATpc6s6KCEyoEHOiS0wFBN3jfLWOHCY9kV86u4sQ3K303UuCT5Rc8RlG"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a3fff6d12cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:24 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d09e873d4d5d9b1bd82cc90e52b4c8ee71619214024; expires=Sun, 23-May-21 21:40:24 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "391",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-47rhv",
    "X-Request-Id",
    "644a4001ddd9e07c-IAD",
    "X-Runtime",
    "0.156112",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a4001ddd9e07c-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a24655270000e07cdf8bf000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=4ZHfJhPG4lCQ0Yox6mCbN3YhqQ0NJQT0QB%2FhSDZ39CBNRRaecRVx9QJ975JulGkEaCclmiI1GEk0uP6Wbf%2BxmHLLOYw0dkk7W51im8njpeMf"}]}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=07a1eab777a139739a53968cae5bab32a2368bd5-1619214024; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a4001ddd9e07c-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Brian",
      tags: [],
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:24Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:24 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1023",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "390",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0fbf5693f1e186d42fc0af7096c3d52e"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-wsd72",
      "X-Request-Id",
      "644a40042a4be07c-IAD",
      "X-Runtime",
      "0.322934",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40042a4be07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246569a0000e07c26abc000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=RLRIwq%2F6z9IxHmJNEhsYgxbhwg9UHKER3%2Bn7l2dFyBdDNUD082MFJx11ewPBY6I2P5JDrQGFL16jEelX36Qe3EOfC%2Frgok1qpLScNr8wx4ij"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40042a4be07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:24Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:25 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "389",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"ee2d33f48a5cb1ed737d347c315c6840"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-ttn8z",
      "X-Request-Id",
      "644a40075bf9cf96-IAD",
      "X-Runtime",
      "0.183071",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40075bf9cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24658960000cf96c0a7b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=p%2FK%2FHTQ%2BIApjNuXOvwr4DG8ks3dGOH3kOxopo4nbXgn5jMMjb0T2rNSV9tjIHy1B3d4XM5CFQ8sVYO5RGAjwDKC3%2BDMIAVhEpGSz53u6fkY8"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40075bf9cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:24Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:25 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "388",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0fbf5693f1e186d42fc0af7096c3d52e"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-cjjv7",
      "X-Request-Id",
      "644a4009e906cf96-IAD",
      "X-Runtime",
      "0.168754",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4009e906cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2465a2c0000cf969cbee000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=c%2BVCN3qjXdQhEKVxy15oHpUjXZERvDaggNNxaUm7cge6YLol4iDHy%2BNbKZJe%2BPNlX1WvNS5BUelFCw9eoOQeYJJdhJPPh%2FXdnJrToo93446K"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4009e906cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:24Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:25 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d723b0f5e2aa95b58d22454f460355b081619214025; expires=Sun, 23-May-21 21:40:25 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "387",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"ee2d33f48a5cb1ed737d347c315c6840"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-wsd72",
      "X-Request-Id",
      "644a400c4e84cf8a-IAD",
      "X-Runtime",
      "0.162823",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a400c4e84cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2465bb10000cf8ad1b47000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=8ctji6dNB7QR3khbN8dsdkoIpElI5vwZarH0CV4q%2BAFeZGaqBZPxcsj8xUBu0wyFUTmBnanTjROwEe%2BQYyIvLVXeVsKiyRhdeKWuTTSnena0"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=4c2e5ec8dfd24b1f7cc5af319e7a583f8d021d3d-1619214025; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a400c4e84cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Brian",
      alias: "BL",
      user_fields: {
        text_field: "testing here",
        date_field: "2020-08-19T20:50:04.000Z",
      },
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:26Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:26 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "386",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4ad2fe47c6e51a8c31ef519f6169bc75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-9f2z6",
      "X-Request-Id",
      "644a400e4aa0cf8a-IAD",
      "X-Runtime",
      "0.389679",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a400e4aa0cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2465cf20000cf8afebdf000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=bEom0kKv%2F1uRCGmBXDA0vrLSK%2BTsGKIrd%2B5pMRie1NSNc5IFifHFmuwo8VfQPYOy5k72bG%2FoIKJxGRgaAyPQmjZhC9xBwp%2FjhWWno8IZIfE9"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a400e4aa0cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:26Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:26 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "385",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4ad2fe47c6e51a8c31ef519f6169bc75"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-9w4vf",
      "X-Request-Id",
      "644a4011d994cf96-IAD",
      "X-Runtime",
      "0.189680",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4011d994cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2465f230000cf964204e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=7JGmhvuYbv6f8OB9abmFkXUHWJbsptxNq39OJ45WKWRLK0hixvwdgLy64Bnzz0EM%2FB6OjA6DjFQYZf%2FSljN7CexH7dstTQsmR2NoZlupe0MU"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4011d994cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:26Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: "2020-08-19T00:00:00+00:00",
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:27 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d2b398f486268607c6b497d35f8ec05b41619214026; expires=Sun, 23-May-21 21:40:26 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "384",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d12c9215251260800d790f08ab75a9ff"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-sbpk7",
      "X-Request-Id",
      "644a40147f58e08e-IAD",
      "X-Runtime",
      "0.193919",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40147f58e08e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24660c70000e08eba900000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=BJ0y7ibwkFPKQO0MHnhgttAXFM7l1O2U6KwSC5giPPvj8mg19VGSdYkt2KRO44b3s8tyhGpHi60NN1CxunGlXHunJJqJZBzVQNeVhTsxgtN5"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=28f08fb538c7293ee4b70b17678b5e0f83e3dae0-1619214027; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40147f58e08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:26Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:27 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "383",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4ad2fe47c6e51a8c31ef519f6169bc75"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-km2fp",
      "X-Request-Id",
      "644a4016aa51cf96-IAD",
      "X-Runtime",
      "0.185538",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4016aa51cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246622a0000cf967f1d7000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=kQN7QzU3loMoMHZv3lJjuc5XktbGnopGX9WtPMs7pcufWpX1BsjytR9YlOwsbCUckS%2FfhX1uqfPVLk0gGWymSsIpXQ8dDvWSfh8Zmevv05GJ"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4016aa51cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:26Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: "2020-08-19T00:00:00+00:00",
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:28 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=db3355d625fde72d0d1bfc23c5caf7bfd1619214027; expires=Sun, 23-May-21 21:40:27 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "382",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d12c9215251260800d790f08ab75a9ff"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-c7dvl",
      "X-Request-Id",
      "644a40194958e084-IAD",
      "X-Runtime",
      "0.191008",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40194958e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24663cf0000e0842a1a0000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=glMUgditf0fMyEFoze6o%2FvTRQC0fY9RD2n551zSbpgWdXpx5%2B%2Fp1pcz3Ghio7Ao9qVJHAJfrcO0zXeznZ3E6ph45w0JlK5tPVBOz4oNLCuu4"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=2eefe96cdbf2c9907f5357d62c187e78852009f9-1619214028; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40194958e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Evan",
      alias: "BL",
      user_fields: {
        text_field: "testing here change",
        date_field: null,
        unknown_junk: "ok",
        checkbox_field: true,
      },
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Evan",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:28Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["checkbox_field_selected"],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here change",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:28 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "381",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"cbac5a08e3a4f1bf1090f7c2d06c6989"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-7sn9k",
      "X-Request-Id",
      "644a401c2f00e084-IAD",
      "X-Runtime",
      "0.434280",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a401c2f00e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246659b0000e084ebaa8000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=x%2BKcnNdPa79X2CwGpmanvaPTk6eizQ%2BJ%2Fc7pwJj8RVludpPhAuswpVuVMTb%2F0Y1kG6L1cvM2t9bTdqCrmzWryIVtr7HPoEQOfSngUFaeK%2BE1"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a401c2f00e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "Evan",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:28Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["checkbox_field_selected"],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here change",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:29 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "380",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"cbac5a08e3a4f1bf1090f7c2d06c6989"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-vjlt8",
      "X-Request-Id",
      "644a401febcbcf96-IAD",
      "X-Runtime",
      "0.197253",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a401febcbcf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24667f20000cf9698be6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=JXGv1c9eVsaYPlGwX%2BKrCIHHd110qOCV6kludWXeFfVX7zUkHEXv0X1j%2FsTWudBkpOUNlhHSD3AxCq4aQV8XUwdrGb0Lxi815dTTu7%2BrBjEL"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a401febcbcf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "Evan",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:28Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["checkbox_field_selected"],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: true,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here change",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:29 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dbb449b789d0bf5b79cea2fdd03ef9f1c1619214029; expires=Sun, 23-May-21 21:40:29 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "379",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"22f2569fa96252fb8e34051f37b04398"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-sfxds",
      "X-Request-Id",
      "644a40229a1ae08e-FOR",
      "X-Runtime",
      "0.185441",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40229a1ae08e-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24669a10000e08ed12e4000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Ky09f1wkMLrHRNqusExKlZsEsE%2BrQoJkHaUqCAmHki43qeeT3kK8F5keifUNHGYNa4qtqpgqb67TIIKDKY4o5DU2%2BJ%2FfjZhqug2p1tP1hHJ5"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=c404e0e6b21bf818b68d57d187362d93ad3f55d2-1619214029; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40229a1ae08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "brian@bleonard.com",
      alias: null,
      user_fields: { text_field: null, checkbox_field: null },
      tags: ["checkbox_field_selected"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:30Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:30 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "378",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d45fda15bb7d4cee2e3f9ea4067e3765"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-wsd72",
      "X-Request-Id",
      "644a4026a971e08e-IAD",
      "X-Runtime",
      "0.371900",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4026a971e08e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2466c2c0000e08edf068000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=YsMQLWJoRd63InQD9XVJexMTbG9nvN4KAG3LIu0e1HN2Fcf6hsodwzTpQGiNWcFKkllST1ACv%2Flr7e59lA9zWm0rURXb7Jvse%2FCpWiAfXvJd"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4026a971e08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:30Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:30 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "377",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d45fda15bb7d4cee2e3f9ea4067e3765"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-d6jfh",
      "X-Request-Id",
      "644a402a39c6cf96-IAD",
      "X-Runtime",
      "0.239612",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a402a39c6cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2466e600000cf96421ad000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=DWC83WjX61W2OWV4SUuQjAqHnPTSanKmqnEZN76ZKb5HNMifQ5ctV5LVIHEIj7t0KotfX3bAjmzUmvPeobcxoFKIhaHLVQffL4FfSu8mejWQ"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a402a39c6cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:30Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:31 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dfe71c3d7ee3e5de690bc15fd9e23d3781619214030; expires=Sun, 23-May-21 21:40:30 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "376",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"764416dfeb415d1ed604ae4f27148107"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-r72cv",
      "X-Request-Id",
      "644a402d4835cf96-FOR",
      "X-Runtime",
      "0.190091",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a402d4835cf96-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246704a0000cf965b845000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=3vA29veGg20uc2JOyTuI9RZA%2Ball1sYYM7Jvny1iDSAFji5qZJCGnWSeVEssPIzsyk4vekR1bMgVXr7UA6FXlCtnzYUEyuAHaRsjZJDdGQYl"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=fff7c377ac0d3240800c0e4ab4382302149a0fc6-1619214031; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a402d4835cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["another", "test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:31Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["another", "test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:32 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "375",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"120a104a61bd9a986284f797f22a72a4"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-99grc",
      "X-Request-Id",
      "644a40316fd3cf96-IAD",
      "X-Runtime",
      "0.320006",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40316fd3cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24672e50000cf9667965000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=6qLvwWlgYQA4K7xNa9OTwbowuKFyl6Jn3isKmmocsX6%2B6krYnTsWjRZwpJLtpIdTjstmp9eF6sYcFZ3g2wbZyMXcAvdEN4EmAw8g6WnpnAkC"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40316fd3cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:31Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["another", "test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:32 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "374",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"120a104a61bd9a986284f797f22a72a4"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-7x5hl",
      "X-Request-Id",
      "644a40349d3dcf96-IAD",
      "X-Runtime",
      "0.233402",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40349d3dcf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24674e30000cf964ea89000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=BPv3gGiPhlIeurcc6rQaRDmagVxZ%2FOPo4uLnutavovvbFsbLAqtgPrE%2B16i2FIGwQE%2FA02pSN27EWSSuBCfXa4AVuww9iqxkm9xgbWhVu1YP"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40349d3dcf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:31Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["another", "test_group_x"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:33 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=daf962d1cb9a256c7375446da7685db8a1619214032; expires=Sun, 23-May-21 21:40:32 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "373",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a0911abe5a37f72ba8b4811fe2689e2d"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-vdcsm",
      "X-Request-Id",
      "644a40380da9cf9e-IAD",
      "X-Runtime",
      "0.178014",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40380da9cf9e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24677050000cf9e6b29e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=aQ40P8%2B30YfJRQLqtez3bvlyJ5n50qknaiCuWumAh5hG1jG6pbrTYNyZlStSH7KP0ZLO8WayCWbXb07mgOZGRZOOSYow9v%2Fts1XMFUtOOalR"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=b556fa3f71faf2fce267a4e420ad049c8b192ae1-1619214033; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40380da9cf9e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:33Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:33 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "372",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"7f45734b31ea62f6c895cccbdf3b98c0"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-wk5td",
      "X-Request-Id",
      "644a403aaafdcf9e-IAD",
      "X-Runtime",
      "0.294949",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a403aaafdcf9e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24678a80000cf9e8dabc000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Rb5sXW7M0fPbZgHdiDn3UBaiAWmubO1zPCZOVU%2FtkiluRg8h6z8wksnMmzBmhUbgyJxJyH6%2BdCqLDXiJ%2F8ZXVM7am95Ptab%2BAkOtquWAmBRG"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a403aaafdcf9e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:33Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:33 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "371",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"7f45734b31ea62f6c895cccbdf3b98c0"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-cjjv7",
      "X-Request-Id",
      "644a403dbde5cf96-IAD",
      "X-Runtime",
      "0.162433",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a403dbde5cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2467a950000cf963f3f6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=RtXX26qjoI0pILNCSaaCSkpxMd%2BHjQsD0ygrJK%2FQ9rZsN8xe8nn9OPnw9tZCIKcWH7vyqNroTYyHMWtT2oMp2pRhoNMzXKAUbHsXWbw8eAkr"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a403dbde5cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: { tags: ["test_group_x", "outside_grouparoo"] },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:34Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:34 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "370",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"79ba74d3cc101db387b11a628a056e0a"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-x9dcr",
      "X-Request-Id",
      "644a403fd99fcf96-IAD",
      "X-Runtime",
      "0.481035",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a403fd99fcf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2467be80000cf96be2b9000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=nGf3vQeBDvk5trajhiyuUqgP%2BX5m67py0LJ1QOW9sLSuKjIAodEuaoEj5%2F80YEETmDgpa8jue9pgLChjS4akNXK4TOAPiNcl12TxI%2B05KD%2BE"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a403fd99fcf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:34Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["test_group_x", "outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:34 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d4d22e715a55ee750f4bf594dc9a6744c1619214034; expires=Sun, 23-May-21 21:40:34 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "369",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"c5d6af5cf23cac83c86e696125ae22a1"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-qb798",
      "X-Request-Id",
      "644a40443b51cf9a-IAD",
      "X-Runtime",
      "0.187024",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40443b51cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2467ea10000cf9acc816000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=MDr601SM8QcnOrh0Y%2FcCLbe3Gkqi9vW2EFPfCM5DcS25qaFI%2FpequvUqyw0Sfr5uVVdPLP1tH2hRe9U6DAOorgLR3kFcBWCcJiN2XFvAVFiR"}]}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=6e1e77d159782c4d9f33112c2dbea572450468ad-1619214034; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40443b51cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["new_one", "outside_grouparoo", "test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:35Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo", "new_one"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:35 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "368",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"bc210ba301167605c42782d10bdeb5b5"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-l8nzb",
      "X-Request-Id",
      "644a4046afa9cf9a-IAD",
      "X-Runtime",
      "0.412750",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4046afa9cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246802c0000cf9aee1d1000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=IbEePRkHny5J8qr%2BW43vhQCdysA7NJVF1XQZZTKH21BUChJFGiX9Sk1OI%2FXny3qGqO0A%2BK%2FR3K9neVn8NvCUzr6KI6yKTOexyMuhdU7vBx4X"}]}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4046afa9cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:35Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo", "new_one"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:35 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "367",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"bc210ba301167605c42782d10bdeb5b5"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-c7dvl",
      "X-Request-Id",
      "644a404a6ca7cf96-IAD",
      "X-Runtime",
      "0.170240",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a404a6ca7cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246827e0000cf96cc815000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=stUKIQocmt9xDjcfA2ZgMkE0R56E0%2Fynxg2Hlt7QmYBEidB%2FKx1fmr13pKHNpzrefyZ5LG9HZtyT1xDPdpXTw1aLXs3s8g%2FVC8bI%2BBOg3zo7"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a404a6ca7cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:35Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["test_group_x", "outside_grouparoo", "new_one"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:36 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d6454bed1168a73c34a43886813028f451619214035; expires=Sun, 23-May-21 21:40:35 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "366",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4e66b3e3d610b497a45c09737e297042"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-c2bph",
      "X-Request-Id",
      "644a404ced17cf9e-IAD",
      "X-Runtime",
      "0.189571",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a404ced17cf9e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246840e0000cf9e838fd000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=vmRGiJvGJJ9oNaGaBWF%2BL8STKcOMUkFzBWIMuNU%2B4GkMQBYRz9%2BLfja%2B3nJxIqi6UfWjMu5lUkptb0BXK6uMpH2BZ80ewR%2FnHLNBGHZK9VDn"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=2403501551d7525ecab805ebed5c692687756a67-1619214036; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a404ced17cf9e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:36Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:37 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "365",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"64cd3cdf2e9b753d26e8f504dcb8e006"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-ghmzd",
      "X-Request-Id",
      "644a404f19b8cf9e-FOR",
      "X-Runtime",
      "0.372752",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a404f19b8cf9e-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24685740000cf9ea82b6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=IHXPtPcKpFb4GJNeo8qBPeAb%2F6x6QO0cXBuzCLzyJ0sSEfLmPTqSbB4cEu6y5Asc22Y4KkYmDG34Yr%2FRiAAghEAmfXbiHSQm0hN5NNH6kzkf"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a404f19b8cf9e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:36Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:37 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "364",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"64cd3cdf2e9b753d26e8f504dcb8e006"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-bv48r",
      "X-Request-Id",
      "644a4054a889cf96-IAD",
      "X-Runtime",
      "0.178465",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4054a889cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24688ee0000cf9667b3a000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=rca3eAem0f18Ha40gJBtzVjesBCmzaGYjFxa%2BjtGunUsqKoNOr2Ijr2xuroroeW99L9diTj9nBX2ji5WeFC3CILub4RLk0soZZ8DeX%2FuZu6r"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4054a889cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:36Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:38 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d79654313215dda2277110e97838e235a1619214037; expires=Sun, 23-May-21 21:40:37 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "363",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"8d43e2c18d9f618875535464cf4958fd"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-6q2zw",
      "X-Request-Id",
      "644a40575ec8cf9a-IAD",
      "X-Runtime",
      "0.184618",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40575ec8cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2468a9b0000cf9a25a2c000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=rAhN6frygsHhY%2Fpj4J15nyC7oofE%2FPkvLXlCu65ME2gyBfzOp6gn9yxuiO15y3cZp7EaiTSMJJWbp2tgzf6PNHDYA%2BeXR2S%2FwV40aOPycUZA"}]}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=6cbc52f403febca019ac3f25d501416e3158aa42-1619214038; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40575ec8cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "NewOne@bleonard.com",
      external_id: "testuser123",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:38Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:38 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "362",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"e051856637760fca807bfccd639f6af1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-9qklt",
      "X-Request-Id",
      "644a4059db86cf9a-IAD",
      "X-Runtime",
      "0.420625",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4059db86cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2468c290000cf9a23378000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=tHOMw%2FdDKogf8lwgqlXdYtBe9WERDysEcn8uvTm2i4zK2QpDXOvj0YfReqTEvAzwwqTR1roZWTaJ6K0GosUrT9zakGFnXUP5hsrBQYjjExCg"}]}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4059db86cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169/identities.json")
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414139249.json",
          id: 1261414139249,
          user_id: 1263460545169,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:24Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414234250.json",
          id: 1261414234250,
          user_id: 1263460545169,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-23T21:40:38Z",
          updated_at: "2021-04-23T21:40:38Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:39 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d2fbd10994af256c195a444a8bf1b68d41619214038; expires=Sun, 23-May-21 21:40:38 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "ETag",
      'W/"208684ef43f31949d9be3b9e28e9bdc3"',
      "Last-Modified",
      "Fri, 23 Apr 2021 21:40:38 GMT",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "361",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-9ltmz",
      "X-Request-Id",
      "644a405e4c99cf9a-IAD",
      "X-Runtime",
      "0.182240",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a405e4c99cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2468ee90000cf9ae224b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=G7zbYPqfi333%2F4BuBpFgWskjq5TJzw8An1VV%2BMVPaOFryMXntgFqCcz%2BHR0ElXJmerbByms0rQ4B4WbIGWnkmQmnrNOcysqo65y3WNXzUnaQ"}]}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=42fb1de1938993435d76c5c379b6530004d51978-1619214039; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a405e4c99cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put(
    "/api/v2/users/1263460545169/identities/1261414234250/make_primary.json",
    {}
  )
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414234250.json",
          id: 1261414234250,
          user_id: 1263460545169,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-23T21:40:38Z",
          updated_at: "2021-04-23T21:40:39Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414139249.json",
          id: 1261414139249,
          user_id: 1263460545169,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:24Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:39 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "360",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"05a253e4d4abee8ef74a4414e719b5a0"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-gwqg7",
      "X-Request-Id",
      "644a406098dacf9a-IAD",
      "X-Runtime",
      "0.242745",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a406098dacf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24690620000cf9ad0383000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hSQIRZbUHhkwDMzv4HBNHmXNiuyHgXV3MUwtN%2BGhbpkuY%2FXiPUN19S4cFCUYqBAZ8ntwgwz5uNXSP1A8EaQu9F3Hd77v6E%2Bb0rX7B4rJCoeF"}]}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a406098dacf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "newone@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:39Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:40 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "359",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"6c803acf4d8a9766df077128d6e2afe8"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-47rhv",
      "X-Request-Id",
      "644a40634a91cf96-FOR",
      "X-Runtime",
      "0.212735",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40634a91cf96-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24692090000cf966e098000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=HIyUcoZjHW3Nk2bUihHR5mr7aaRTAIYwvF9%2F3v58%2F59YJsr8gFadi3Lrx9Ae6dXP2BsdP%2F0zCESE2lZWm5j9avYWYU00HEdCtjISorI22n%2F%2B"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40634a91cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users.json", {
    user: {
      verified: true,
      name: "migratedusername",
      alias: "MU",
      email: "migrateduser@bleonard.com",
      user_fields: { text_field: "my text", checkbox_field: true },
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263460546049,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-23T21:40:40Z",
        updated_at: "2021-04-23T21:40:40Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: null,
        tags: ["checkbox_field_selected"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "my text",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:41 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1061",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "358",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"bcd16a96df001ff5ce315a915c95692d"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-47rhv",
      "X-Request-Id",
      "644a4067ab61cf96-IAD",
      "X-Runtime",
      "0.599304",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4067ab61cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a24694c70000cf96be0b2000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ueqckgOFzjg3O4jZEymC4f7VdmkgsjzUt1Hkbn9c%2FsM6q46M5xG2lpop3i26ADHvZhZTeh3P15k%2B3%2F4NsT%2BnsZo0ZvlNbWzRel1Pj8im0tvi"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4067ab61cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:41 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=db154e0993ac82c07ba8e080e50eef5351619214041; expires=Sun, 23-May-21 21:40:41 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "357",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-n8vch",
    "X-Request-Id",
    "644a406cdf2ecf8e-IAD",
    "X-Runtime",
    "0.145748",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a406cdf2ecf8e-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246980f0000cf8e05123000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ZM8S8b47Kwd8VwOtd4OOMbNb%2BA%2FSsfwxqqgEp15qXZzaWUn9PejgdjdujFC9%2FvaYuixDNZ7twWHu3%2F3Cr877pZcG5njdvTKG5MIRzVq8f7vg"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Set-Cookie",
    "__cfruid=cea169c773473498e3a9c07017aec3da133b6725-1619214041; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a406cdf2ecf8e-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      email: "migrateduser@bleonard.com",
      name: "migratedusername",
      external_id: "testuser456",
      user_fields: { text_field: "change" },
      tags: ["something"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460546049,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-23T21:40:40Z",
        updated_at: "2021-04-23T21:40:41Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser456",
        tags: ["something"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:42 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "356",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4ae799ec8be3a885d02bd9c6388f791f"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-gzbhs",
      "X-Request-Id",
      "644a406f1bb6cf8e-IAD",
      "X-Runtime",
      "0.447183",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a406f1bb6cf8e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246996f0000cf8e1eb7d000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=AzJoJ8m7O9Dmg1bD7jOnebnZ6uACn5IQmFDEGl7v4OxF%2BxuSIGTnDnGsIUwKNUy0J%2F1U9%2FfifxmsEbps%2B5zunTaEJnwZL9JgfE1n%2Fk5UgpYi"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a406f1bb6cf8e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460546049.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460546049,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-23T21:40:40Z",
        updated_at: "2021-04-23T21:40:41Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser456",
        tags: ["something"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:42 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "355",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4ae799ec8be3a885d02bd9c6388f791f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-xg26k",
      "X-Request-Id",
      "644a40730fb1cf96-IAD",
      "X-Runtime",
      "0.248497",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40730fb1cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2469be10000cf965a1d2000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=HUzzN5R3GbwbOksQX021NtXdFPNHmJ4gwDcAIDqr565qBatTHWfgWicnDy972qG0Oeml24cX4wwWKwhq3Su6zTkiXTfffNXTXtiVnrGJJNJS"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40730fb1cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:42 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d20e0e7d5a67b2aaea837d14b7e911c181619214042; expires=Sun, 23-May-21 21:40:42 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "354",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-42l42",
    "X-Request-Id",
    "644a40765918e08e-IAD",
    "X-Runtime",
    "0.158860",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a40765918e08e-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a2469df20000e08eb4121000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ZNx0LRnE6DG1qsoGYzyqa12o7aKiaI0ALkt1U0HUFa6Hqxli6p%2B8MH9Orl3T%2BwEwdsgrZ%2BWwONxo04eRAcSQ5HFlv7khcyqCQJpJ4vZ8rnVF"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=99005a093e84b3b3459a3616439b4cd4f4352dbb-1619214042; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a40765918e08e-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "newone@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:39Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:43 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "353",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4fa4a75199892d84085e6287ae725760"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-cmb9v",
      "X-Request-Id",
      "644a40786d8ae08e-IAD",
      "X-Runtime",
      "0.229672",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40786d8ae08e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a2469f450000e08eb5936000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=uau9ngXQ0TTKvON%2FTdnxuaTIFuXmjoJTBQoUEqiaHbcj%2B%2Fh2QqrI9nSjw7OptcNNVJetjoKWc0HcZRi%2Bfc0ZCSb4ZVCKg9jpuyRcF9QGyvuw"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40786d8ae08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263460545169.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser789",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "newone@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:43Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:43 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "352",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"f2807435767bcb34c593ecc27be327a9"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-cfnfn",
      "X-Request-Id",
      "644a407b0ae8e08e-IAD",
      "X-Runtime",
      "0.380637",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a407b0ae8e08e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246a0ea0000e08eb416e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=BPs6t6SwZ4P%2BQjHeG0lMXHf54bxrZI9mpP1zzO%2FWx3zRL2x991PToGo8CexRR2XxpJ%2F%2BDW1PnWHKc%2F28coLeU0xvXFY6GEmgjE4lDYwaTfDw"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a407b0ae8e08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169/identities.json")
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414234250.json",
          id: 1261414234250,
          user_id: 1263460545169,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-23T21:40:38Z",
          updated_at: "2021-04-23T21:40:39Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414139249.json",
          id: 1261414139249,
          user_id: 1263460545169,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:24Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:44 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=db140f218847479d787d3215cc32667831619214044; expires=Sun, 23-May-21 21:40:44 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "ETag",
      'W/"e5e78cab25854d9a056424b812b16744"',
      "Last-Modified",
      "Fri, 23 Apr 2021 21:40:43 GMT",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "351",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-wtflj",
      "X-Request-Id",
      "644a407ef839e07c-IAD",
      "X-Runtime",
      "0.156716",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a407ef839e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246a35e0000e07cdb0ec000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=EeFKo5303roNOdlZNT%2FtVT5rsEVvF1pavbUtAVJuPg2xQR9%2BSkwDYi93%2BW94r%2F1iCubHYX5pajSP1RXrm%2Bt%2F77Meq8Gf49qCRduUgLg6M6mC"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=35feff2ed35216234e966eeb3981ccd0ff0d29b2-1619214044; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a407ef839e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put(
    "/api/v2/users/1263460545169/identities/1261414139249/make_primary.json",
    {}
  )
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414139249.json",
          id: 1261414139249,
          user_id: 1263460545169,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:44Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169/identities/1261414234250.json",
          id: 1261414234250,
          user_id: 1263460545169,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-23T21:40:38Z",
          updated_at: "2021-04-23T21:40:39Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:44 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "350",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"8ec3d753630f5628de771ed02680a368"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-vb2gj",
      "X-Request-Id",
      "644a40811bd3e07c-IAD",
      "X-Runtime",
      "0.349474",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40811bd3e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246a4af0000e07c3a3a2000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=OyZfQJ1Qb4gODHQ4PlA0vMloAA3YHZt7AMnVi2y2ZJUMMwPR3ZeaMymw5RgTgXNyqiN0Cq4cEZIe7bMB7sPAvOz184b%2FFmpspSh1oKWae3P7"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40811bd3e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:44Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:45 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "349",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"823e2f9eb886d5d7511cb3f3232d3232"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-vjlt8",
      "X-Request-Id",
      "644a408488e1cf96-IAD",
      "X-Runtime",
      "0.174786",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a408488e1cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246a6d10000cf96a7054000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=khKbD%2B4L%2BbVU3sPzsXl%2F5C1l404RaaMC3n0NRpaEUalMJecnPhjevDR6HXMJbyVjSxY44N602ofIbO7baMQ6zZFhmvz2aZA1BH81CBQb2x1h"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a408488e1cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:45 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=dee25d5a9a82a2df2e3e5f38ba2cb45651619214045; expires=Sun, 23-May-21 21:40:45 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "348",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-7sn9k",
    "X-Request-Id",
    "644a40871e52e084-IAD",
    "X-Runtime",
    "0.159407",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a40871e52e084-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246a8720000e08437834000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=IDWICL0dXvmGBBKahegM8dRUoPFjMeq06iVNzhie6trLO4SvI6BBMv1%2Fy%2FTO7%2Fdad42fFXCVKc2gLK6eie1bqO5NwRVAKkEAVoF45XzISK1f"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Set-Cookie",
    "__cfruid=e1de864638696b785344a734ea6d3dbaa9eaf924-1619214045; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a40871e52e084-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      external_id: "testuser123",
      tags: [],
      name: "testuser123",
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:45Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1014",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "347",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"86adf6a34e2948be6470f1a02a4f245d"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-c2bph",
      "X-Request-Id",
      "644a40893a96e084-IAD",
      "X-Runtime",
      "0.309704",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40893a96e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246a9c00000e084bc1fc000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=dwPuG0c%2Bti1j0R3Dvc8j1oimsmLiDujl2g5LfFetxP1X3rthLhyMgM8752Un5%2FKbLnPxBFFq4NhaDJzcbgoQdwrHXt4leE4Vpwg4c9heRXoW"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40893a96e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263411511330,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
          name: "testuser123",
          email: null,
          created_at: "2021-04-23T21:40:45Z",
          updated_at: "2021-04-23T21:40:45Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: false,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "346",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"f7abedf1abee1f90892be6c483b650ec"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-p97hf",
      "X-Request-Id",
      "644a408c3f0acf96-IAD",
      "X-Runtime",
      "0.187702",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a408c3f0acf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246aba90000cf965b16b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=iTB1W60wQPySZhriS%2BHy9xRUkb18hw2N6o1H2Rytds2nyEPACxqdeGn3d5%2BeLx7waUiDS9jg1bu4SYGXrwcbOyNzuqi6kv9tqt%2B%2BBZ7KpeMZ"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a408c3f0acf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263411511330.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:45Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "345",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"86adf6a34e2948be6470f1a02a4f245d"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-gwk6f",
      "X-Request-Id",
      "644a408eabbfcf96-IAD",
      "X-Runtime",
      "0.164782",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a408eabbfcf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246ad2f0000cf96cbb01000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=jWTpPeyIeOo7JJNEmkj1PM0DEOtQQIuN5UeSlKaclrfwEdChGa5lVQScy8%2BlrwN2b1I9NuMDdu0zmYS0ul6WkWq2sz26kPrMMj%2B45pKPaHbs"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a408eabbfcf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263460545169.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:44Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:47 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "344",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"823e2f9eb886d5d7511cb3f3232d3232"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-sskn7",
      "X-Request-Id",
      "644a4090afb9cf96-IAD",
      "X-Runtime",
      "0.172897",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4090afb9cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246ae6d0000cf96cb1f4000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=OXwAhFOtq%2FXSgZWNtxfydic52N%2FNph2JqBxGoPpUkxHM%2BgQ6tsC8zNma6pWqLFKHYilS0A9bdp7WfY4CvhLu1%2FbIvKIb5iKp8ixhu5L5BY%2Fo"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4090afb9cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263411511330,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
          name: "testuser123",
          email: null,
          created_at: "2021-04-23T21:40:45Z",
          updated_at: "2021-04-23T21:40:45Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: false,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:47 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d939be3e82b7c1d6bbe3c858c9138954e1619214047; expires=Sun, 23-May-21 21:40:47 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "343",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"f7abedf1abee1f90892be6c483b650ec"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-x9dcr",
      "X-Request-Id",
      "644a40932b99e07c-IAD",
      "X-Runtime",
      "0.184611",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40932b99e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246aff60000e07c30116000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ZyLGXQcfSvyQ1n5rYWeDNIIPxDBEMlyKTv01ElwTdzIZsUpV9Sbiv8H93Pqcmj4tt1NC1q28UcO6uzOoXuJjtxL60XYFqmbVMQabIR4c5fw4"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=a4edfbbdb8fc8d73845a5c9b3ea8928d5f9db9ca-1619214047; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40932b99e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263411511330.json", {
    user: {
      verified: true,
      external_id: "testuser123",
      email: "added@bleonard.com",
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:48Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:48 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "342",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d64380bfd15982b7ecdae7e3499cf067"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-wggzp",
      "X-Request-Id",
      "644a4095b885e07c-IAD",
      "X-Runtime",
      "0.403458",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4095b885e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246b1950000e07c21bc8000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Eq17UX%2FonUh7FDIJrSK36yHcZa7WPVS4DQPnd63s%2FlXaPar1xfnBo6nB4W%2BJLX0toF7GGpekcBYpHM8jsjwzoEo%2Fx1DAG%2Fz%2Byh5pb82FHl9o"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4095b885e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263411511330.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:48Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:48 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "341",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d64380bfd15982b7ecdae7e3499cf067"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-x9dcr",
      "X-Request-Id",
      "644a4099a8b0cf96-IAD",
      "X-Runtime",
      "0.156364",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a4099a8b0cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246b4080000cf9698a19000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Prq1cvBhdXZcDfVzpVSTCM5Z9r3RScsOIcFjLn22KrKu66kYm%2FxKuTWaKP4dD7K0ZpUv5bt3ArtXE7UW5Awk4FXALv7MTR5YN5KNMs4jcTRq"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a4099a8b0cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263411511330,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
          name: "testuser123",
          email: "added@bleonard.com",
          created_at: "2021-04-23T21:40:45Z",
          updated_at: "2021-04-23T21:40:48Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:49 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dea2cc39fd2fbb8de3a07de663def4d7f1619214048; expires=Sun, 23-May-21 21:40:48 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "340",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d8ae9f29ac9bf565e2c41150b7eea0b2"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-ghtnz",
      "X-Request-Id",
      "644a409c2fa3cf92-IAD",
      "X-Runtime",
      "0.196853",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a409c2fa3cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246b59f0000cf927c3a0000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=5sdwyRA6ZTPty7UfjkzxxLRII6Hkvv38nW3LSx4s1Nfyj7mEJoeUptinKVOr3WzLiDH9%2FHv17AOp%2FjQ9Z1lRmfwSpGHIoPVEdhKq8y6gWhUm"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=c957c60ebaaa222e52660bee4675ca17e3fef963-1619214049; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a409c2fa3cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263411511330.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:48Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:49 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "339",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d64380bfd15982b7ecdae7e3499cf067"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-2sv6r",
      "X-Request-Id",
      "644a409ea9b8cf96-IAD",
      "X-Runtime",
      "0.182511",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a409ea9b8cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246b72d0000cf96b4029000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=loQ4ITe5S8yh6oe3ki3zYnb2JPm%2BZ2bHEAE6LVak35QKDS%2B0XS2f56wlPZAl2icaVcochkGx0YTst1UBWAxWIPetcpivSnc25OKrDFwmfDlA"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a409ea9b8cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263411511330,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
          name: "testuser123",
          email: "added@bleonard.com",
          created_at: "2021-04-23T21:40:45Z",
          updated_at: "2021-04-23T21:40:48Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:49 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d69e3f927af00a89d09e08ee5598cc5731619214049; expires=Sun, 23-May-21 21:40:49 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "338",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d8ae9f29ac9bf565e2c41150b7eea0b2"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-p97hf",
      "X-Request-Id",
      "644a40a14d92e084-IAD",
      "X-Runtime",
      "0.178861",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40a14d92e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246b8ca0000e084e8a8d000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hzHmtww5cMz5cN7Yg7BsFkh8JBjMbwTMv2h5518s3EMXZrnCM%2BQwzSfOIy39YZMP3Ri5fz5OwqJ1pTqdw8N6L6pkNTCbWhNtUsvcUqXBzHXG"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=c957c60ebaaa222e52660bee4675ca17e3fef963-1619214049; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40a14d92e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263411511330.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:50Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: [],
        alias: null,
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:50 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "337",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"1fcc7bc93ea942b320ef31ad632d0807"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-gk75x",
      "X-Request-Id",
      "644a40a399e5e084-FOR",
      "X-Runtime",
      "0.528074",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40a399e5e084-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246ba3c0000e084e308f000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=BqhrOTQItaumy8lzuF4JL82ysvLeqqsaqkEtEs1zZnc82QErNGX18QdIy23Tf3fs4qCADIRnJqPEhv4chU%2FK24BMAxg87%2F8i7MdMYEp8YxTW"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40a399e5e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:51 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "336",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-hs6lb",
    "X-Request-Id",
    "644a40a9ee89cf96-IAD",
    "X-Runtime",
    "0.253329",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a40a9ee89cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246be2f0000cf96b40b3000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=8Xez7A2STZ9qpdeWKcWIcfV%2B3YmlbmRGAvuxKEDZtoUZTvA%2B03MZJgid%2FoqlW2H4zZuxN21ZZoA5m1YCpwGVx9RmPiJyNZ8NNaWN4fNvGmUu"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a40a9ee89cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263411511330.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263411511330,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263411511330.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-23T21:40:45Z",
        updated_at: "2021-04-23T21:40:50Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: [],
        alias: null,
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:51 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "335",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"1fcc7bc93ea942b320ef31ad632d0807"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-9qklt",
      "X-Request-Id",
      "644a40ac9bbecf96-IAD",
      "X-Runtime",
      "0.176807",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40ac9bbecf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246bfe40000cf965a90c000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=lq8gmcyEnpjBPcxlRiI865m4PlrNQgvpQFxj8WDowOftghsih2%2FvIcrhvRuRypheBQsCTfw8IkP%2FUxUIETzslalFMf2VwXGyrBYVy%2Bmet3lf"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40ac9bbecf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migratedusername" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460546049,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
          name: "migratedusername",
          email: "migrateduser@bleonard.com",
          created_at: "2021-04-23T21:40:40Z",
          updated_at: "2021-04-23T21:40:41Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser456",
          tags: ["something"],
          alias: "MU",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: true,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "change",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:52 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "334",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"536f2fc30ec9319c789567b59bab6aa4"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-2sv6r",
      "X-Request-Id",
      "644a40aecfd8cf96-IAD",
      "X-Runtime",
      "0.223330",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40aecfd8cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246c13d0000cf969b23d000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=KWk91NP1ErbI5O6ZBdN0ArB9JtkQpcWlsfVVUa6T3GjkPtzOqWI3zYzY0CpmWXmwRo%2BwUc3ukvUynwTv3PpFwMbHlrcWnTYdwU83Vr%2B75nk%2F"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40aecfd8cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263460546049.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460546049,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460546049.json",
        name: "migratedusername",
        email: null,
        created_at: "2021-04-23T21:40:40Z",
        updated_at: "2021-04-23T21:40:52Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: ["something"],
        alias: "MU",
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:52 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "333",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"184bb8769dd7f432801abd5b6cae6b3a"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-f6zw2",
      "X-Request-Id",
      "644a40b13c3fcf96-IAD",
      "X-Runtime",
      "0.510404",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40b13c3fcf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246c2c70000cf9667bc9000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2BraGTSuqFwKeCka5z9u6d4VCoRJ8h1exOcozidOoPQjemrJ5Ig7%2ByVj%2FrwzJgfHcOGSFRmpsa7rzehpqCoZPi903ou35RxclJ15WOtZu2c5l"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40b13c3fcf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migrateduser%40bleonard.com" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:53 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "332",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-wsd72",
    "X-Request-Id",
    "644a40b58d6ecf96-IAD",
    "X-Runtime",
    "0.150251",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a40b58d6ecf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246c5770000cf966d2e7000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ppNef5%2FoXpKtP5Jl%2FFVFwarInl%2B3pGd2Z%2FT%2F2mhioIh5fbfiis1CbGjjorRwBlRqoJfB0cztdQ%2FZf7wIIy%2BtMhiBsMEzxRdUuXTcRe9ZsBGh"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a40b58d6ecf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:53 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "331",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-xll2g",
    "X-Request-Id",
    "644a40b778e3cf96-IAD",
    "X-Runtime",
    "0.139162",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a40b778e3cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246c6ab0000cf96b2334000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=R7S0srU7o81un4pEM%2Fgf%2BtJuFEAesAPXEud2OAxGMb%2Bk%2FBqB%2FeyRVLL%2FGk4lUUMZHFliAp2WMFun4elFxhMm9qeyGtvDHgwBN9r7mxIS46X%2F"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a40b778e3cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Fri, 23 Apr 2021 21:40:53 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.98",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "330",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-55bcdc64b6-88ghh",
    "X-Request-Id",
    "644a40b96cb3cf96-IAD",
    "X-Runtime",
    "0.140041",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "644a40b96cb3cf96-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09a246c7e20000cf96849f4000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=12WIpTyntVmChcsa%2BlPQko9ypF%2F9BIEvvQXMXR19zn9xhWy8LaZlwXbbt15sNDLF3Bxih4ZdGPL%2BK9h4hb6fI16jzCWzNGvFckA7hzy6up4d"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "644a40b96cb3cf96-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263460545169,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-23T21:40:24Z",
          updated_at: "2021-04-23T21:40:44Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser789",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:54 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "329",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"6a0ef10cdb76119c821ef6c9e8fc307a"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-sskn7",
      "X-Request-Id",
      "644a40bb9967cf96-IAD",
      "X-Runtime",
      "0.179983",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40bb9967cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246c9460000cf9685287000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=2ajoqiSWD%2BCau%2BZcj27Y16PM9ufCrr4XkYqlDrGrQE2KVj0QoprCoMgasRcEa95sfpugOuqDRh4Ur2ws2dk0gf9gPsC01%2FIYR0ihr27RjnUq"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40bb9967cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263460545169.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263460545169,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263460545169.json",
        name: "brian@bleonard.com",
        email: null,
        created_at: "2021-04-23T21:40:24Z",
        updated_at: "2021-04-23T21:40:54Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: ["outside_grouparoo"],
        alias: "",
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Fri, 23 Apr 2021 21:40:54 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.98",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "328",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"b92ca5e8efccd4df07473ced3491eca2"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-55bcdc64b6-xg26k",
      "X-Request-Id",
      "644a40bdde58cf96-IAD",
      "X-Runtime",
      "0.509476",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "644a40bdde58cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09a246caab0000cf964437a000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=PxVExmUlXdJLNcPzhiHtnWH133XUBEIjyvKA6LCgJsXNAGniQeHcR%2B%2Bo44dNK1osUOwuB0c1UzsWTfRxQS%2FuCxXHITK%2BM9p0AJ2%2FqFkFLHpL"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "644a40bdde58cf96-FOR",
    ]
  );

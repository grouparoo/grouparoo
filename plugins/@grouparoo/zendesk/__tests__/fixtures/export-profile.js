const nock = require("nock");

nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migratedusername" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:31 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d3287f9c33efd0b792b69eb05a275c64f1619043991; expires=Fri, 21-May-21 22:26:31 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "399",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-vb54s",
    "X-Request-Id",
    "643a08d08e1be092-IAD",
    "X-Runtime",
    "0.254138",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08d08e1be092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823d6530000e092d0363000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=xrFGipM5isitBMlIcp%2Fo83U8i1ewF5I%2FtgEJzZrbJhtTBlPO8iCQRpfYuMb1rIla6rIPXSLH%2Fx9M6nppYMRKEAAz1nyPwqr9Z7aZJi0P9oVX"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=33f4f45053ff367c6a8a11aa3ccc857a129af9d1-1619043991; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08d08e1be092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migrateduser%40bleonard.com" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:32 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "398",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-7hn6l",
    "X-Request-Id",
    "643a08d4ffd6e092-IAD",
    "X-Runtime",
    "0.160897",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08d4ffd6e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823d91a0000e0926e9e3000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=TBI9Ny4TUaEDMMneuloNFiyK7FWyMg7Hwi%2FGYL%2BA0NTOFi6uNuGMZFL%2FI8FU7dtuZDL5dlUD1xpBNq2D2CWtZtwwnxkBh6eYxgHDrVOIFl16"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08d4ffd6e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:32 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "397",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-kmf2d",
    "X-Request-Id",
    "643a08d73cbce092-IAD",
    "X-Runtime",
    "0.150139",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08d73cbce092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823da820000e092ed177000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=h3MD6HC48Jj2nJbAQfmq%2BslkCF1xUEiJnqfIgw6zaXdg2AmDshLJNfzlbANXDtncWDmziHzsdLo6LGdFfkV8yENaY39ZT7Mzp97%2FI97n5OOF"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08d73cbce092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:32 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "396",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-cj87c",
    "X-Request-Id",
    "643a08d94894e092-IAD",
    "X-Runtime",
    "0.144522",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08d94894e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823dbd10000e092c335c000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=tmai3gba7sxWAh6HLkNJQQhsvIFxYW1JwTEFvcIawLVT7TSgiXcCbR4qjfu4zxLVQTqrfSBS7LZhsho71cMso60eXMxxnaHpi69r5%2FDWEn65"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08d94894e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:33 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "395",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-kcg74",
    "X-Request-Id",
    "643a08db4c9ae092-IAD",
    "X-Runtime",
    "0.153627",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08db4c9ae092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823dd0b0000e0926ea43000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=E2ngKH1%2F28PzGhzF2Wge9Kcd7uTQmTrNqmrNv%2Fb8MSzkUjgTMxF7QqtYdN4DXIxjCBPHCd18em9r927USBZsXcJ67TRhuXh%2Bcgd7LM%2BZJTgd"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08db4c9ae092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:33 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "394",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-8dc27",
    "X-Request-Id",
    "643a08dd585ce092-IAD",
    "X-Runtime",
    "0.170975",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08dd585ce092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823de550000e09285afd000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=GBFc67Mhp%2B8cIk9rTYAvhfWn%2FfYlGBxuK8RVthkhaHKBHeSDFOGEgzPbuwRBZDIHnm5OhaS43UVHfbfOw%2Bcx1is6DLVnfaI7g%2BOM5kcd%2BF0Y"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08dd585ce092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:34 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d63f20eb4edb2580c5b220d245e8f310b1619043994; expires=Fri, 21-May-21 22:26:34 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "393",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-m6spt",
    "X-Request-Id",
    "643a08e4f924e092-IAD",
    "X-Runtime",
    "0.215337",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08e4f924e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823e3190000e092868f2000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=CSjbE3Ztw5fUj1YCsitZbMrFcYMM4k1D5Z9HIm3GuFoy3%2Fo1OdTLRLfhhAbnE%2B0YiQk6fza36oxYvEcYFIctl3jhJhzdxZZg6Kth07YqCjgn"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=10388589e750be3c3f79123cca0f134f6f797d60-1619043994; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08e4f924e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:35 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "392",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-7zzf7",
    "X-Request-Id",
    "643a08e7bebfe092-IAD",
    "X-Runtime",
    "0.173013",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08e7bebfe092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823e4d10000e092f42a5000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Sg3HmIzVapGcIK3IL47hKc0oY2I697fzLeHCc%2BgvylxLtI3kciYxgpOlej4Pp%2BB5qULSmTzupJyXfSWzUqgBl72jlAS8yPyP9YFK3gxP6e6H"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08e7bebfe092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:26:35 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d402b96498741b272868150c895b52fdf1619043995; expires=Fri, 21-May-21 22:26:35 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "391",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-s9kdq",
    "X-Request-Id",
    "643a08ebfbe2e08e-IAD",
    "X-Runtime",
    "0.161706",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a08ebfbe2e08e-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099823e77d0000e08e4a2ef000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ZeJGxm6abQviWW4uWm%2Flk%2F3V%2FcQlAlP0aqZYjErCANgUkqmBEYkAVz0tfaccV3cmnIpVDkCi8t3reV32%2FQcwZm6TibdtoSCjHWC%2FauqWh3iT"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=ff09874ad46244bb3b09eca54c097348d9fd83b6-1619043995; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a08ebfbe2e08e-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Brian",
      tags: [],
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:36Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:36 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1023",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "390",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a5f60ddde97e34dda79fc261dca12cbf"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-vcmdf",
      "X-Request-Id",
      "643a08ee4903e08e-IAD",
      "X-Runtime",
      "0.459428",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a08ee4903e08e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823e8e80000e08e8b1f4000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=JAuafVyFsSslRNwqTSwjkyfxsXHtwFQ0n3vEr9tHc%2BQ1gfueG2uhFS3y0diMg3D9UC6GAG%2BbwyOus4y9M99qfbVb0eo9LjoAoBzB%2FBR8DtJJ"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a08ee4903e08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:36Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:37 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "389",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d271abf0d3159ea60a833488bf487da1"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-xzct7",
      "X-Request-Id",
      "643a08f439cde092-FOR",
      "X-Runtime",
      "0.164742",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a08f439cde092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823eca10000e092c30ef000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=58m411TQVJttWFduGsjPRowgzTkUs9zdXzWGtyB4dIg%2BWMLtY%2FKFnTPPlnvAfxoneK0LCG3Nr4dLuUEnuaMEMgoCW5jjCDAfU8EqaQgY%2BF1r"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a08f439cde092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:36Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:38 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "388",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a5f60ddde97e34dda79fc261dca12cbf"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-wnnc4",
      "X-Request-Id",
      "643a08f8ebede092-FOR",
      "X-Runtime",
      "0.232980",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a08f8ebede092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823ef900000e092e31f0000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=cg7odyjcEWiyQlaJ4Jq0XQ38yz7Cao7q%2BrzEkRRB2IVRwjurwW4lqGt9zZBLD1PnmbhqrRQkA7fksds8Zu3nFim3kVEfRT7qx7GhzhxVEmWs"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a08f8ebede092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:36Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:39 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d416ee4a885cab72d55f4ec985fad8dda1619043999; expires=Fri, 21-May-21 22:26:39 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "387",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d271abf0d3159ea60a833488bf487da1"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-jl94c",
      "X-Request-Id",
      "643a09027cf0cf92-IAD",
      "X-Runtime",
      "0.224488",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09027cf0cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823f5870000cf9225993000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=F1cHZY1eSaE38mK1B45s43N%2FLb3Qk2fDf85UK1A988I4edMcAx44Wb7ngtA8l6zYyc2Nv%2FDK8%2BYU2sewI66yX62ftEyVXVv%2BwVo3NGzfBUr%2B"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=36269679ded5fe2ddf4f7374091402733f9a4946-1619043999; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09027cf0cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Brian",
      alias: "BL",
      user_fields: {
        text_field: "testing here",
        date_field: "2020-08-19T20:50:04.000Z",
      },
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:39Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:40 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "386",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"20c53d2a7de3c3d61b787a7cf8fffab1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-lxxzc",
      "X-Request-Id",
      "643a09054aefcf92-IAD",
      "X-Runtime",
      "0.411387",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09054aefcf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823f74b0000cf92c6b90000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=LfTL5QOcRRCsQbF8ps3Jh7F1MpHBPSWeprSDG6FXOyNDdMr0ic%2Bogxp0EVq1M8o%2BjrwTyvT5QtxVhQgnGg2cUlLmmH5ql%2BZp%2FpQCbRe3P91r"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09054aefcf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:40Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:40 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "385",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"71ec5faacfcf55d9bd477d984e35d269"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-nlgjn",
      "X-Request-Id",
      "643a09092a9be092-IAD",
      "X-Runtime",
      "0.211405",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09092a9be092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823f9b60000e092b5388000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ZcEYnjoJ2GMu97%2FmVycN%2F%2Fd56l4AcFWgDKSUxwlp9eSuxKrh77J5TCwVEx2o%2FGvab26XkYs%2BMzslA%2BI4XEOcr%2FnzH0%2FRpKYwNLgj7UVlro1Q"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09092a9be092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:40Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: "2020-08-19T00:00:00+00:00",
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:41 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dfc06d75289d0c293670da8bb417f49391619044000; expires=Fri, 21-May-21 22:26:40 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "384",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a10af0132c17929c9d30f326e6357b81"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-wpvj5",
      "X-Request-Id",
      "643a090c5fd3cf8e-IAD",
      "X-Runtime",
      "0.182626",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a090c5fd3cf8e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823fbb90000cf8e168ff000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=9VoqIuux6Gbp6rFjgP7I10Dwj1cGrs05KMFU5AtalmFjHHyQoQ5RCoTHvYz1zi036cg1BgsF%2FchAaW2d2hl7SnC%2BWULlUvupi2dmOXzLidVN"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=1164c0f7773a61075305ade7431710ccc85721e1-1619044001; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a090c5fd3cf8e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:40Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:41 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "383",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"71ec5faacfcf55d9bd477d984e35d269"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-g9dvn",
      "X-Request-Id",
      "643a090eaea6e092-IAD",
      "X-Runtime",
      "0.176727",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a090eaea6e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823fd2a0000e092b929a000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hq7HUT8xzRwzOEyOUSug4oFqZTiqsdMq0rfI%2FoQp0fofcY5hQ7LW5ZOEi6V%2Ft4wuGnIhiGTUarZZ8QJlwCS5D3QqMXsIPf19hb6bB12Wz0PN"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a090eaea6e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:40Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: "2020-08-19T00:00:00+00:00",
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:41 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=df2e5dbdd08cac8b7066233a9c390a6431619044001; expires=Fri, 21-May-21 22:26:41 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "382",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a10af0132c17929c9d30f326e6357b81"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-xm2m9",
      "X-Request-Id",
      "643a09116cb0e092-IAD",
      "X-Runtime",
      "0.181656",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09116cb0e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099823fee40000e0929ca5f000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=wNHIdac6oR7L%2BqZItDQBOvjjYINAzLKa32tff4JU38fua2WEbeKmapnq2XC90Ogo8lhAb97cQb1HPdBQr56jG%2FEW72yX7btK%2BqmGbo6mOlGC"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=1164c0f7773a61075305ade7431710ccc85721e1-1619044001; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09116cb0e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Evan",
      alias: "BL",
      user_fields: {
        text_field: "testing here change",
        date_field: null,
        unknown_junk: "ok",
        checkbox_field: true,
      },
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Evan",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:42Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["checkbox_field_selected"],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here change",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:42 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "381",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"15db7036d470040382c34f67fd700ef3"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-wpvj5",
      "X-Request-Id",
      "643a0913ea4fe092-IAD",
      "X-Runtime",
      "0.489967",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0913ea4fe092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982400740000e0928887a000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=53Y5NQar%2BAA428d6KjBLq90Y3tkCcdoVVBnE%2FxywMLiFKqqEH%2BZqvYBobF97hILJw4dn5gjJlBglSGcld1nO0rSrtNpbvCjk6bJ95FJdooqs"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0913ea4fe092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "Evan",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:42Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["checkbox_field_selected"],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here change",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:42 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "380",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"15db7036d470040382c34f67fd700ef3"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-jxc8f",
      "X-Request-Id",
      "643a09183cb4e092-IAD",
      "X-Runtime",
      "0.183709",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09183cb4e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982403210000e092d03a9000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=BNXRXYed4IC2MqxYjjrXL%2B0EI%2F5WOt1Zwasd9w8%2FVbat7Y9edQzT4XbS3%2BEr8IRqSvOQLHy%2Fe8%2FvSRAAg7454Su5BNljTC6DePhZP5LU%2FVVF"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09183cb4e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "Evan",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:42Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["checkbox_field_selected"],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: true,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here change",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:43 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d139717996d17d6f4c9d89a10c131106b1619044003; expires=Fri, 21-May-21 22:26:43 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "379",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"15cea97fc0007064ea5100a64ccce405"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-5js8f",
      "X-Request-Id",
      "643a091ceaebcf96-IAD",
      "X-Runtime",
      "0.182255",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a091ceaebcf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982406130000cf965e181000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=aR1d33cK3fqeVWXQsh5FZ80ANfLhFrFk0WyIj5TaPLybDAIMMho8cJm8%2BVK6rewVVlxckwkSzSYdjU7zxXxF6vz%2B4pvp87rLxYPOVwVu%2BQXS"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=c03bf46a81b0e7d603e6667f16aff691e8451371-1619044003; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a091ceaebcf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "brian@bleonard.com",
      alias: null,
      user_fields: { text_field: null, checkbox_field: null },
      tags: ["checkbox_field_selected"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:44Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:44 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "378",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"26dd43aac87524038f3f61576f06ed75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-9j8gx",
      "X-Request-Id",
      "643a091f684ecf96-FOR",
      "X-Runtime",
      "0.352523",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a091f684ecf96-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982407a20000cf960180d000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=3Bk1RtaxhrNONmI%2FKVmpFTFY4VQtDhX0cKZ%2FtkKQXdnswIR63PjWjIca4R1%2FeQ8EGTX6YsOpeeJrb0tiQ6zGhi1%2FfqnJ9JDjdaG%2F%2B83QcPEX"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a091f684ecf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:44Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:45 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "377",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"26dd43aac87524038f3f61576f06ed75"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-sjxf9",
      "X-Request-Id",
      "643a0925cfefe092-IAD",
      "X-Runtime",
      "0.183682",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0925cfefe092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998240b9e0000e092889a3000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=St5ODO4RWo7xaJCjrXMtDnVkPrycWTNB8XDIHerE1SvIXLr1rBsuZbVJFFiR6E%2FzdNnSDaIkdaiw20oLxJYaLD6jn%2FKJGcX2iKJDQELmmY4q"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0925cfefe092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:44Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d9d1a7b3413c0aef59a977718c0e125ea1619044005; expires=Fri, 21-May-21 22:26:45 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "376",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5162ba7a76bb46cb5ceb332e62cc1c97"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-v7tp4",
      "X-Request-Id",
      "643a092b9b14cf8a-IAD",
      "X-Runtime",
      "0.175980",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a092b9b14cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998240f420000cf8a7a995000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=GnEgiR51bgcgUota%2Fojw7RvJCQsYpWZdPW5Rv%2FGbykfEIzJBsnIvVTSVSdyQQUuwcG4RVIcHPfsirqBRR8PEA3%2FuVS4ng%2F6Mjqgw5HiDurMh"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=53f9e2b79f1f6f4ada605634e22dee45066beba3-1619044006; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a092b9b14cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["another", "test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:46Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["another", "test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "375",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a8a3aa02180f88a41bb769fe3bf13ee6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-d8ptf",
      "X-Request-Id",
      "643a092dfff7cf8a-IAD",
      "X-Runtime",
      "0.392079",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a092dfff7cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982410c00000cf8a8d889000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=n3v2jNQw0%2FtnwHvSKs4I8%2BcLvfd2bkMHKc4sx4rRRpShdWi5EGnzAwuHA31J0BLiaBsm4vpuGYGc1CWUoWAvR6M3bun8q9XCb2tpvSjSuzWe"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a092dfff7cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:46Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["another", "test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:47 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "374",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a8a3aa02180f88a41bb769fe3bf13ee6"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-d8ptf",
      "X-Request-Id",
      "643a09331b7ee092-IAD",
      "X-Runtime",
      "0.159783",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09331b7ee092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982413f00000e0926eb73000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=VSgvq1So628%2FWhJvy5EHTdHmNJ4QdIL4ikp10rMEklIC5eH3OQOGf7P7vHedv6vD0dLj%2FsgnkuMaj2tEy9fIkzRPIkWWVStz2ie1OxRQr8Xf"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09331b7ee092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:46Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["another", "test_group_x"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:47 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d9a8b7224b7730c721385184d867e33161619044007; expires=Fri, 21-May-21 22:26:47 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "373",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"2e16f18129dfe1d38e0d7f25507f6fdc"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-vb54s",
      "X-Request-Id",
      "643a09378e39cf8e-IAD",
      "X-Runtime",
      "0.179246",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09378e39cf8e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982416b30000cf8e39839000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ArrKL8nMrCngQFHAkKWDUcMhT%2Fq8aOnYqmVZ2tmv9A3wRgKEo1IOAUO%2B931M312Dp%2BcApy4y5lLh704Gjw70tXsW6ow%2BQNV43RYR%2BvA%2B3z0O"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=dd697228ec737fae6cd0dc953fffae754ee0db7e-1619044007; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09378e39cf8e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:48Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:48 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "372",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"947ce75b71b090e1b89a0acab92f2f99"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-8tktt",
      "X-Request-Id",
      "643a0939ba72cf8e-IAD",
      "X-Runtime",
      "0.329137",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0939ba72cf8e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982418110000cf8e658b3000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=LQ8zMPPz42N70PYCfd7%2FtCimxxFqrX7OPhMRNmG9gR97MRxop%2F3dn%2F1XF%2FPkGUVn9s1XvzKQH8T5IiNKexenKnantKI4l1k0fwLnjyhf5hVP"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0939ba72cf8e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:48Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:48 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "371",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"947ce75b71b090e1b89a0acab92f2f99"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-2qkpn",
      "X-Request-Id",
      "643a093ce931e092-IAD",
      "X-Runtime",
      "0.302787",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a093ce931e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998241a140000e092858d6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=72e1QzwbsAwPlR7xT7kfU5jggHTx7ePSOw89BX2c%2Fcz2R8f3WgMHpJkUABl8cblyYAcanr8o0zYrabAw%2FAxILBW0oepk8dgH72JGOHtHoSB7"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a093ce931e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: { tags: ["test_group_x", "outside_grouparoo"] },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:49Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:49 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "370",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"78b715ec2171553183c7a103323cce40"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-hgzh2",
      "X-Request-Id",
      "643a0941ab2ee092-IAD",
      "X-Runtime",
      "0.275951",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0941ab2ee092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998241d0d0000e0928da36000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=WvUUSpIph8Q%2BhZiWvxz7SbD9DLFnb3UqU72agzqDneYmzYOvoxrJzKUZGt%2FHV9Hqdeh%2BuL%2Byf65955xqqL5Ke0V2cRNrS9GKNpUkC1uNZnpd"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0941ab2ee092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:49Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["test_group_x", "outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:50 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=db7aad576d00424b214bdf60ebbd2d7231619044009; expires=Fri, 21-May-21 22:26:49 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "369",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5037680004995060a6ed5f7c52ddcf9a"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-j9gs2",
      "X-Request-Id",
      "643a0944eb4ae078-FOR",
      "X-Runtime",
      "0.241909",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0944eb4ae078-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998241f130000e078d52a1000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ra26p9%2FrCHbLHhJMJqohSBM%2FPI5DxjVAzzXYFEKv6f1vBmaOjps7qtCCbfQmc93AuyE1v5j%2FRHKrfubQQo%2B38BxtykuxKKqMlUNFDU0CqeDl"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=04e16d6f3d3850aec463b5dbe6b881ae3e6c9fae-1619044010; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0944eb4ae078-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["new_one", "outside_grouparoo", "test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:51Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo", "new_one"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:51 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "368",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4227979a087fbe7d8a5563b03961b527"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-jl94c",
      "X-Request-Id",
      "643a094b1ee5e078-IAD",
      "X-Runtime",
      "0.314561",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a094b1ee5e078-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982422f40000e078b7115000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=L%2BQWl6edO3%2FVB0Wn%2F%2FzHEQmrnJEqlzZEHOEHFetuZrfmXSeDrDUIA6WX%2BztqZXXMPY0bdzW%2B3pQoxt4PHMGgDi5f7X1%2BBsYsbftVbzYqYnn%2B"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a094b1ee5e078-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:51Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo", "new_one"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:51 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "367",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"4227979a087fbe7d8a5563b03961b527"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-7zzf7",
      "X-Request-Id",
      "643a094fca81e092-IAD",
      "X-Runtime",
      "0.184912",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a094fca81e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982425df0000e092d8bcf000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=9MAIL%2FF2N7NI03jX2Mm4W8jQnCBBVa%2BjrBIlUEh%2BFpoHo5kc4uSFadsmW%2F7DJL5H64FhNbGOjOmJQKE25zQssHYnHyoR8kY%2FWBp%2BwGqZGS7L"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a094fca81e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:51Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["test_group_x", "outside_grouparoo", "new_one"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:52 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dd4f0b659f37fe47441f5e6de1efff4281619044011; expires=Fri, 21-May-21 22:26:51 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "366",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"f18478fa33359a374bf7244c616217c3"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-rntmd",
      "X-Request-Id",
      "643a09527b31e084-IAD",
      "X-Runtime",
      "0.173753",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09527b31e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982427930000e0843894e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=mpLMnz4TPjsQry2lmz9U6T2%2B1oLrY%2FZXXWLWGlbyi3VyVyQfhU34Getp7lGCXRQtifcFn0Ui9bf3HhFoh%2F3kyxY5b%2FTmIA8BlCadkuwlSEuQ"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=de1503fab5ee40a4668b72da670784ec30888c52-1619044012; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09527b31e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:52Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:52 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "365",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"bb42f668608ae226c58b93f68f7ea92f"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-xf729",
      "X-Request-Id",
      "643a0954dfd7e084-IAD",
      "X-Runtime",
      "0.356935",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0954dfd7e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982429040000e0849f2ce000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=tvJ7A880%2BgzcQ%2BrS3pQ%2B97NJa8j%2Bcjd%2FfFdAvHm5RXnPlb7Fw9XePk7aVXD%2Fau18jODNdQ%2Bh3hNBRLvJx%2BqZZBCbnqdHgOb21v8eDL9EwTJX"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0954dfd7e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:52Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:53 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "364",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"bb42f668608ae226c58b93f68f7ea92f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-5js8f",
      "X-Request-Id",
      "643a09585c54e092-IAD",
      "X-Runtime",
      "0.177873",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09585c54e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998242b360000e092ed0ff000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=rJqvVW056hyhNB2iSh2eTErMd1Ih0R1TYYb%2F0RoQksCyl2VKzGag9SzregymhAeY%2Fuz9kCUoteU0VKEtTe0OZ8hM8qBR2tM9G8mcQ%2BPGnfcP"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09585c54e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:52Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:54 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d10776f25cfae438af5c4862630b4c99f1619044014; expires=Fri, 21-May-21 22:26:54 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "363",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"9e2b7b458671ad8d13728a83d3591650"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-6t7qh",
      "X-Request-Id",
      "643a0961b8d9e07c-IAD",
      "X-Runtime",
      "0.173687",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0961b8d9e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982431150000e07c77112000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=8OYU3NYxa2tZAo8%2BK4zm4EEDs45kd1gSJjxNAru%2FCSRg6%2FBkqcXKsbJOXHRZnxSI5pxXozEjFGBu64SidL7goO2bQX40pADhXsmc53z%2FOYZg"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=eabd88f25ccccc45dcff4250b4db79b773c53faa-1619044014; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0961b8d9e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "NewOne@bleonard.com",
      external_id: "testuser123",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:55Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:55 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "362",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"e7eb429e1978ddf35c3d711067f7cbb5"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-pqn5b",
      "X-Request-Id",
      "643a09645e66e07c-IAD",
      "X-Runtime",
      "0.370223",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09645e66e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982432b50000e07c5b175000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=LMkEItat32BHxdfULMmsRO7XfgM0%2FYpep7rjl97K2zMsYB4yqGgTm3Yw1DjgmeFSuYf4AOCLF9XpYymm%2FTi1ZcTMuNQAf7K6F6pIAcuBdRD1"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09645e66e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989/identities.json")
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261402531569.json",
          id: 1261402531569,
          user_id: 1263422768989,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:36Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261403333690.json",
          id: 1261403333690,
          user_id: 1263422768989,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-21T22:26:55Z",
          updated_at: "2021-04-21T22:26:55Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:56 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d84b1487d935de2e31e5192da8faf29f21619044015; expires=Fri, 21-May-21 22:26:55 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "ETag",
      'W/"6aa760d3373f893ee4c128874d9e19b5"',
      "Last-Modified",
      "Wed, 21 Apr 2021 22:26:55 GMT",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "361",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-ckv7p",
      "X-Request-Id",
      "643a096b1d0be084-IAD",
      "X-Runtime",
      "0.170271",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a096b1d0be084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982436f10000e084218a1000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2BzFyQcF9PWF4%2B7l6SmIx2ehqU4dCCqAGL%2BShtM97nAvdAYYRcXCsB44e%2BOPfavyaxEm8oP3OefbZ0mBuyerUW%2Bm%2BAHemLNCXdBy%2BgcBHKmoJ"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=e0b3b4497aabcb7c84cfb8cd8ac639e27b4b09e4-1619044016; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a096b1d0be084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put(
    "/api/v2/users/1263422768989/identities/1261403333690/make_primary.json",
    {}
  )
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261403333690.json",
          id: 1261403333690,
          user_id: 1263422768989,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-21T22:26:55Z",
          updated_at: "2021-04-21T22:26:56Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261402531569.json",
          id: 1261402531569,
          user_id: 1263422768989,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:36Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:57 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "360",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"eac2f3746fa623a7155276d4bc5fa7f5"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-8dc27",
      "X-Request-Id",
      "643a096f1e54e084-IAD",
      "X-Runtime",
      "0.266505",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a096f1e54e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982439770000e0847c045000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=tAoky4HvrKouyoUEYQkK7D1u9GZZFDBoKkk2nqyJosGlAzZ8q1lV8V%2F8ZJZBMjmXQuplrGcGluiJla7XiqietJnx7TGsP9GgY1slJn4nv2W2"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a096f1e54e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "newone@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:26:57Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:59 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "359",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5f4902a6e443dc7ac689c2721253f442"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-nlgjn",
      "X-Request-Id",
      "643a097daeabe092-IAD",
      "X-Runtime",
      "0.187821",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a097daeabe092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982442890000e092968a8000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Wn2lAEI8ZEAZWafHysHuavnS2%2FLxruuMsiJnC7%2BBIZbxutEL1YIghxx69LfG0eRLz2UZrKPcaGQRNffHvG8xPbkX0cBEzrgyk9MoLgvWGOyl"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a097daeabe092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users.json", {
    user: {
      verified: true,
      name: "migratedusername",
      alias: "MU",
      email: "migrateduser@bleonard.com",
      user_fields: { text_field: "my text", checkbox_field: true },
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263422770089,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-21T22:26:59Z",
        updated_at: "2021-04-21T22:26:59Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: null,
        tags: ["checkbox_field_selected"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "my text",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:26:59 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1061",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "358",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"b0aa23dbaf71c52434675754f2fbd33c"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-t542h",
      "X-Request-Id",
      "643a09815face092-IAD",
      "X-Runtime",
      "0.389182",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09815face092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982444d90000e092b528e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=je0HZqMBeFzoOW%2B2FO4HV8QCzvDL4loSnEMvR%2FhzWr5KpYKQOKQkB5ak9jF6qZRp196xPea9EsvJXQF%2BvTiRBhC7YztZz3UNUHdl7cLCs4nM"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09815face092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:00 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d2087c16c9556509d5483e058edb81c481619044020; expires=Fri, 21-May-21 22:27:00 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "399",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-8hmp5",
    "X-Request-Id",
    "643a09856e27e074-FOR",
    "X-Runtime",
    "0.150150",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09856e27e074-FOR",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09982447650000e0745002a000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=9OmyVTEoD6PvZ3Tao6%2Fk%2FFgS3t%2BpQKpuOtUpD%2F%2F%2B3fMg4cEkZWAMYYa1PFmnpqywKwYbz2hPH6mJ5Vr%2BbnGSkEY5XxcQzv4xIaMORbbF8sMf"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=8cef691eb65c3701ade76074066092a6b435084c-1619044020; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09856e27e074-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      email: "migrateduser@bleonard.com",
      name: "migratedusername",
      external_id: "testuser456",
      user_fields: { text_field: "change" },
      tags: ["something"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770089,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-21T22:26:59Z",
        updated_at: "2021-04-21T22:27:01Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser456",
        tags: ["something"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:01 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "398",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"adce0ec6f0a4da370f7cf5c2dddae3c2"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-8cp6n",
      "X-Request-Id",
      "643a09898f55e074-IAD",
      "X-Runtime",
      "0.364424",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09898f55e074-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982449f60000e0749cb01000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=s4QwkAoZuP1AnrDPM3v7Ywfg3MoHQDcWoQV3HN5jzBdQuLUEJivpwDZto%2BEXa3pxizu9oI65vnykT258IQ6UuCP8qwlbNPSSpGsnJa%2F8MFR7"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09898f55e074-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422770089.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770089,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-21T22:26:59Z",
        updated_at: "2021-04-21T22:27:01Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser456",
        tags: ["something"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:01 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "397",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"adce0ec6f0a4da370f7cf5c2dddae3c2"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-9cs5d",
      "X-Request-Id",
      "643a098d1a60e092-IAD",
      "X-Runtime",
      "0.186443",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a098d1a60e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998244c2e0000e092e996b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=4BcgRLglvdKKoTeUrhSPLgfT94jOeDsqlorRncbqm0B1rLP1dydkkuJHXNqjVnsCUWPsFCDy5GP4JjtmFcFMrjuZXUK4m8vwsT9%2B9T1ZXdgJ"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a098d1a60e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:02 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d4dcacb3c5d46f9fbc6f3cd91c81cac231619044022; expires=Fri, 21-May-21 22:27:02 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "396",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-t542h",
    "X-Request-Id",
    "643a09933f03cf92-IAD",
    "X-Runtime",
    "0.196104",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09933f03cf92-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09982450000000cf921c852000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=iXegHnAFGCSpyAipLljOIY9l0HKedPUmJvhUQfYwUyu7SxcnPOjB7DzmnhrHwBlcabn7YIMqlgXnzLXpQ5DLyGdKp5h0%2BZvuC2IZCDNh5R7D"}]}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=3f8a2a03853b8aba5420c48ccc69c4b88efeabcf-1619044022; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09933f03cf92-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "newone@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:57Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:03 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "395",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"a777a0e5b8d2b9a69179232b2a592aca"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-d8ptf",
      "X-Request-Id",
      "643a0997c9a2cf92-IAD",
      "X-Runtime",
      "0.189556",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a0997c9a2cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982452da0000cf929b0d8000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=sQdAtWTheNRZLnPiZlrMZrnLAPOTXy%2BTV5Pj4dxSy2rlukr4JKuHSnIXV9O5xuWOK9W9i8fybOr%2FAFBZp0m2sWDaExKihjh59mN5bepmTo4H"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a0997c9a2cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422768989.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser789",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "newone@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:27:03Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:04 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "394",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"cfce70bc10f252168abc5dc097aed568"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-t542h",
      "X-Request-Id",
      "643a099a8f9ecf92-IAD",
      "X-Runtime",
      "0.411190",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a099a8f9ecf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982454980000cf929b101000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=LpdFsatFkxqRv3QtLK5AWElJtQFmllrFUuAc%2FrULDHAVCaQ1Hp%2F4hq%2FQSspZxi3zrYwJBsPZGHxO5vjFf6o7NySE5y2Usc2EyVcosZAN7LMD"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a099a8f9ecf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989/identities.json")
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261403333690.json",
          id: 1261403333690,
          user_id: 1263422768989,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-21T22:26:55Z",
          updated_at: "2021-04-21T22:26:56Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261402531569.json",
          id: 1261402531569,
          user_id: 1263422768989,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:26:36Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:04 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d5ff5a98b665de6f72c917413e4016d591619044024; expires=Fri, 21-May-21 22:27:04 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "ETag",
      'W/"99ef8a3bdab8ab4f9ac6fa9cfb10bfd9"',
      "Last-Modified",
      "Wed, 21 Apr 2021 22:27:03 GMT",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "393",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-7974q",
      "X-Request-Id",
      "643a099ecbc9cf9a-IAD",
      "X-Runtime",
      "0.163658",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a099ecbc9cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099824573f0000cf9a26220000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=YfjNqcrC5Yr0vkVrW8cZtiVi35qy9dVn0tZpUhZ82yb8K9%2FYxKnGSJMvjy9%2BqD%2F7Lnnoco2c62zDE2eUEnYm5bXuT0enGRTInVrgpIT%2FJ2Gc"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=6cdd02e33556442f117106436232b372e046da85-1619044024; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a099ecbc9cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put(
    "/api/v2/users/1263422768989/identities/1261402531569/make_primary.json",
    {}
  )
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261402531569.json",
          id: 1261402531569,
          user_id: 1263422768989,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:27:04Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989/identities/1261403333690.json",
          id: 1261403333690,
          user_id: 1263422768989,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-21T22:26:55Z",
          updated_at: "2021-04-21T22:26:56Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:05 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "392",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"6c41becc7facb198e2ad6a89b3ea4e2d"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-l68j9",
      "X-Request-Id",
      "643a09a138e7cf9a-IAD",
      "X-Runtime",
      "0.289744",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09a138e7cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982458c40000cf9ababe4000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Ce9qgYi7YRDcmGQ02cOerwNH1r%2FOKRAkids1HqJCm68mEo7RS4KLNuws0HtVeTjlPy2Ipa5zxp%2FqWEwPONeHS5LVM9tQ8XiK9AOW5pMluOQ%2F"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09a138e7cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:27:04Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:05 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "391",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"53d5b2c28ac857696212afb75b1618f3"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-g9dvn",
      "X-Request-Id",
      "643a09a4af53e092-IAD",
      "X-Runtime",
      "0.204132",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09a4af53e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998245aed0000e092c33d6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Vkf8Wl7yFKpsDLTFJX6MCb3brRXAc6CshXn6whqpGXnWZ1AQ2mW0Fwv5dyEezBSsndvXuZh4t7aNjFbQd7efySZRg9RmExEe%2Bmsv%2BKy1pHY8"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09a4af53e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:06 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d063c617a1883dffd15842d49991f9bdf1619044025; expires=Fri, 21-May-21 22:27:05 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "390",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-vb54s",
    "X-Request-Id",
    "643a09a93ab1cf8e-IAD",
    "X-Runtime",
    "0.153466",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09a93ab1cf8e-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "0998245dbf0000cf8e6bb9a000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Jvsy2JtSDsDrTsYrCpV6eUJmUHYTZ%2F8XFF7OeYhpVN40ZJz4CVgi7lz9%2FIywD5vpeBXknr3s3Z%2F5BoSCCxhII3dyBZOtaMRYwRtkBJ%2FV7FZ8"}]}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=18542c9c203d0394b82c38624a3d54c27acd4620-1619044026; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09a93ab1cf8e-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      external_id: "testuser123",
      tags: [],
      name: "testuser123",
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:06Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:06 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1014",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "389",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"158fd3adcb27f52a7027752925292a84"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-c56l2",
      "X-Request-Id",
      "643a09ab9f15cf8e-IAD",
      "X-Runtime",
      "0.269987",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09ab9f15cf8e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998245f420000cf8e69bf8000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=cc%2Bt5YqjXW%2FEf2cGWXJ6xDwQf1DNkTzdLhHbaSVEi4Tk3iKoaIcjCv6rnZ%2F9C%2FtLose0ExDPmsbXUfN9DB9Jw3fH1KhYPdi0XtAaXo4zDZhM"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09ab9f15cf8e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422770509,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
          name: "testuser123",
          email: null,
          created_at: "2021-04-21T22:27:06Z",
          updated_at: "2021-04-21T22:27:06Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: false,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:06 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "388",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"2b0dff2ebf847ee3e7379c0a651ab389"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-7974q",
      "X-Request-Id",
      "643a09ae7e7ee092-IAD",
      "X-Runtime",
      "0.199524",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09ae7e7ee092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099824610d0000e092e0a4e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=xtkmoowon8IXIuo1xMVYEf4P%2FC0jr%2F6YHtetr%2BuAyh7z49XqV30we9QyMU5KRvJvfu%2BQuSmVeP0FXCHPpWFTNI2sLV0xyQwNCSNTm51e%2FT5I"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09ae7e7ee092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422770509.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:06Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:07 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "387",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"158fd3adcb27f52a7027752925292a84"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-v7tp4",
      "X-Request-Id",
      "643a09b0eba7e092-IAD",
      "X-Runtime",
      "0.176330",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09b0eba7e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982462940000e092b9031000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=PsqJDygzxGXZF5fCqFnmbC8t6HjhU6zOWsCpa7Lz%2FOH27smyVZkN1tm5ORwD2yXlNBgAv2NJrKKcLGkkK8aHu%2BAogtHm2uBOaW2yrjYBc69Z"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09b0eba7e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422768989.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:27:04Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:07 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "386",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"53d5b2c28ac857696212afb75b1618f3"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-sv8ws",
      "X-Request-Id",
      "643a09b30873e092-IAD",
      "X-Runtime",
      "0.175185",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09b30873e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982463e50000e092a81ec000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=SP8aGyWiV1JDV3KJrtkjZfS8LazEh6jX8Rlq3lgVPusbNI%2B2Pm%2Bhuz1%2BqclupZrnq1r0vd0sQaPnApKOaoakKbhHZsg1CyP1hkLMkQv1QDB4"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09b30873e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422770509,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
          name: "testuser123",
          email: null,
          created_at: "2021-04-21T22:27:06Z",
          updated_at: "2021-04-21T22:27:06Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: false,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:08 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d07098216592492adb9afdc21274e456f1619044028; expires=Fri, 21-May-21 22:27:08 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "385",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"2b0dff2ebf847ee3e7379c0a651ab389"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-jd82l",
      "X-Request-Id",
      "643a09b70b61cf92-IAD",
      "X-Runtime",
      "0.184062",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09b70b61cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099824666e0000cf929ca82000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=B0CpI%2FqzGQ0wV9QDtmshf5E7p2QOwbcaIPBX1nbXD6fgiszQ%2FqOJ5ZZL3Qw5cAyt6HV4a%2FQ0MWEUnE4uPuJwes0pULyqIqKSrgojENneEXfY"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=6eef96a96d8718f203d8bdbfea29b1fa57aa29bf-1619044028; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09b70b61cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263422770509.json", {
    user: {
      verified: true,
      external_id: "testuser123",
      email: "added@bleonard.com",
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:09Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:09 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "384",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"933561a1eeba4d08cf08e274506b685f"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-2qkpn",
      "X-Request-Id",
      "643a09b9d9a7cf92-IAD",
      "X-Runtime",
      "0.742941",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09b9d9a7cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099824682e0000cf92c123f000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=0YsG1%2BxUcAkHfKNW9VupKZ8ReM9UIEZlOuXY3QH4XJplqApws6Khp%2FIkWFkzMzydgar4Em9wta0UHax3MDa7ALPlJ68MK5AUPH0%2Fpkgmcb%2FR"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09b9d9a7cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422770509.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:09Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:09 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "383",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"933561a1eeba4d08cf08e274506b685f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-5js8f",
      "X-Request-Id",
      "643a09bfed4ce092-IAD",
      "X-Runtime",
      "0.159209",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09bfed4ce092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998246bf10000e09276195000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=vnM%2FU597nwPO9ouhhl6a03mWIrse5cdfFgNYmHvJ7KXczfh%2FmHOCiI2MBXDkAWkcKidT6E1mgvQJxpsk%2BzjAp6Pkt6UB0in%2FDMNU6OsGMweU"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09bfed4ce092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422770509,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
          name: "testuser123",
          email: "added@bleonard.com",
          created_at: "2021-04-21T22:27:06Z",
          updated_at: "2021-04-21T22:27:09Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:10 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=daab300d8c6e8711cdb81c56ab2bb7fa41619044029; expires=Fri, 21-May-21 22:27:09 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "382",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"224ec0f23beb107c2e15bb7d20804be6"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-kcg74",
      "X-Request-Id",
      "643a09c30c82cf92-IAD",
      "X-Runtime",
      "0.275521",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09c30c82cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998246de60000cf92f9884000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=CKog6tNnjUByQR5muwSjLc2O%2BXHfMlFchzCJIwirabb8Wv%2BqG3xP2vjmhJSy8bswojHhWcBxb0rsZSUOH11zUFHb%2FcgnjCe0jjNGass3DI8i"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=3b46e1f91fa49915a21f5b2869c8ab678243fbd3-1619044030; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09c30c82cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422770509.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:09Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:10 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "381",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"933561a1eeba4d08cf08e274506b685f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-7hn6l",
      "X-Request-Id",
      "643a09c62ac5e092-IAD",
      "X-Runtime",
      "0.168731",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09c62ac5e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998246fd90000e09286a83000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=clTbiJjJ6T9KcJExRb%2BkNCvJI%2FxZic1%2BdhU6JkzOj8c4%2FcF9ovqktFZI6mUBz5QPw%2B3sl7r3f0xmNa87Dp0VkfYK%2BJkA9saDIYRDK5WtH6%2FR"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09c62ac5e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422770509,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
          name: "testuser123",
          email: "added@bleonard.com",
          created_at: "2021-04-21T22:27:06Z",
          updated_at: "2021-04-21T22:27:09Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:11 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=de0883bc0d4759e6ed1c0130b1fced50a1619044030; expires=Fri, 21-May-21 22:27:10 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "380",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"224ec0f23beb107c2e15bb7d20804be6"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-ptclk",
      "X-Request-Id",
      "643a09c8f8e3e092-IAD",
      "X-Runtime",
      "0.171344",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09c8f8e3e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982471970000e092812cd000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hI2kFSxyTSSK%2BSbTaDHs9Ln%2Ff886RLJ0PKKDL0Iin7xfsO%2Fv%2FX3az5PK2Huk43frnBH5918p3A2FiaIJbcIz1XO0aTO2AA4ofPXwDylYeBTL"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=39223cc37050df89105fdb6dfea61c78ebbdd8c9-1619044031; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09c8f8e3e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263422770509.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:11Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: [],
        alias: null,
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:11 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "379",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"057f60da02439734ce3ca3475c99c6e1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-mfddt",
      "X-Request-Id",
      "643a09cb1e11e092-IAD",
      "X-Runtime",
      "0.387316",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09cb1e11e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982472ea0000e092a337c000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=E6UJtS2fKr0X8p%2By5NBNhsuBpFUcv4XPpO1fbhObDa%2FEzc1pXkXkXMSVH0guSd8irEb%2FRIPv2HYKB1M42dv%2Fhx6MXp4WtI86k4evqyEVjiOE"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09cb1e11e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:12 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "378",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-qjjnc",
    "X-Request-Id",
    "643a09cf1f68e092-IAD",
    "X-Runtime",
    "0.179535",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09cf1f68e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "099824756a0000e092b535b000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=mFBCUCU979pmvPPi30wBGVzUbIdJUkhVecZEUiUe0kmVr8MzIO31iP1TYq7kN71Lew2queaJD8g1OX3Ak84dp%2FbUJLPpWOVCDoN6eHTgXAf9"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09cf1f68e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263422770509.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770509,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770509.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-21T22:27:06Z",
        updated_at: "2021-04-21T22:27:11Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: [],
        alias: null,
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:12 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "377",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"057f60da02439734ce3ca3475c99c6e1"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-pqn5b",
      "X-Request-Id",
      "643a09d20e28e092-FOR",
      "X-Runtime",
      "0.166093",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09d20e28e092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09982477450000e09278007000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=jQCcMBqHVpnfxbwqqF39DbcqSafE4YwaJ8rOJqRQn3uLKjjcxDFQyPXSgiAoghT2uI9l%2Bxkw%2BOhG7hg1I3ri%2FmzaBLT0vFCsq4sXzKphGOw3"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09d20e28e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migratedusername" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422770089,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
          name: "migratedusername",
          email: "migrateduser@bleonard.com",
          created_at: "2021-04-21T22:26:59Z",
          updated_at: "2021-04-21T22:27:01Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser456",
          tags: ["something"],
          alias: "MU",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: true,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "change",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:13 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "376",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"320353d0421e3972ae904a1e63afbd6f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-s6ckb",
      "X-Request-Id",
      "643a09d67fb9e092-FOR",
      "X-Runtime",
      "0.195593",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09d67fb9e092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998247a0d0000e092d036d000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=wi9JN0QJcIoUknMllPObeyLfpKBBxsKo0H348B08d5RbMUpTjAlb%2FsgkqVMrPeXezcN8sW1gQxqBPInz8ISWlQ0HUjdCnTRiCx3H9zhBKAnB"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09d67fb9e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263422770089.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422770089,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422770089.json",
        name: "migratedusername",
        email: null,
        created_at: "2021-04-21T22:26:59Z",
        updated_at: "2021-04-21T22:27:13Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: ["something"],
        alias: "MU",
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:13 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "375",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0657e4409727966e9dc5da99a291331e"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-xkpr2",
      "X-Request-Id",
      "643a09d8bcb6e092-IAD",
      "X-Runtime",
      "0.435398",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09d8bcb6e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "0998247b790000e092b69a0000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=k1zm63xZBW2%2BriM8zkF%2Br1emzc%2FemuVr4BgLGuB2zvkHnI7WXtW1F5FkDalV66LS8YutxjUjlt9M4sD45mfYRq1QMH1aGZF9NYQ%2Ffz%2F8c%2Bs6"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09d8bcb6e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migrateduser%40bleonard.com" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:14 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "374",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-97g58",
    "X-Request-Id",
    "643a09dc8d20e092-IAD",
    "X-Runtime",
    "0.147579",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09dc8d20e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "0998247dda0000e092c78c2000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Kb8BBdH5%2FWztaoXFHtVjPJaZq0cenI7MQY7L5jF%2Bzh%2FBdFq8o6OcKL3B6BlqTANlq%2F4kFP8V0rPaAEgBPsraZwzNGW6NTVR%2FAbqowSdtZPm1"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09dc8d20e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:14 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "373",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-6t7qh",
    "X-Request-Id",
    "643a09de78f8e092-FOR",
    "X-Runtime",
    "0.172703",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09de78f8e092-FOR",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "0998247f100000e092a3080000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Jt%2B3sKLxKO28%2Flw8nAAIcZ7uYDP6O1xSf8a2iaKMjb%2FGyV0lC3zFH2j%2FRfekktaiHMLEAeYdHb2NHiRhAsIBZV2DUUckhNCRTa7%2BcQxVfGUm"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09de78f8e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Wed, 21 Apr 2021 22:27:15 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.94",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "372",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-5c6986f8ff-hzlqq",
    "X-Request-Id",
    "643a09e29a0be092-IAD",
    "X-Runtime",
    "0.155137",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "643a09e29a0be092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09982481a90000e092a7088000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=divVPTTphiFbXRVBlbBUO2%2BiLn6SEMvzYEmCYSgabgJTsVgqBKIQoTnip2HAeM%2B7o8MLN0XtgVBcrdYQfxf5XutvvOiAwDJ%2BSp7hTM10Sagf"}],"max_age":604800}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "643a09e29a0be092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263422768989,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-21T22:26:36Z",
          updated_at: "2021-04-21T22:27:04Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser789",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:15 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "371",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"e944eb6e824789a1bf62fb0cf959c68b"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-rntmd",
      "X-Request-Id",
      "643a09e4ee91e092-IAD",
      "X-Runtime",
      "0.167334",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09e4ee91e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099824830d0000e09285aeb000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=zjoO5hdBkDSY3XOxbjImU%2Bop2elWE2xRwzyPJiQu2FI3UHY4y%2F51WCXX3jnFCcBCzQ5OEmILbW8Z6M3bhM3JzWNIhRMiayQq%2F8%2FyOkW8%2F958"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09e4ee91e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263422768989.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263422768989,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263422768989.json",
        name: "brian@bleonard.com",
        email: null,
        created_at: "2021-04-21T22:26:36Z",
        updated_at: "2021-04-21T22:27:16Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: ["outside_grouparoo"],
        alias: "",
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Wed, 21 Apr 2021 22:27:16 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.94",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "370",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"b3edba4b27de37c0cf32a5be2750cb6b"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-5c6986f8ff-9cs5d",
      "X-Request-Id",
      "643a09e8e87de092-IAD",
      "X-Runtime",
      "0.433991",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "643a09e8e87de092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "099824858d0000e09270954000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=0JC%2FOpGQgHmf4swO%2BYlHqNph7EnUS0rUAFu5kcz2K%2FZCKw7CIYWWXT1cW8Y9OkJI7RmNSuKWIbfppdgLvMtCV0Ua7dgL0IcLBX8nJyC11hUq"}],"max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "643a09e8e87de092-FOR",
    ]
  );

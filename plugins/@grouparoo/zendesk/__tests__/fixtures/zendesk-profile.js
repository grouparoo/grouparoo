const nock = require("nock");

nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migratedusername" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:19 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=dea839f8a9155bca698500d13626ce0141619491998; expires=Thu, 27-May-21 02:53:18 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "399",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-rh68r",
    "X-Request-Id",
    "6464c2801eeae092-IAD",
    "X-Runtime",
    "0.337702",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2801eeae092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7e40c0000e092d6a7c000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=KZylB8QhrjYaJmRMgluCVAbMax%2BSTSMCvIj9dr6KgkRgdy6fMANXJWmlEqPh5169mCPvg7dIAhuZXh5JCf3KceZpiSYMTGvOAIuIw%2F0J0CNW"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Set-Cookie",
    "__cfruid=475d4feb310649bed56393d4d53a2128265e111c-1619491999; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2801eeae092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migrateduser%40bleonard.com" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:19 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "398",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-wl4g4",
    "X-Request-Id",
    "6464c2834c58e092-IAD",
    "X-Runtime",
    "0.155747",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2834c58e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7e6130000e092b636b000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=lM8qsNvrQdvb4fxNEopJor5O0b%2FYzM3RmqhqDG5Gw6AKet6mpA5lU5khwT837UOzGLzv%2Fpfv8xMrh3ApxNnUh7ZIagq6gqQ3%2FUzsf4u5Ip8e"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2834c58e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:19 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "397",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-9b28g",
    "X-Request-Id",
    "6464c2856fade092-IAD",
    "X-Runtime",
    "0.164093",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2856fade092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7e7610000e092a70b3000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=psIEdl3m8otjVwzhXLiog86XuDRSJ0hyE37DJ03WJt5xMdfALjR1CZvpmIp1XF2OH0lWWQTuRaU%2FXfZuM7bAUT97wd%2B4re8W1tSuZ6pRIr0b"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2856fade092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:20 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "396",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-857hx",
    "X-Request-Id",
    "6464c2877b05e092-IAD",
    "X-Runtime",
    "0.160392",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2877b05e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7e8aa0000e092de3f0000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=LO3bKFCS7PtllK9cYG0lDX%2B0Mhpqbmj4eN%2BYOlRLSFKWkoxHagKJ3pJ7m3bdUnYD9vN5U6baWik%2Fff0%2B3gvv48go5HpWDrxtxUf9WG7SHEmJ"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2877b05e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:20 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "395",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-hhdjz",
    "X-Request-Id",
    "6464c2897e31e092-IAD",
    "X-Runtime",
    "0.141485",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2897e31e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7e9ee0000e092ff169000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=zES3l5AOYKUSL%2BCZiTtSWjbSW3d3z4p4mDcBgx0XCphzJDXRnc94m0TBXc5z%2BJWT2xrkv8j1ZIFKhHHNIzhY6%2BJkMSnPbumZRkd5ULNFsbsb"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2897e31e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:20 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "394",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-hfnwt",
    "X-Request-Id",
    "6464c28b699ee092-IAD",
    "X-Runtime",
    "0.138409",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c28b699ee092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7eb240000e092ac1a0000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2B9tW8n%2BDwxcmDNL2rB9kPntIJQDCBiNSb6FoiYymgHvFkhNSWuZAQVrcg4w%2Bde%2BCXPun9Q6iHpieVhm7fS3zO2f6MBI5kCTde%2BfRY6%2FUYjY7"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c28b699ee092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:21 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=de42d8c035b4c77a1ce30a74986ef3d6d1619492000; expires=Thu, 27-May-21 02:53:20 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "393",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-fsg5r",
    "X-Request-Id",
    "6464c28ddebecf8a-IAD",
    "X-Runtime",
    "0.144208",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c28ddebecf8a-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7eca80000cf8a64a71000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=6MKlDFEHFm%2Bg70hiKQZqJnk%2FtLIbWHbVKm1h4V1LhwemFY%2FGTEHSUzJDzQn97kxZUbsqQvwZRfhaMLUSYGn%2BYA%2BfpMtBEwWphtbfUzbuiVs%2F"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=204ffa9579caa0bf5d29efeb0a4e949471a8238e-1619492001; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c28ddebecf8a-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:21 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "392",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-kdwbp",
    "X-Request-Id",
    "6464c28fe8bbe092-IAD",
    "X-Runtime",
    "0.137640",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c28fe8bbe092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7edef0000e092b10f0000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=3GmTFJ0kQEkVfIndh433XQwKTyUU2tLR%2BG9mq5iKU0jlAlSHLeuwbqoJBqe56VAK7NpZ9aAUrp8AtZ59fmqfnbjN%2BXF1MuAoxkeyHus3e8sw"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c28fe8bbe092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:21 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d33f65dd08ea15615899a8e184336457a1619492001; expires=Thu, 27-May-21 02:53:21 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "391",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-cjvbb",
    "X-Request-Id",
    "6464c2922ceacf8a-IAD",
    "X-Runtime",
    "0.156244",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2922ceacf8a-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d7ef540000cf8a002b6000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=d%2BLSc%2BQawprl%2BxuWdx93SarlVAgigKpOlpdqyp0o7%2F5lwqV65uD0wDvvs7ARIuAHynUhLq9d%2FnlHEp5JyATJqkt99TahbvkaEAagZQ4n%2BUIk"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=204ffa9579caa0bf5d29efeb0a4e949471a8238e-1619492001; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2922ceacf8a-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Brian",
      tags: [],
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:22Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:22 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1023",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "390",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"3539549bbbbc6ed8f8477d2cea7c69b6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-plbd2",
      "X-Request-Id",
      "6464c294286ecf8a-IAD",
      "X-Runtime",
      "0.516391",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c294286ecf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7f09a0000cf8a44110000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hyH%2FuBpq%2Fcka563smLNmFbEWNUX5MhM0LvVo7RabvuVr%2FKMex3L%2BKeO56Tw4Qep1OMvltW%2F9oRFW4PMtY7aYpZE16oKBkDXqVwr6mZd518JM"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c294286ecf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:22Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:22 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "389",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5a5701561d1c32a8117bb6d74af2e3ee"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-f2glk",
      "X-Request-Id",
      "6464c2988f58e092-IAD",
      "X-Runtime",
      "0.167507",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2988f58e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7f3550000e092fb816000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=HyL97TNf2pNzt5kfleH0DBruWt3VuirtFyYde862B%2F%2FwCtX4betNTR2s%2Bny0CV21L4mevYtU%2BgHbUSCgADfCjs%2Bo47v5fGt%2F2wFEhinWJ%2FlA"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2988f58e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:22Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:23 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "388",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"3539549bbbbc6ed8f8477d2cea7c69b6"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-fsg5r",
      "X-Request-Id",
      "6464c29adb0ae092-IAD",
      "X-Runtime",
      "0.315613",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c29adb0ae092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7f4c70000e092f0b50000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=JGHnHoafJpnzoE8OLMPYe0NPnS0VpVP5u8H1RTaboNsLPDUBnakCYzO1Icf%2BNNBfVh0J4Rdi7U0zxwqpXYl4QB0AUI0FFWzhplbPuXlFZizs"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c29adb0ae092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:22Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:23 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dfe3e579cbf35d05e9d689c827165eb871619492003; expires=Thu, 27-May-21 02:53:23 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "387",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5a5701561d1c32a8117bb6d74af2e3ee"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-52j2q",
      "X-Request-Id",
      "6464c29e3aeccf9a-IAD",
      "X-Runtime",
      "0.176362",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c29e3aeccf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7f6e60000cf9a49bef000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Q7VYvfCEjZydUj3WXvOqptbVjcVaqgxZIo1CUTeFdZeNQK1Ji54FHIk1UsJ23kdF8MXJFFpZn3HquZzkeoAsnL%2FnRygjV6%2FYkQcqkKLijPCr"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=5ff6b32d09d9be57703387ea1b58c4616fb12acb-1619492003; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c29e3aeccf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Brian",
      alias: "BL",
      user_fields: {
        text_field: "testing here",
        date_field: "2020-08-19T20:50:04.000Z",
      },
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:24Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:24 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "386",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"8401af20bc6f57b446973f0a183bf2a6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-j7pnj",
      "X-Request-Id",
      "6464c2a05e2ecf9a-IAD",
      "X-Runtime",
      "0.399742",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2a05e2ecf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7f83c0000cf9a6ea21000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=E9%2F6G34X%2BjvGmrWsKQzqL%2Fff%2BKdzv0eaSTZ%2BYVBpxztMYkFIjPZFGD4aGqqg8pOksqLwebjkdTzkXU258ruPMT6BAi3%2F5Q8LKYkLSDiJeVmc"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2a05e2ecf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:24Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:24 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "385",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"8401af20bc6f57b446973f0a183bf2a6"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-v78vd",
      "X-Request-Id",
      "6464c2a3e998e092-IAD",
      "X-Runtime",
      "0.172299",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2a3e998e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7fa6f0000e0920bb89000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hASlSLIKq5wK091ljLsipE2hEr7M%2BYxoBVZa8aPzDlFOWqsNLimakrS7ytZ%2FoZIRmqv%2FXlLmTF3nFTgbx9Xbig4x1mGm9wiUg19EMyJQvh%2BO"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2a3e998e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:24Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: "2020-08-19T00:00:00+00:00",
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:25 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=de81c39b94489de3a1b163bcebee5bc071619492004; expires=Thu, 27-May-21 02:53:24 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "384",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"90f13f5a76e111be023e5d9d5ba47de2"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-q6cxv",
      "X-Request-Id",
      "6464c2a6699de080-IAD",
      "X-Runtime",
      "0.167424",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2a6699de080-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7fbfc0000e08090b1c000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=dfQ67ajQukYq52lB7aNff%2F0v11C%2BfKYDU%2B7ocgPiauuebz%2BjvfGF0QSxO4G6zluIXvUPPQqps2%2BJPXxS2u7Wwvztaul2YOqr4V1vuWprK9NO"}],"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=0101e29b377ac64a9d6c877802c83a282041fa30-1619492005; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2a6699de080-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Brian",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:24Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: "2020-08-19T00:00:00+00:00",
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:25 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "383",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"8401af20bc6f57b446973f0a183bf2a6"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-rh68r",
      "X-Request-Id",
      "6464c2a888c7e092-IAD",
      "X-Runtime",
      "0.172736",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2a888c7e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7fd580000e0920da82000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=kVheSxk9WF4P74cIj8UFPZdiM0swmfsBlpb0L84y4g4ixiAapWuuwC89TFa0RpaOgBM%2BDdJEB8IcgcKco52XXMH62yTH3McPlM%2BtPrivg6ki"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2a888c7e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "Brian",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:24Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: "2020-08-19T00:00:00+00:00",
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:25 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d5e5ee229e4a8e2338d148546cc0146291619492005; expires=Thu, 27-May-21 02:53:25 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "382",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"90f13f5a76e111be023e5d9d5ba47de2"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-75r27",
      "X-Request-Id",
      "6464c2aaeec9cf8a-IAD",
      "X-Runtime",
      "0.183679",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2aaeec9cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d7fed20000cf8a003e0000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=BumI3YEq3VMi2Ooe5qjxDVF04b3inG4UM%2BAOWqLl9CILqUZwtOEBBOqARCUZ00zyRIvclm7RXLD9Cp9rEOYooDhwJsuh7vZE3sZ2JwZa%2FOqD"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=0101e29b377ac64a9d6c877802c83a282041fa30-1619492005; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2aaeec9cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "Evan",
      alias: "BL",
      user_fields: {
        text_field: "testing here change",
        date_field: null,
        unknown_junk: "ok",
        checkbox_field: true,
      },
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Evan",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:26Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["checkbox_field_selected"],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here change",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:26 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "381",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"471a193efc4ab8693ed61bc3b2807583"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-rpnw7",
      "X-Request-Id",
      "6464c2ad6a95cf8a-IAD",
      "X-Runtime",
      "0.390266",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2ad6a95cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8005d0000cf8a47a07000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=fiZOERFqmdLnyng7d9RXZ2P6cvdrptGQ0gt43r7rG05E1%2FPAuEeSKwd%2F8tuixjmGyhwY0RgPWH9dfbsxLqhhBi%2FXCMFbvaRvoIdq8lTc8khH"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2ad6a95cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "Evan",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:26Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["checkbox_field_selected"],
        alias: "BL",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "testing here change",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:26 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "380",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"471a193efc4ab8693ed61bc3b2807583"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-dk2pc",
      "X-Request-Id",
      "6464c2b0de92e092-IAD",
      "X-Runtime",
      "0.180040",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2b0de92e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d802840000e092d90a4000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Dlv7CUMJTrSWIXAbXoJMun3C%2B5hqBt5QgOJ1FahTSB7eW7vJM6NAvEzAzpAZfqx53qpxrvoSzkt8YH7Fhdv36M8dMD%2B4LtcywxsNXPIBsZPw"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2b0de92e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "Evan",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:26Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["checkbox_field_selected"],
          alias: "BL",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: true,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "testing here change",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:27 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d9ca737ec75e102d040f6afd4beeaa8491619492006; expires=Thu, 27-May-21 02:53:26 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "379",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"992b6aa4f8e8b1d090ed4a57095adcb5"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-52j2q",
      "X-Request-Id",
      "6464c2b35f5be08e-IAD",
      "X-Runtime",
      "0.191776",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2b35f5be08e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8041f0000e08ea89b6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=z9WqX2v8supOQMD6oNVrk%2BZihJVEnEkw04CtUGHXWqf8%2B7k%2B%2FcY0yGqyXU5qUIsHFTrhN4RPCFZkU13Z3iJ6K55%2Bb7Yepra%2BeJCc2gtxGfHR"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=86cc1c55e867517edb94965d1072b15829652812-1619492007; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2b35f5be08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      name: "brian@bleonard.com",
      alias: null,
      user_fields: { text_field: null, checkbox_field: null },
      tags: ["checkbox_field_selected"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:27Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:28 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "378",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5396c9fad096db8ba6412798253e9faf"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-fsg5r",
      "X-Request-Id",
      "6464c2b5ab0de08e-FOR",
      "X-Runtime",
      "0.474186",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2b5ab0de08e-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8058c0000e08eaf8bf000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=qbSJtIoAKkSzpMk01%2BKrS%2Bn1jtvr4HHY8X2m%2BDNaArEbyicslWac8XKC1OcUYwmOXKNcFObhqfKPdYxpKs7lk15DLxTHgmR%2FAegqBfKF6HqW"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2b5ab0de08e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:28Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:28 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "377",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"b1b4ec112c57f641eab006c6b6f1051f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-qgzxt",
      "X-Request-Id",
      "6464c2bbbef4e092-IAD",
      "X-Runtime",
      "0.189136",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2bbbef4e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d809540000e092f08df000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=9oSLMt%2BYruzMnYFHlnlyLzS%2BfhiXG4uTogkHcowh2SHJeesK7ZoH22qp0RUcFHoZGxInUGKX1KiQCW7W2XolZtkI41MOzyd52Q3BiLaSW34K"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2bbbef4e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:28Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:29 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=db6dacd9256056a9445d022f7ce20073d1619492008; expires=Thu, 27-May-21 02:53:28 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "376",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"84fea7fb973c282cc390d40897ad2297"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-jscdg",
      "X-Request-Id",
      "6464c2be4cb0e084-IAD",
      "X-Runtime",
      "0.177840",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2be4cb0e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d80aee0000e08406225000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=FdQ9DlMIetF6BvcMQl2gmfDM9Fo%2FAp9Vyz7ZbrIvTuJ%2Brw6vfXHDoymZfkIi4eZ0dg1NZtTx5Y0mGSP9JAsggAWK0boLV1gNmral9k38bbom"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=391d8365ca311bcc72f465be6a4959496c1bc8e6-1619492009; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2be4cb0e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["another", "test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:29Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["another", "test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:30 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "375",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0c5410935b8a357f2c7483eac0b678a1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-6z8wl",
      "X-Request-Id",
      "6464c2c0880ee084-FOR",
      "X-Runtime",
      "0.376590",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2c0880ee084-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d80c5a0000e084ef275000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=WYwxQtzFFJ9WrB2bHGDN4sZk80072cx90n24eGzUrmDT3xXs1sTO2l5jrbWMUQAJoZWv7Oh8hVpGlbqQlZzpzv%2FnYLnXiVB4TEDaejg%2F4ogx"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2c0880ee084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:29Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["another", "test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:30 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "374",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0c5410935b8a357f2c7483eac0b678a1"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-mvc2r",
      "X-Request-Id",
      "6464c2c6da0ce092-IAD",
      "X-Runtime",
      "0.160010",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2c6da0ce092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d810450000e092e4101000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=nOrJIvnJOP7qzvi4RACqTlW0YBF5o3bvZyxHpD%2B8Jgx0PHNbV6WOsp0NSK%2ByH%2Fe04zHaTsghSk6zm3pjUiDKzWOneq1yDaGpf13qyEu7cdrI"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2c6da0ce092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:29Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["another", "test_group_x"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:30 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=dd1d5886b8866e410f161cd71bf50f9191619492010; expires=Thu, 27-May-21 02:53:30 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "373",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"9a3658004ada716a83100641fb7e5176"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-z7w6p",
      "X-Request-Id",
      "6464c2c93d13e084-IAD",
      "X-Runtime",
      "0.183205",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2c93d13e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d811c20000e084e809b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=euOP2lXg6%2FKbxO1%2Buqbkop3ul40NMU7qZA5iGTB7rCJEeDdiLtiEF4kMYIt8USkD%2FwoqzrYO0Dhc1xnWal8NO26JmEZLsXFwmOMyxICgIzkK"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=4165a730f2033e91dc35a428315f5d4b73401642-1619492010; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2c93d13e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:31Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:31 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "372",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"503913da66553f8add26a0d4ba87d966"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-j4hbf",
      "X-Request-Id",
      "6464c2cb6895e084-FOR",
      "X-Runtime",
      "0.349493",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2cb6895e084-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d813200000e084ef2e2000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2FUPPmKd8VKyHcd%2BBMpRhMxep4oJn5pibTnchXwEiAj%2BYwhDeqwaeE9vzq4VmBQ0q2tM63JTx3NoCIKCzoiKIe1%2B8qBzgf6AA6le0j0LPSxum"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2cb6895e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:31Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:32 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "371",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"503913da66553f8add26a0d4ba87d966"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-z88p2",
      "X-Request-Id",
      "6464c2d0aaa4e092-FOR",
      "X-Runtime",
      "0.180807",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2d0aaa4e092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d816690000e092e0bb3000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=NmDN2mgWLhBOg88eeLN%2FJuNH21xr67x8rb%2Bvd%2BZoFe5jzrAuAkMkxqv8TbmC9uikJKFnxkTxTII4D1UkJYDmjr57BlkyN%2BCEQMbmmwUNI224"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2d0aaa4e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: { tags: ["test_group_x", "outside_grouparoo"] },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:32Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:32 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "370",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"e5863690c75a4b212324d52d7fe3e7d5"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-f7pd6",
      "X-Request-Id",
      "6464c2d4c8bae092-IAD",
      "X-Runtime",
      "0.305224",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2d4c8bae092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d818f80000e092ada5b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ocucppaL9OQIBg9Ii0lxI7ATQkys8o6C951gk6%2FfGfVQtpYGuPlu37jbLA6rN2t8V8of6g8M0O1eGOn3BhTCzpW0A15jbZ7%2FbFK0l2Cn06wz"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2d4c8bae092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:32Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["test_group_x", "outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:33 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d1d32bfc387b5b1e64960d1c8c7bdfdc31619492012; expires=Thu, 27-May-21 02:53:32 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "369",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"261e4e13afd6123c20f03bcadc5f0024"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-cqbzm",
      "X-Request-Id",
      "6464c2d80f42cf8a-IAD",
      "X-Runtime",
      "0.195479",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2d80f42cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d81b050000cf8a17272000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=wY7TGjbRunE4g7S35wW2ldVw7MSgovqUDRm2zj%2Fi7Cl8wVpuwlmXUhD47blM5Mkos8KznuJWftVhqpJ7ksjkx5OuS0Wy2aKF28WnA6B4UJZr"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=3e518386db2b284ee9ce6006e4a7566015b6ae93-1619492013; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2d80f42cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["new_one", "outside_grouparoo", "test_group_x"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:33Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo", "new_one"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:33 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "368",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5751e3a0886c983dfd505601641d086f"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-wbkcr",
      "X-Request-Id",
      "6464c2da8bb8cf8a-IAD",
      "X-Runtime",
      "0.430474",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2da8bb8cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d81c930000cf8a4780d000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=19aP8bX0ihlALYf505d1pvlnxSOiarlVsjMF1GU9h3%2FkII5rbVpW7rmXvD5%2Fftec3bz7yIfBonsxYPUVPl5nuxHm9JOB%2FaW%2BXSluGte7bcUi"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2da8bb8cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:33Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["test_group_x", "outside_grouparoo", "new_one"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:34 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "367",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"5751e3a0886c983dfd505601641d086f"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-fl4xs",
      "X-Request-Id",
      "6464c2de3fb7e092-IAD",
      "X-Runtime",
      "0.177800",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2de3fb7e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d81ee50000e092a93aa000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=gb%2FXQ%2FBYoGVXsLe9tKrCSUygEqae0tanPNoADoAVNEt%2B7Ll6Pg5WjwMZ0z3CWrWe%2FgJ1nvwHo2Ax470dZ%2FZgfbzsV%2FXJIkNJWjZk1%2FNLMu3q"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2de3fb7e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:33Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["test_group_x", "outside_grouparoo", "new_one"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:34 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=df112b6e5127cfb245e798b389ed11a441619492014; expires=Thu, 27-May-21 02:53:34 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "366",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"091146d51a7fd0a1bd86e2d608a8c8f5"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-wzgv8",
      "X-Request-Id",
      "6464c2e0cc39cf92-IAD",
      "X-Runtime",
      "0.192499",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2e0cc39cf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d820800000cf92400cb000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=rRiaysSukbk36%2Ffemv4Suj4WzoCGrB4lbKRgN7mveqy4lYtEJcRP8FlFQJktYwiXp%2FPRocezuSiTVDRKPNEcoYFSYurKp0H3k4%2BjV9DGF2%2Fk"}],"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Set-Cookie",
      "__cfruid=58d4da57f265172375914347f9c037fc7ad69e77-1619492014; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2e0cc39cf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser123",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:34Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:35 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "365",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"7ef0753568c1f2ac241befd3964e8734"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-l2dqj",
      "X-Request-Id",
      "6464c2e2ff8ecf92-IAD",
      "X-Runtime",
      "0.323880",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2e2ff8ecf92-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d821dc0000cf92698b6000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=fd5PUDj%2B7umLh3UhqMhN9YeAu3cMUd4EXHblZtBcGpoxy4TYqSXcIdL6%2Fv%2BLgXqKFOBrVJ7IRGAgGGVPz1%2FeFhigJR8NdpOu1QmuxU6ZUjkL"}],"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2e2ff8ecf92-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:34Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:35 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "364",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"7ef0753568c1f2ac241befd3964e8734"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-vwhxv",
      "X-Request-Id",
      "6464c2e5fce7e092-IAD",
      "X-Runtime",
      "0.178464",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2e5fce7e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d823ba0000e092d321b000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=42xC4WipmWf%2Fz8DtJuL6QdYjZ9l3hTa0vLdVE%2BcEYnRtovA8g1gxFudEpFSFzKVU00VEyxABxPPm73AYY3t1ObUKvgSZToCMv9phqCyJA6a3"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2e5fce7e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:34Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:36 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d6ebb7442e9d20b1e7f9ad3531f18ad9c1619492015; expires=Thu, 27-May-21 02:53:35 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "363",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"e1ed0f103772028393e4ac67499b541c"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-4q58m",
      "X-Request-Id",
      "6464c2e87abccf96-IAD",
      "X-Runtime",
      "0.192036",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2e87abccf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8254c0000cf96d78ee000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=K850lRvTfE1C2aUmQSL6vr4%2FTjYInbHJ%2BYTBLYySs5KXQf5s%2FjWW4F1bP%2F%2B%2FVIbXCbUmvL8nYe%2ByoprrZkwKRuMJrK%2B%2B6fKgTaZTRr5vZEjj"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=87135197265b5fbdc57f802c7c38503d8d1f571a-1619492016; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2e87abccf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "NewOne@bleonard.com",
      external_id: "testuser123",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:36Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:36 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "362",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0d72bad22d962c23167f6064119f66e5"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-wzgv8",
      "X-Request-Id",
      "6464c2ec2900cf96-IAD",
      "X-Runtime",
      "0.422967",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2ec2900cf96-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d827980000cf9628875000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Um59e2q3sTquXzuFsMQhfPon4cEUM8jDMcNaN%2BOjkJO0qIhGAr15HLwiLzBdmUDvY7FMenPlWYj6TyWzTdv7c%2F35O%2BZkyPigfJgn%2FV2dBV0O"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2ec2900cf96-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310/identities.json")
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261430718530.json",
          id: 1261430718530,
          user_id: 1263470710310,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:22Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261431064449.json",
          id: 1261431064449,
          user_id: 1263470710310,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-27T02:53:36Z",
          updated_at: "2021-04-27T02:53:36Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:36 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d4e4522eeeb23d7c930642c52a7e9547b1619492016; expires=Thu, 27-May-21 02:53:36 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "ETag",
      'W/"7695dd92f3fc4a4e2c70f2c2ce8e94ab"',
      "Last-Modified",
      "Tue, 27 Apr 2021 02:53:36 GMT",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "361",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-z7w6p",
      "X-Request-Id",
      "6464c2f02aefcf9a-IAD",
      "X-Runtime",
      "0.152230",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2f02aefcf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d82a1a0000cf9a8fbc2000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=PvtSVxo7B%2FrIQRFGND1aOI42fB%2FhoooeqAtVcXkayojCDltVDWMA84avk9UGBpf7s0grBPHfLfcXjpQskX8%2F25NZWfUQ9OP5iTu%2FVY8%2FhhTV"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=87135197265b5fbdc57f802c7c38503d8d1f571a-1619492016; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2f02aefcf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put(
    "/api/v2/users/1263470710310/identities/1261431064449/make_primary.json",
    {}
  )
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261431064449.json",
          id: 1261431064449,
          user_id: 1263470710310,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-27T02:53:36Z",
          updated_at: "2021-04-27T02:53:37Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261430718530.json",
          id: 1261430718530,
          user_id: 1263470710310,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:22Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:37 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "360",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"3f95a1826b4bed6e376300a6e1463373"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-c5gr6",
      "X-Request-Id",
      "6464c2f21e30cf9a-IAD",
      "X-Runtime",
      "0.250809",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2f21e30cf9a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d82b530000cf9a4bb38000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=R2pXv%2FLxoUiGNF5tfypFZgO6nKSGwNr2hw19x%2FmHCgDfkWB1BkzHG%2FnUniA9s6j8qhxqcHjdz9TnH24ImLEQg%2B%2FxgliqHudyXNHkYg1HswsE"}],"group":"cf-nel","max_age":604800}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2f21e30cf9a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "newone@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:37Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:37 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "359",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"eecad6f4f6e4930c9663c92b09ebafec"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-tnpvs",
      "X-Request-Id",
      "6464c2f4bc9ce092-IAD",
      "X-Runtime",
      "0.158257",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2f4bc9ce092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d82cef0000e092fd2d4000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=QzQq4LEPchvPpcbMf9Se9ASlMuFokD1fTER%2FpjGoD9gBAsPdLHub%2BJ7Newrhn2BnL3mdmoL0L1Awvha8TB1UcvchDyYUBVSqy66Y4LIsKiSB"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2f4bc9ce092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users.json", {
    user: {
      verified: true,
      name: "migratedusername",
      alias: "MU",
      email: "migrateduser@bleonard.com",
      user_fields: { text_field: "my text", checkbox_field: true },
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263519723889,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-27T02:53:37Z",
        updated_at: "2021-04-27T02:53:37Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: null,
        tags: ["checkbox_field_selected"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "my text",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:38 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1061",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "358",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"34859fcb86967bd594a63bb5d5172758"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-cqbzm",
      "X-Request-Id",
      "6464c2f6bfb5e092-IAD",
      "X-Runtime",
      "0.403374",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2f6bfb5e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d82e310000e092fc97e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=R5OfYKv4b%2FhmBaiSmoP06z1o75pJHiaYJDmeUYkTjJh37Ql9Jndd1NShyHZLHs%2FM6dWr6I1Ku9IrgMsre4xm6rMyPwPA73n2R%2Bjg5vUSpamk"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2f6bfb5e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:38 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d182a5f8138c3aee700971e777de45f291619492018; expires=Thu, 27-May-21 02:53:38 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "357",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-8qdl9",
    "X-Request-Id",
    "6464c2fa8ca6e080-IAD",
    "X-Runtime",
    "0.149000",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c2fa8ca6e080-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d830940000e080ee2c9000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=byW2TZ41aAuhfTyrTKJY5fgySLUx7WhlwNEO2E1yrMTcApbzimnZBthqrMbMrZdJG%2BIm1MMRv1E7kB1NQRlOypDUXkYxyRVPpT1CtefCe7A8"}],"group":"cf-nel"}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Set-Cookie",
    "__cfruid=d90a357236d1a701414c07c89a3ca621c93a29c5-1619492018; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c2fa8ca6e080-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      email: "migrateduser@bleonard.com",
      name: "migratedusername",
      external_id: "testuser456",
      user_fields: { text_field: "change" },
      tags: ["something"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263519723889,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-27T02:53:37Z",
        updated_at: "2021-04-27T02:53:38Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser456",
        tags: ["something"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:39 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "356",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"544d51e22941124c3e13a2dc5091b322"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-tb8wx",
      "X-Request-Id",
      "6464c2fc7fc5e080-IAD",
      "X-Runtime",
      "0.402029",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c2fc7fc5e080-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d831cc0000e080848bd000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=K8Y8ennX8ImKOfyKfvBJpbo6mzApHxd8T81nPBAGpPH8xb6n%2B3qK3aO0kxZ6YXdO3%2BFgW1wDGjX8NYFUNY24iyU21tZoaUlWBAnGp3ZoKMto"}],"group":"cf-nel"}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c2fc7fc5e080-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263519723889.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263519723889,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
        name: "migratedusername",
        email: "migrateduser@bleonard.com",
        created_at: "2021-04-27T02:53:37Z",
        updated_at: "2021-04-27T02:53:38Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser456",
        tags: ["something"],
        alias: "MU",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:39 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "355",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"544d51e22941124c3e13a2dc5091b322"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-mvc2r",
      "X-Request-Id",
      "6464c3000ef1e092-IAD",
      "X-Runtime",
      "0.164179",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3000ef1e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d834040000e0921dab0000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=WUrYPQQ4pwVCXppPj5x3aAVOP8WI94sRVotD8yhkg7YW6jjerUw9DskJd7genApd%2F4m8d98RaORmDX%2BKMcBb2hieQL7bk0yKCJRa1Np3ALjV"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3000ef1e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:39 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d91f3cae9f99dea13d4b43118b170033d1619492019; expires=Thu, 27-May-21 02:53:39 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "354",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-t4pcw",
    "X-Request-Id",
    "6464c3028e44cf9e-IAD",
    "X-Runtime",
    "0.138950",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c3028e44cf9e-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d835970000cf9e7a802000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=maknXlfk%2BZvjyyoVXLybHZJRqFI1OAXUHRXA%2FEZEw5H5J0bJObNAEP9GVATrGorxoBorxg1ZgryTvY8Z1NNmBAqfdxIYG5H4n%2BoUcjdURCGo"}]}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=47b8d700bbb491f54129b1bfec3383cfb22a8748-1619492019; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c3028e44cf9e-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "newone@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:37Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:40 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "353",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"c54aac9243841b98fe7a85eea260784e"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-qgzxt",
      "X-Request-Id",
      "6464c3046a14cf9e-IAD",
      "X-Runtime",
      "0.201734",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3046a14cf9e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d836c10000cf9e7c397000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=J6ERWXbSD9xqGqC4KZsQ3JRcwUH87mxd1uICAzJWIwV8xqME19TP%2FJ63AgPrM23fdMkqMEhqYaBT0kTAEu02nCeFEFr336qQvYHbIEDlVX8j"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3046a14cf9e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470710310.json", {
    user: {
      verified: true,
      email: "brian@bleonard.com",
      external_id: "testuser789",
      tags: ["outside_grouparoo"],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "newone@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:40Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:40 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "352",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"07987f1f7a2516156f5c2250d05837e3"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-sh4vn",
      "X-Request-Id",
      "6464c306cdc1cf9e-IAD",
      "X-Runtime",
      "0.447626",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c306cdc1cf9e-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8383a0000cf9ebaabd000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=nSw9NsC2LiKmmrIknNSIvkvpp5W943Xu3BrAHEi4elTrp47sEw1Cw63MJkPTGQ3AgaYbKdxXuf%2BgD05rhYqktYLpgBEeFhT2dGJEbSekPsY9"}]}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c306cdc1cf9e-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310/identities.json")
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261431064449.json",
          id: 1261431064449,
          user_id: 1263470710310,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-27T02:53:36Z",
          updated_at: "2021-04-27T02:53:37Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261430718530.json",
          id: 1261430718530,
          user_id: 1263470710310,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:22Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:41 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=db84e9b806ca4ecd39437a4b7e5148bed1619492020; expires=Thu, 27-May-21 02:53:40 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "ETag",
      'W/"ea25f72f18e442806be0bb3c45192d85"',
      "Last-Modified",
      "Tue, 27 Apr 2021 02:53:40 GMT",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "351",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-4q58m",
      "X-Request-Id",
      "6464c30adef7e07c-IAD",
      "X-Runtime",
      "0.159874",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c30adef7e07c-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d83ac70000e07c14868000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=f6HaaSVXpLo%2FK6D8YPBMMAk66IHlaOgM26FezSUvS3LfOCAypAu84ZHV8s07aF1g6MsGevhof1L0iy0ECLr2oH%2F%2BT4JD%2Bh5MphzSkmmnMNJE"}],"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=8ffdc1974ada1af0a04b28e326b2400daf6e0a91-1619492021; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c30adef7e07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put(
    "/api/v2/users/1263470710310/identities/1261430718530/make_primary.json",
    {}
  )
  .once()
  .reply(
    200,
    {
      identities: [
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261430718530.json",
          id: 1261430718530,
          user_id: 1263470710310,
          type: "email",
          value: "brian@bleonard.com",
          verified: true,
          primary: true,
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:41Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
        {
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310/identities/1261431064449.json",
          id: 1261431064449,
          user_id: 1263470710310,
          type: "email",
          value: "newone@bleonard.com",
          verified: true,
          primary: false,
          created_at: "2021-04-27T02:53:36Z",
          updated_at: "2021-04-27T02:53:37Z",
          undeliverable_count: 0,
          deliverable_state: "deliverable",
        },
      ],
      next_page: null,
      previous_page: null,
      count: 2,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:42 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "350",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"8ef867f1b3a409d741678486f26c989f"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-wcjc7",
      "X-Request-Id",
      "6464c30d1a0fe07c-FOR",
      "X-Runtime",
      "0.278526",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c30d1a0fe07c-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d83c2c0000e07c11a62000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"max_age":604800,"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=QDYQG4KcJ3R9xeIVLJUdAFZOIKGaVpROUu6RXZepeBxq%2FFB8WIXtoHwKs4%2FEZ2T9R7suBxGZUtTViNKvyT3MvCP%2B02JQSiUXdvxj8Inp6wg9"}],"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c30d1a0fe07c-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:41Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:42 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "349",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"fbe359398cee24fbc18662349f4e39cf"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-wh86j",
      "X-Request-Id",
      "6464c311aba3e092-IAD",
      "X-Runtime",
      "0.163530",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c311aba3e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d83f0c0000e092ec101000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=YFmrzmuW4FlxO57kVhv8AS7K9luRpgPK2mxlDjSijxdUmeLoIVnn1LI8OByxkVbYa3R8%2FG58bF6jvwjQ5fe%2FTaM0HghJqegWN6qaNxK28gKv"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c311aba3e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:42 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "Set-Cookie",
    "__cfduid=d56052542ece2ba2764f63a6422e568501619492022; expires=Thu, 27-May-21 02:53:42 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "348",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-ln49s",
    "X-Request-Id",
    "6464c3141a27e084-IAD",
    "X-Runtime",
    "0.153517",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c3141a27e084-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d8408c0000e084061a1000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=fWkQn%2FSAOZ238Ugrlf5ICoXrwT7gSP2V8QuHMa%2FAKkj9tw7dnBwRlqGBhMV56%2FXbQkLdL%2BCAgNKiKu%2FOBzzSHFqP3a2%2BM9wFfK7LAJZm6Ro5"}],"max_age":604800,"group":"cf-nel"}',
    "NEL",
    '{"max_age":604800,"report_to":"cf-nel"}',
    "Set-Cookie",
    "__cfruid=091492e320cdfab3c27db729b7ace58b2574b157-1619492022; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c3141a27e084-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .post("/api/v2/users/create_or_update.json", {
    user: {
      verified: true,
      external_id: "testuser123",
      tags: [],
      name: "testuser123",
    },
  })
  .once()
  .reply(
    201,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:42Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:43 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Content-Length",
      "1014",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Location",
      "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "347",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"856d0ab3ca33eabeb4d8d43d4be02a37"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-4swmf",
      "X-Request-Id",
      "6464c3161d0de084-IAD",
      "X-Runtime",
      "0.283419",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3161d0de084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d841ca0000e0845e9e7000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Ew9vU4vgmIysDOOlifrOcPVmCgc5j6MfcjUHNQwfh63SItIO%2FOj%2Fg%2BEMPV4hyma2wOD79NNAU8NgC4v8N80T0Wpml0qoCbAKxSUsBnzWS7Ti"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3161d0de084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470740910,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
          name: "testuser123",
          email: null,
          created_at: "2021-04-27T02:53:42Z",
          updated_at: "2021-04-27T02:53:43Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: false,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:43 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "346",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"7814d509493019d32a6f7b0959e8ff8b"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-qzhbq",
      "X-Request-Id",
      "6464c318e813e092-FOR",
      "X-Runtime",
      "0.170001",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c318e813e092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d843940000e092fb9af000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=k7LHUJaiyLn6N8QmMmZYiBS5QyjSw%2FfwqaQDk16eRJDP4MlDulf9iHoI7N5s8fXWfVmLRMR4wzjFnT1glgIjLbknsN1swbE%2FasIhGEod88fd"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c318e813e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470740910.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:43Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:44 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "345",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"65fd7aeb2ce77a999e7d3423e69b0013"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-spvlc",
      "X-Request-Id",
      "6464c31cee37e092-IAD",
      "X-Runtime",
      "0.180461",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c31cee37e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d846150000e092c2351000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Sd0O0fgwXZbSdkv45R1h0WN%2FNOopyeDB2QuY46Gvf8bb6gUpzBl%2FMnh5TOXgpZ90H7dgsjNqwv6%2BalAsYQ%2FDhVFopoIoj0O9dc32Cr%2FCuzOA"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c31cee37e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470710310.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: "brian@bleonard.com",
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:41Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser789",
        tags: ["outside_grouparoo"],
        alias: "",
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:44 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "344",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"fbe359398cee24fbc18662349f4e39cf"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-n2n25",
      "X-Request-Id",
      "6464c31f4a1be092-IAD",
      "X-Runtime",
      "0.189498",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c31f4a1be092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8478b0000e092aca12000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2B0USN1EzLDcCXUUvUqjRHf%2FzRZ943OZfoFGULoqKDpeUzbPptZwyZEmk4xFe5lUKQeANnAoGxN7mFBK528jL%2BxEXHZBUcVVILhyZk0P47Nby"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c31f4a1be092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470740910,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
          name: "testuser123",
          email: null,
          created_at: "2021-04-27T02:53:42Z",
          updated_at: "2021-04-27T02:53:43Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: false,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:44 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d216d4da8ea10bc120abde7189c9d7e3f1619492024; expires=Thu, 27-May-21 02:53:44 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "343",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"7814d509493019d32a6f7b0959e8ff8b"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-w52th",
      "X-Request-Id",
      "6464c321df8ee084-IAD",
      "X-Runtime",
      "0.194791",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c321df8ee084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d849230000e084df32f000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=3fRIYLMOO%2B%2B6E%2B0j%2BIyoacxeWXd2H77PUdKiADASGmC4rV9JopTaETTLGVea2MwTrqG7GHb3ZQWEZPTUmJTtw9uqO0EYWm%2BBDjzyr0YhqyVz"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=00aa29fd902dc69ea0feacb58ce0dfc14beabec8-1619492024; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c321df8ee084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .put("/api/v2/users/1263470740910.json", {
    user: {
      verified: true,
      external_id: "testuser123",
      email: "added@bleonard.com",
      tags: [],
    },
  })
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:45Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:45 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "342",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"9af2442f9ae1186937c4da043fb66ed4"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-6gb65",
      "X-Request-Id",
      "6464c3245b75e084-IAD",
      "X-Runtime",
      "0.298199",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3245b75e084-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d84ab40000e084eb309000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=0ay7IIxBRELcBKn9fI%2BkDlJVev8xOAFqgto0qoTq6Bw3D6AndzcI3KK7IYXrScvnR2K74FGb5oS22mRkY%2F46tBjdZQhckHYzKmtQTnL4%2BPZR"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3245b75e084-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470740910.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:45Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:45 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "341",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"9af2442f9ae1186937c4da043fb66ed4"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-j7pnj",
      "X-Request-Id",
      "6464c3275889e092-IAD",
      "X-Runtime",
      "0.155157",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3275889e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d84c960000e092a985c000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=hd%2Br7ghekB9EM6l6amJVTvzOBSNSzR8SQJ9IkIYyK%2F7nuIyQqvD2KecU22jVAbbvuj8jlT0UvCmt%2Bkdjzg6pm%2FYRhQS2gNFOVDebJdI9W8g5"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3275889e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470740910,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
          name: "testuser123",
          email: "added@bleonard.com",
          created_at: "2021-04-27T02:53:42Z",
          updated_at: "2021-04-27T02:53:45Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d76df0acbb022aba4e8eeb45db5de1d3e1619492025; expires=Thu, 27-May-21 02:53:45 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "340",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0c780ef0fab0f34046cb43dbf3a4ce6c"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-c4lv7",
      "X-Request-Id",
      "6464c329aa7ccf8a-IAD",
      "X-Runtime",
      "0.190147",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c329aa7ccf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d84e0b0000cf8a12319000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=wZP4JF9CIG%2FB9ga%2BnpYKuEkAgS5onp5TqU3Fd%2FO6Qcsn5vSuhVnNZm90%2FbqOnlDo%2BaIXgDCzSpPKacvEud%2ByKqwCfKgzQvtA%2BN8tZIwnnfat"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=af04e771a0613a7880711b4c995f3d9a374f3114-1619492026; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c329aa7ccf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470740910.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: "added@bleonard.com",
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:45Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: true,
        external_id: "testuser123",
        tags: [],
        alias: null,
        active: true,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:46 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "339",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"9af2442f9ae1186937c4da043fb66ed4"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-c6n79",
      "X-Request-Id",
      "6464c32bd885e092-IAD",
      "X-Runtime",
      "0.156823",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c32bd885e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d84f6a0000e092b13a3000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=Civ3VXeO2SwVLakybrtEUmSzwyLblc5aWVwxpTT8t2X1u00BeukrRX9KolOE0qZ%2Bw5ldz8xMum9EeC%2FGm6CosyLDF1Qo3noScZcQ9CfYw%2Bo2"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c32bd885e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470740910,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
          name: "testuser123",
          email: "added@bleonard.com",
          created_at: "2021-04-27T02:53:42Z",
          updated_at: "2021-04-27T02:53:45Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser123",
          tags: [],
          alias: null,
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:47 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "Set-Cookie",
      "__cfduid=d52da335566d821e85ca93ac49ed0c1251619492026; expires=Thu, 27-May-21 02:53:46 GMT; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; SameSite=Lax",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "338",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"0c780ef0fab0f34046cb43dbf3a4ce6c"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-zn9sq",
      "X-Request-Id",
      "6464c32e1a2acf8a-IAD",
      "X-Runtime",
      "0.245041",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c32e1a2acf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d850d40000cf8a4c0a9000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=f357GzAi%2B2y41BKT3ic0aU8%2B6EF%2BSvHvI3tMk2bOPkWNVe%2Beh7VxF60B9hxEv75btALPlgKzYQNHyhnyUWufKDzFr7E4h0%2FKPjr7Eg59LSyt"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Set-Cookie",
      "__cfruid=36c52f3df01c6b6eccd7e81cfe438b29ac68900f-1619492027; path=/; domain=.d3v-grouparoo.zendesk.com; HttpOnly; Secure; SameSite=None",
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c32e1a2acf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263470740910.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:47Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: [],
        alias: null,
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:47 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "337",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"414f03df023d49705f499b39e77ed82e"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-t4p9n",
      "X-Request-Id",
      "6464c3310e79cf8a-IAD",
      "X-Runtime",
      "0.429440",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3310e79cf8a-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d852aa0000cf8a3600c000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2FpxS2YYgqXH4aY7FsuUZEVwYtp5CKW5MdZKNt5G%2BsqnChqvIteVWJ0eDL%2FHbgh9iacr5ZVdv3pxdrvvRvNR3zwwz2eYSmlr0Go58wvTUPOjv"}],"max_age":604800,"group":"cf-nel"}',
      "NEL",
      '{"max_age":604800,"report_to":"cf-nel"}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3310e79cf8a-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:47 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "336",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-j4hbf",
    "X-Request-Id",
    "6464c334cf00e092-IAD",
    "X-Runtime",
    "0.153424",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c334cf00e092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d854fc0000e092f0a1f000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=ehWdMHhETuiXgI1Kq9yV2ct8pLO7OXKc8cwvuM%2F%2FYhP1tbbAR%2BWFup3svXwDk6NFMnq0tL%2FSh%2FJU0JObYDbUL6PTZx1sVWHaLBnKfQhqGrZe"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c334cf00e092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/1263470740910.json")
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470740910,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470740910.json",
        name: "testuser123",
        email: null,
        created_at: "2021-04-27T02:53:42Z",
        updated_at: "2021-04-27T02:53:47Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: [],
        alias: null,
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:48 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=5, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "335",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"414f03df023d49705f499b39e77ed82e"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-6gb65",
      "X-Request-Id",
      "6464c336ca32e092-FOR",
      "X-Runtime",
      "0.146261",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c336ca32e092-FOR",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8563a0000e0921d91a000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=U2IAqmAWLLbi2EtA9yx1VrjDNo%2F6PwR94lhg6ZSTMg%2FUxaZSmbjI0pOe3hl1v3mfA3xq%2FsGAbgNr9Tv%2FizF2F6XRCPdd5z0pvgFNPe1TDyK4"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c336ca32e092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migratedusername" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263519723889,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
          name: "migratedusername",
          email: "migrateduser@bleonard.com",
          created_at: "2021-04-27T02:53:37Z",
          updated_at: "2021-04-27T02:53:38Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser456",
          tags: ["something"],
          alias: "MU",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: true,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: "change",
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:48 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "334",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"1577be5ae98d51b05d03e52092bf63cd"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-v78vd",
      "X-Request-Id",
      "6464c33a781fe092-IAD",
      "X-Runtime",
      "0.208653",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c33a781fe092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d8588c0000e092a5b9e000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=NH1vrnGOrjyYSEREd0%2BYWuIXyjV9EZbwgma10woEdeEPKJsNjxeXEpkPqQRnijOy9Y9eClwzCGMsdDcivAIoI6B1FDPhloBWg3XcG6uPWf2V"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c33a781fe092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263519723889.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263519723889,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263519723889.json",
        name: "migratedusername",
        email: null,
        created_at: "2021-04-27T02:53:37Z",
        updated_at: "2021-04-27T02:53:49Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: ["something"],
        alias: "MU",
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: true,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: "change",
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:49 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "333",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"9d7c94162efc51d6722dcd55d35b3f15"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-84hcg",
      "X-Request-Id",
      "6464c33ccb7ee092-IAD",
      "X-Runtime",
      "0.397167",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c33ccb7ee092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d859ff0000e09203823000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=3SC1eqWrdyrjVbgvhJ%2BS%2F70bcz50nlDs1qFSUQTHtCKo9Oo4FXDiaOghgtI%2FKMQYS%2BMh5%2BjgAzAONMp%2Bs3EZ8HSECo07IHwXVgvIQvrT1gwn"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c33ccb7ee092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ query: "migrateduser%40bleonard.com" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:49 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "332",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-q5c7p",
    "X-Request-Id",
    "6464c340584ee092-IAD",
    "X-Runtime",
    "0.159821",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c340584ee092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d85c3b0000e092a5bd5000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=GE%2BpRtAyYWNz39xLuRjKkbpmgb3WuQP071VihHUHWO5Y2xkRnQQKJLVUKVtKIQ8H4QFKH6OfOSelyW%2B6ShKWN9bRdrFJCI6I7LlkR5saTmOb"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c340584ee092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser123" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:50 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "331",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-vwhxv",
    "X-Request-Id",
    "6464c342ec1ae092-IAD",
    "X-Runtime",
    "0.166062",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c342ec1ae092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d85dcf0000e092a9007000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=lzsgoTzkm5au079i%2BlTDpTe304vnv8iTgCT%2F8VZqcKEn4SoT2%2BxLrd%2BWy60megVyy4dgqrl9xk8Cm4FjbfSXUdrudlPzYPqolaeHVmB748nm"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c342ec1ae092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser456" })
  .once()
  .reply(200, { users: [], next_page: null, previous_page: null, count: 0 }, [
    "Date",
    "Tue, 27 Apr 2021 02:53:50 GMT",
    "Content-Type",
    "application/json; charset=UTF-8",
    "Transfer-Encoding",
    "chunked",
    "Connection",
    "keep-alive",
    "X-Zendesk-API-Version",
    "v2",
    "X-Zendesk-Application-Version",
    "v8356.105",
    "X-Frame-Options",
    "SAMEORIGIN",
    "Cache-Control",
    "max-age=10, private",
    "X-Rate-Limit",
    "400",
    "X-Rate-Limit-Remaining",
    "330",
    "Strict-Transport-Security",
    "max-age=31536000;",
    "ETag",
    'W/"0d9fec644c8d2302fdce202e8be00f94"',
    "X-Zendesk-Origin-Server",
    "classic-app-server-f777cdf54-wh86j",
    "X-Request-Id",
    "6464c344eeebe092-IAD",
    "X-Runtime",
    "0.143757",
    "X-Zendesk-Zorg",
    "yes",
    "X-Request-ID",
    "6464c344eeebe092-IAD",
    "X-Content-Type-Options",
    "nosniff",
    "CF-Cache-Status",
    "DYNAMIC",
    "cf-request-id",
    "09b2d85f0e0000e092ec34b000000001",
    "Expect-CT",
    'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
    "Report-To",
    '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=%2B%2FFV6bqMQWB%2Bs03Lz8rEpMKqG16xRpDCqfggo6Z%2F6c3DgafpNZFQ4qThssyr%2B4y16XlmLBqdPxAaDh8sv57PXlA4hA%2FMojtFUV0Dtc5Zdhan"}],"max_age":604800}',
    "NEL",
    '{"report_to":"cf-nel","max_age":604800}',
    "Server",
    "cloudflare",
    "CF-RAY",
    "6464c344eeebe092-FOR",
  ]);
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .get("/api/v2/users/search.json")
  .query({ external_id: "testuser789" })
  .once()
  .reply(
    200,
    {
      users: [
        {
          id: 1263470710310,
          url:
            "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
          name: "brian@bleonard.com",
          email: "brian@bleonard.com",
          created_at: "2021-04-27T02:53:22Z",
          updated_at: "2021-04-27T02:53:41Z",
          time_zone: "America/Fortaleza",
          iana_time_zone: "America/Fortaleza",
          phone: null,
          shared_phone_number: null,
          photo: null,
          locale_id: 1,
          locale: "en-US",
          organization_id: null,
          role: "end-user",
          verified: true,
          external_id: "testuser789",
          tags: ["outside_grouparoo"],
          alias: "",
          active: true,
          shared: false,
          shared_agent: false,
          last_login_at: null,
          two_factor_auth_enabled: false,
          signature: null,
          details: null,
          notes: null,
          role_type: null,
          custom_role_id: null,
          moderator: false,
          ticket_restriction: "requested",
          only_private_comments: false,
          restricted_agent: true,
          suspended: false,
          chat_only: false,
          default_group_id: null,
          report_csv: false,
          user_fields: {
            checkbox_field: false,
            date_field: null,
            decimal_field: null,
            dropdown_field: null,
            multiline_field: null,
            numeric_field: null,
            regex_field: null,
            text_field: null,
          },
        },
      ],
      next_page: null,
      previous_page: null,
      count: 1,
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:50 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "Cache-Control",
      "max-age=10, private",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "329",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"d7a629632fa4fabba8cd0bfdec845113"',
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-r8wzg",
      "X-Request-Id",
      "6464c346ca0ae092-IAD",
      "X-Runtime",
      "0.205470",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c346ca0ae092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d860400000e092cf0ad000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=9yzohSUAnqW4hDzj%2B1d89yKEw7euLEq769NtO5kwzUCdwcmeX9xOWXndj2JaTbhNG872SsL4t7x2gxRYAWO88MMf%2FMAHYVj6TOzNgu6HLy0o"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c346ca0ae092-FOR",
    ]
  );
nock("https://d3v-grouparoo.zendesk.com:443", { encodedQueryParams: true })
  .delete("/api/v2/users/1263470710310.json", {})
  .once()
  .reply(
    200,
    {
      user: {
        id: 1263470710310,
        url:
          "https://d3v-grouparoo.zendesk.com/api/v2/users/1263470710310.json",
        name: "brian@bleonard.com",
        email: null,
        created_at: "2021-04-27T02:53:22Z",
        updated_at: "2021-04-27T02:53:51Z",
        time_zone: "America/Fortaleza",
        iana_time_zone: "America/Fortaleza",
        phone: null,
        shared_phone_number: null,
        photo: null,
        locale_id: 1,
        locale: "en-US",
        organization_id: null,
        role: "end-user",
        verified: false,
        external_id: null,
        tags: ["outside_grouparoo"],
        alias: "",
        active: false,
        shared: false,
        shared_agent: false,
        last_login_at: null,
        two_factor_auth_enabled: false,
        signature: null,
        details: null,
        notes: null,
        role_type: null,
        custom_role_id: null,
        moderator: false,
        ticket_restriction: "requested",
        only_private_comments: false,
        restricted_agent: true,
        suspended: false,
        chat_only: false,
        default_group_id: null,
        report_csv: false,
        user_fields: {
          checkbox_field: false,
          date_field: null,
          decimal_field: null,
          dropdown_field: null,
          multiline_field: null,
          numeric_field: null,
          regex_field: null,
          text_field: null,
        },
      },
    },
    [
      "Date",
      "Tue, 27 Apr 2021 02:53:51 GMT",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "keep-alive",
      "X-Zendesk-API-Version",
      "v2",
      "X-Zendesk-Application-Version",
      "v8356.105",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Rate-Limit",
      "400",
      "X-Rate-Limit-Remaining",
      "328",
      "Strict-Transport-Security",
      "max-age=31536000;",
      "ETag",
      'W/"23d9b53f5276d5a521e457475735e1b3"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Zendesk-Origin-Server",
      "classic-app-server-f777cdf54-2dfg7",
      "X-Request-Id",
      "6464c3490d78e092-IAD",
      "X-Runtime",
      "0.423951",
      "X-Zendesk-Zorg",
      "yes",
      "X-Request-ID",
      "6464c3490d78e092-IAD",
      "X-Content-Type-Options",
      "nosniff",
      "CF-Cache-Status",
      "DYNAMIC",
      "cf-request-id",
      "09b2d861a60000e09215100000000001",
      "Expect-CT",
      'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
      "Report-To",
      '{"group":"cf-nel","endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report?s=8Pv8JOnjUJR3z2AGmNCzhIgMP6pIyuA%2FluBUsyr%2FuvbsMNNo%2B3%2BVga%2Bmj2mnCFczKfEybLCgaYU59FJrnjxYw1Y65RkdC0Ey8XSW9SjACqPl"}],"max_age":604800}',
      "NEL",
      '{"report_to":"cf-nel","max_age":604800}',
      "Server",
      "cloudflare",
      "CF-RAY",
      "6464c3490d78e092-FOR",
    ]
  );

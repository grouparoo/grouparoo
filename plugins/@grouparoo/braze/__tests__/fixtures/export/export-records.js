const nock = require("nock");

nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/delete", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
      "notgrouparoo@demo.com",
    ],
  })
  .once()
  .reply(201, { deleted: 4, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "250000",
    "X-RateLimit-Remaining",
    "249994",
    "X-RateLimit-Reset",
    "1637708400",
    "ETag",
    'W/"19a5a34b876dede4914bba61307471e6"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "6d8f10e8-9651-450c-8964-1bdc8c14bb67",
    "X-Runtime",
    "0.005679",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:41:29 GMT",
    "X-Served-By",
    "cache-for8427-FOR, cache-for8427-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707289.770384,VS0,VE401",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
      "notgrouparoo@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:36:30.696Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ceef2602529959e203e",
          braze_id: "619d6ceef2602529959e203e",
          first_name: "John",
          random_bucket: 7332,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:37:04.196Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6d10302b282f1db814df",
          braze_id: "619d6d10302b282f1db814df",
          first_name: "Pete",
          random_bucket: 9951,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo3@demo.com", "notgrouparoo@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707320",
      "ETag",
      'W/"f76325ca745403b34df8fce734e753c1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "651d39ff-5939-452f-9ebb-b61136efc163",
      "X-Runtime",
      "0.024073",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:41:29 GMT",
      "X-Served-By",
      "cache-for8425-FOR, cache-for8425-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707289.283416,VS0,VE417",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
      "notgrouparoo@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: [
        "grouparoo@demo.com",
        "grouparoo2@demo.com",
        "grouparoo3@demo.com",
        "notgrouparoo@demo.com",
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"07d61cd3b9a0a341960dbd0ee0b4f504"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "a7d251ff-afaf-40b3-b27d-3c3862737205",
      "X-Runtime",
      "0.025527",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:00 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707320.826338,VS0,VE318",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2498",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "71e0b669-ca84-4400-a463-4c68e8148e61",
      "X-Runtime",
      "0.046619",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:00 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707320.257689,VS0,VE447",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2497",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "0de6d924-dfbc-4f90-b89c-ba1dc52e7ffa",
      "X-Runtime",
      "0.016889",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:01 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707321.814895,VS0,VE408",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2496",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "4e439bd6-83eb-49c4-b943-21b89a39aa3e",
      "X-Runtime",
      "0.020275",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:01 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707321.334238,VS0,VE119",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2495",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "eeecff11-5cc1-41bb-b34c-1cd048b5ba45",
      "X-Runtime",
      "0.015541",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:01 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707322.571436,VS0,VE116",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2494",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "4c83ec15-b46a-4480-a40b-e87caa0317a4",
      "X-Runtime",
      "0.018028",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:02 GMT",
      "X-Served-By",
      "cache-for8425-FOR, cache-for8425-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707322.794177,VS0,VE434",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      { external_id: "grouparoo@demo.com", first_name: "John", groups: [] },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49999",
    "X-RateLimit-Reset",
    "1637707380",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "0a474a1c-afd3-4cfd-9a9d-877a328c25b3",
    "X-Runtime",
    "0.008919",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:42:02 GMT",
    "X-Served-By",
    "cache-for8424-FOR, cache-for8424-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707322.340497,VS0,VE408",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2493",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "fe8fc557-ac97-432f-88b4-08110c59d15b",
      "X-Runtime",
      "0.013623",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:02 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707323.857937,VS0,VE113",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2492",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"db53e0fb85e6cb4b239d9e68497373a6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "0f3ac561-b381-4b59-8516-c1073b3ed142",
      "X-Runtime",
      "0.028076",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:33 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707353.093341,VS0,VE426",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2491",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"db53e0fb85e6cb4b239d9e68497373a6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "29b20916-2980-49f8-8998-54441236fc08",
      "X-Runtime",
      "0.020526",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:34 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707354.625449,VS0,VE412",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2490",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"db53e0fb85e6cb4b239d9e68497373a6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "41efb8dc-041b-418d-94a7-324f8aeb41ed",
      "X-Runtime",
      "0.015420",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:34 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707354.150263,VS0,VE307",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2489",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"db53e0fb85e6cb4b239d9e68497373a6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "ce5c10b1-7a24-42cf-8ec3-61b7293799cd",
      "X-Runtime",
      "0.012042",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:34 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707355.571253,VS0,VE405",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: ["grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2488",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"bb71679c3621e43b03a147da5d081928"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "95d14fa4-9b8b-424c-bdb0-2c17f6b58cbf",
      "X-Runtime",
      "0.025136",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:35 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707355.089972,VS0,VE427",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2487",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"a3aae316b909515cee9332f7226f3b96"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "55839941-daad-4321-ba2b-44680ff48d19",
      "X-Runtime",
      "0.014409",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:35 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707356.626915,VS0,VE114",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "John",
        last_name: "Doe",
        dob: "1980-12-21",
        groups: [],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49998",
    "X-RateLimit-Reset",
    "1637707380",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "bb4f0da2-ca18-45c7-94af-a24fcd2da2c6",
    "X-Runtime",
    "0.013096",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:42:36 GMT",
    "X-Served-By",
    "cache-for8420-FOR, cache-for8420-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707356.847872,VS0,VE406",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      { external_id: "grouparoo2@demo.com", first_name: "Pete", groups: [] },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49997",
    "X-RateLimit-Reset",
    "1637707380",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "d9cb4b70-0161-43a8-bbc3-05e326849b11",
    "X-Runtime",
    "0.015270",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:42:36 GMT",
    "X-Served-By",
    "cache-for8423-FOR, cache-for8423-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707356.362454,VS0,VE409",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2486",
      "X-RateLimit-Reset",
      "1637707380",
      "ETag",
      'W/"a3aae316b909515cee9332f7226f3b96"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "e462a181-6053-4da6-be2c-7317293261d1",
      "X-Runtime",
      "0.015727",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:42:36 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707357.878588,VS0,VE117",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          last_name: "Doe",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Pete",
          random_bucket: 5828,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"f61f2fa0e1f6fefeff6d8fa276b1892c"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "09d542e8-4cab-4a3c-a352-6a7e36f1276e",
      "X-Runtime",
      "0.019873",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:07 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707387.125548,VS0,VE512",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          last_name: "Doe",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2498",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"88361c4bda090b9066c200c025a345f1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "8cce3175-964a-44de-8883-b5b2a5062cc1",
      "X-Runtime",
      "0.023032",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:08 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707388.746314,VS0,VE320",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Pete",
          random_bucket: 5828,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2497",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"f7b783e9a41441a4211c4be969dad239"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "a89af482-6986-4178-ab3a-d629b8b8166b",
      "X-Runtime",
      "0.032093",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:08 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707388.176441,VS0,VE198",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          last_name: "Doe",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2496",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"88361c4bda090b9066c200c025a345f1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "e12fa408-c1de-4ce1-8f5e-cb14aeb4694a",
      "X-Runtime",
      "0.016044",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:08 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707388.494199,VS0,VE408",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "John",
        last_name: null,
        groups: [],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49999",
    "X-RateLimit-Reset",
    "1637707440",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "84a21ab1-8f06-4b7a-91b5-ba3d67692e4f",
    "X-Runtime",
    "0.015121",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:43:09 GMT",
    "X-Served-By",
    "cache-for8421-FOR, cache-for8421-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707389.007952,VS0,VE406",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          last_name: "Doe",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2495",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"88361c4bda090b9066c200c025a345f1"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "8ad00744-9abc-4803-a460-1589f66c9f68",
      "X-Runtime",
      "0.017088",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:09 GMT",
      "X-Served-By",
      "cache-for8425-FOR, cache-for8425-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707390.525026,VS0,VE415",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2494",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"d511b344450be32b07b4d3ebb0cad6e6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "f6df48d1-f685-4335-8ea0-b2e7fd73d13b",
      "X-Runtime",
      "0.019280",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:40 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707420.059849,VS0,VE427",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2493",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"d511b344450be32b07b4d3ebb0cad6e6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "50a30b0d-8343-4290-9882-c645513707ec",
      "X-Runtime",
      "0.014769",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:40 GMT",
      "X-Served-By",
      "cache-for8422-FOR, cache-for8422-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707421.592774,VS0,VE406",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2492",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"d511b344450be32b07b4d3ebb0cad6e6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "0d2f6255-deea-4bbd-bec2-c8a7a9955e25",
      "X-Runtime",
      "0.034674",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:41 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707421.126907,VS0,VE328",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "John",
        groups: ["(test) High Value"],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49998",
    "X-RateLimit-Reset",
    "1637707440",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "2fdb2ad3-afd7-4d51-bae3-e8730f02fecd",
    "X-Runtime",
    "0.013052",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:43:41 GMT",
    "X-Served-By",
    "cache-for8429-FOR, cache-for8429-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707422.562901,VS0,VE415",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: [] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2491",
      "X-RateLimit-Reset",
      "1637707440",
      "ETag",
      'W/"d511b344450be32b07b4d3ebb0cad6e6"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "2ff994f8-3044-4015-8814-74121d2da56e",
      "X-Runtime",
      "0.175276",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:43:42 GMT",
      "X-Served-By",
      "cache-for8422-FOR, cache-for8422-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707422.092472,VS0,VE275",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: ["(test) High Value"] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"b03ebd8c77772864346a7e42b56648f2"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "598cc022-da4a-40dd-bcb8-1d87f554f82a",
      "X-Runtime",
      "0.015438",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:13 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707453.541255,VS0,VE503",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: ["(test) High Value"] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2498",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"b03ebd8c77772864346a7e42b56648f2"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "db7482a7-7ca3-4676-bef6-29682b73de68",
      "X-Runtime",
      "0.019473",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:13 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707453.155594,VS0,VE314",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: ["(test) High Value"] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Pete",
          random_bucket: 5828,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2497",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"36327d72cd1a47cf727feb3e6b8bed51"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "98c73f47-c65b-429a-9f13-9a62f442eadf",
      "X-Runtime",
      "0.015350",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:13 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707454.584623,VS0,VE410",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "John",
        groups: ["(test) High Value", "(test) Churned"],
      },
      {
        external_id: "grouparoo2@demo.com",
        first_name: "Sally",
        groups: ["(test) High Value"],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 2, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49999",
    "X-RateLimit-Reset",
    "1637707500",
    "ETag",
    'W/"af2ed31e087361f60d54b72146dab51d"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "fbe58b0c-ed75-40d4-a1f9-bd030d29028a",
    "X-Runtime",
    "0.009917",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:14 GMT",
    "X-Served-By",
    "cache-for8423-FOR, cache-for8423-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707454.107278,VS0,VE412",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Sally",
          random_bucket: 5828,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2496",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"2920e9c0a96190625f2e6b1ad224894c"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "e69c730b-1ee3-4894-b4b0-e1461c15c30f",
      "X-Runtime",
      "0.190222",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:15 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707455.637264,VS0,VE605",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2495",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"2aca90aaa3af534b0d3987057f85c77e"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "f640562a-7faa-4e1d-8c2a-24044b78d5fd",
      "X-Runtime",
      "0.013512",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:16 GMT",
      "X-Served-By",
      "cache-for8425-FOR, cache-for8425-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707455.373764,VS0,VE631",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Sally",
          random_bucket: 5828,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2494",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"4bdc45685713e530b649fce1bc883405"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "ee83b022-f7c8-49db-ba96-2e1dfc89737e",
      "X-Runtime",
      "0.015785",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:16 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707456.121927,VS0,VE115",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Sally",
          random_bucket: 5828,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2493",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"2920e9c0a96190625f2e6b1ad224894c"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "bdbdfe73-fba9-41db-8750-8bc6eda58898",
      "X-Runtime",
      "0.105525",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:16 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707456.351200,VS0,VE501",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "John",
        groups: ["(test) High Value"],
      },
      {
        external_id: "grouparoo2@demo.com",
        first_name: "Sally",
        groups: ["(test) High Value"],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 2, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49998",
    "X-RateLimit-Reset",
    "1637707500",
    "ETag",
    'W/"af2ed31e087361f60d54b72146dab51d"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "9296289f-693e-4b67-8194-1d37c3e889ff",
    "X-Runtime",
    "0.012364",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:17 GMT",
    "X-Served-By",
    "cache-for8422-FOR, cache-for8422-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707457.966027,VS0,VE305",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: ["(test) High Value"] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Sally",
          random_bucket: 5828,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2492",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"8d3c98c58bf74655357c9fcfa82c8a11"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "3447c56a-b9dd-4d67-a925-0f636d3d5f83",
      "X-Runtime",
      "0.017943",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:17 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707457.379222,VS0,VE412",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: ["(test) High Value"] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2491",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"b03ebd8c77772864346a7e42b56648f2"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "bdc0c206-19ac-4cb6-a984-9c0e04cc7df0",
      "X-Runtime",
      "0.022097",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:18 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707458.898660,VS0,VE122",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Sally",
          random_bucket: 5828,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2490",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"4bdc45685713e530b649fce1bc883405"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "b8a6467c-169c-441f-b890-ce7042bdd606",
      "X-Runtime",
      "0.047887",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:18 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707458.131515,VS0,VE343",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:08.040Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6e40ea5cf5171748a9bd",
          braze_id: "619d6e40ea5cf5171748a9bd",
          first_name: "John",
          random_bucket: 6361,
          custom_attributes: { groups: ["(test) High Value"] },
          dob: "1980-12-21T00:00:00.000Z",
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2489",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"b03ebd8c77772864346a7e42b56648f2"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "54c52ce5-b3b4-4806-82bc-ce186181e77f",
      "X-Runtime",
      "0.020349",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:18 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707459.586064,VS0,VE412",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["notgrouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Sally",
          random_bucket: 5828,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["notgrouparoo@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2488",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"a59095b5e49ba319155a86c5c6d3d5d4"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "c969dc59-4d2c-4b97-ad0f-2c48fc3ffd48",
      "X-Runtime",
      "0.037168",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:19 GMT",
      "X-Served-By",
      "cache-for8422-FOR, cache-for8422-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707459.103808,VS0,VE457",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "notgrouparoo@demo.com",
        first_name: "John",
        last_name: "Test",
        groups: ["(test) High Value", "(test) Churned"],
      },
      { external_id: "grouparoo2@demo.com", first_name: "Evan", groups: [] },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 2, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49997",
    "X-RateLimit-Reset",
    "1637707500",
    "ETag",
    'W/"af2ed31e087361f60d54b72146dab51d"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "80fc8126-8724-4f11-95ef-3c264b749b2d",
    "X-Runtime",
    "0.020667",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:19 GMT",
    "X-Served-By",
    "cache-for8420-FOR, cache-for8420-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707460.668397,VS0,VE315",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/delete", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(201, { deleted: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "250000",
    "X-RateLimit-Remaining",
    "249993",
    "X-RateLimit-Reset",
    "1637708400",
    "ETag",
    'W/"bbb9b80001393a9d3a40aed1f79e945b"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "5e45fa1b-db92-4a4b-8b44-5d60730d5212",
    "X-Runtime",
    "0.005506",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:20 GMT",
    "X-Served-By",
    "cache-for8428-FOR, cache-for8428-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707460.091440,VS0,VE409",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "notgrouparoo@demo.com",
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:19.978Z",
          external_id: "notgrouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ec3799bab20bba78ab5",
          braze_id: "619d6ec3799bab20bba78ab5",
          first_name: "John",
          last_name: "Test",
          random_bucket: 862,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Evan",
          random_bucket: 5828,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2487",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"05ab5cdf25648f112842a653fd516f0c"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "fecfef90-6c1d-487c-b738-f5478b0fcedb",
      "X-Runtime",
      "0.023548",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:21 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707461.608081,VS0,VE418",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    { users: [], invalid_user_ids: ["grouparoo@demo.com"], message: "success" },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2486",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"cbc03a88a58694a757389f4d76331e75"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "3efe38c4-fc97-4a27-ad75-dff6407ed4f2",
      "X-Runtime",
      "0.017246",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:21 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707461.144417,VS0,VE117",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["notgrouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:19.978Z",
          external_id: "notgrouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ec3799bab20bba78ab5",
          braze_id: "619d6ec3799bab20bba78ab5",
          first_name: "John",
          last_name: "Test",
          random_bucket: 862,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2485",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"badfacf7f066d7465c5fcacea8360b38"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "a2d4ee2e-119d-498c-93d6-1e5808a8478b",
      "X-Runtime",
      "0.020946",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:21 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707461.368228,VS0,VE121",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Evan",
          random_bucket: 5828,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2484",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"4bb9754e3284b84948f4edd9a89ce4ff"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "48c1f1d9-f616-498c-9881-3376e5b78200",
      "X-Runtime",
      "0.015521",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:21 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707462.599117,VS0,VE123",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["notgrouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:19.978Z",
          external_id: "notgrouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ec3799bab20bba78ab5",
          braze_id: "619d6ec3799bab20bba78ab5",
          first_name: "John",
          last_name: "Test",
          random_bucket: 862,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2483",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"badfacf7f066d7465c5fcacea8360b38"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "ae6f6311-d36d-49b9-8af4-bcbd28abd498",
      "X-Runtime",
      "0.020580",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:21 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707462.833714,VS0,VE120",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["notgrouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:19.978Z",
          external_id: "notgrouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ec3799bab20bba78ab5",
          braze_id: "619d6ec3799bab20bba78ab5",
          first_name: "John",
          last_name: "Test",
          random_bucket: 862,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2482",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"badfacf7f066d7465c5fcacea8360b38"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "48e463f9-5b6d-49a6-b005-e10c0df35114",
      "X-Runtime",
      "0.012469",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:22 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707462.071503,VS0,VE112",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["notgrouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:19.978Z",
          external_id: "notgrouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ec3799bab20bba78ab5",
          braze_id: "619d6ec3799bab20bba78ab5",
          first_name: "John",
          last_name: "Test",
          random_bucket: 862,
          custom_attributes: {
            groups: ["(test) High Value", "(test) Churned"],
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2481",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"badfacf7f066d7465c5fcacea8360b38"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "243d844e-8087-4948-8791-7188d31f8c56",
      "X-Runtime",
      "0.023209",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:22 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707462.293068,VS0,VE126",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo2@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:42:41.842Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6e61f0fb52311f187a79",
          braze_id: "619d6e61f0fb52311f187a79",
          first_name: "Evan",
          random_bucket: 5828,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2480",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"3d327527ef1ebbcfe5d07c9fe875dc35"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "e605dcf2-9b26-4f60-975e-5a2150f82ce8",
      "X-Runtime",
      "0.017627",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:22 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707463.526983,VS0,VE117",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/delete", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(201, { deleted: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "250000",
    "X-RateLimit-Remaining",
    "249992",
    "X-RateLimit-Reset",
    "1637708400",
    "ETag",
    'W/"bbb9b80001393a9d3a40aed1f79e945b"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "7a929f50-8234-448e-9a7a-8e663128a615",
    "X-Runtime",
    "0.008718",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:23 GMT",
    "X-Served-By",
    "cache-for8428-FOR, cache-for8428-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707463.751714,VS0,VE627",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "John",
        last_name: "Test",
        groups: ["(test) High Value"],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49996",
    "X-RateLimit-Reset",
    "1637707500",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "5afdacce-a867-4b69-9070-d44f3bf4ed6c",
    "X-Runtime",
    "0.008183",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:23 GMT",
    "X-Served-By",
    "cache-for8429-FOR, cache-for8429-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707463.484992,VS0,VE401",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/delete", { external_ids: ["notgrouparoo@demo.com"] })
  .once()
  .reply(201, { deleted: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "250000",
    "X-RateLimit-Remaining",
    "249991",
    "X-RateLimit-Reset",
    "1637708400",
    "ETag",
    'W/"bbb9b80001393a9d3a40aed1f79e945b"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "723a4681-3825-4afc-8ddb-801b734b941a",
    "X-Runtime",
    "0.007424",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:24 GMT",
    "X-Served-By",
    "cache-for8429-FOR, cache-for8429-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707464.994480,VS0,VE398",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "notgrouparoo@demo.com",
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: [
        "notgrouparoo@demo.com",
        "grouparoo@demo.com",
        "grouparoo2@demo.com",
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2479",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"9687ec77c084eb8848dc95478fcb7504"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "37e741b0-fad4-4e05-aa0e-bd611ec04d83",
      "X-Runtime",
      "0.022675",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:24 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707465.502469,VS0,VE417",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "notgrouparoo@demo.com",
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "John",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["notgrouparoo@demo.com", "grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2478",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"0d5b25132e6acbcab812c2577cbf50d9"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "58033c2c-9292-45d1-a714-6ed9c69c7c9c",
      "X-Runtime",
      "0.032651",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:55 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707495.052097,VS0,VE327",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["notgrouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: ["notgrouparoo@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2477",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"d980b052d0983e04c19af1ae03dd1822"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "40c4efef-38fe-4134-b5c8-0fab00dfcf97",
      "X-Runtime",
      "0.028529",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:55 GMT",
      "X-Served-By",
      "cache-for8424-FOR, cache-for8424-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707495.486071,VS0,VE129",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "John",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2476",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"49213be00c31aa4ee3ad8e69214083ca"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "2f055fee-03a8-48c3-9b39-b61ad0f19971",
      "X-Runtime",
      "0.016142",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:56 GMT",
      "X-Served-By",
      "cache-for8422-FOR, cache-for8422-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707496.719308,VS0,VE413",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: ["grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2475",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"bb71679c3621e43b03a147da5d081928"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "0b939961-ee60-4687-922b-f2cd74782891",
      "X-Runtime",
      "0.015750",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:56 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707496.244889,VS0,VE311",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: ["grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2474",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"bb71679c3621e43b03a147da5d081928"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "ff04ce88-b0d5-4800-af9a-de3d00cacb66",
      "X-Runtime",
      "0.014766",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:57 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707497.665491,VS0,VE668",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo2@demo.com",
        first_name: "Evan",
        grouparoo_custom_text: "text is also here",
        grouparoo_custom_number: 5,
        groups: [],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49995",
    "X-RateLimit-Reset",
    "1637707500",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "6da67644-6aa5-4d54-ac6a-b26d6de4a267",
    "X-Runtime",
    "0.012141",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:44:57 GMT",
    "X-Served-By",
    "cache-for8427-FOR, cache-for8427-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707497.441728,VS0,VE406",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: ["grouparoo2@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2473",
      "X-RateLimit-Reset",
      "1637707500",
      "ETag",
      'W/"bb71679c3621e43b03a147da5d081928"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "38b44907-478e-42e8-8bce-fd9535e9c6d4",
      "X-Runtime",
      "0.012684",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:44:58 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707498.954979,VS0,VE423",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Evan",
          random_bucket: 7397,
          custom_attributes: {
            groups: [],
            grouparoo_custom_text: "text is also here",
            grouparoo_custom_number: 5,
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707560",
      "ETag",
      'W/"2af2b552f76d3a4d933e70c8d0ae4663"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "f6a9f307-d520-42d4-be8e-ca28eb880cd9",
      "X-Runtime",
      "0.041861",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:45:28 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707528.499609,VS0,VE433",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Evan",
          random_bucket: 7397,
          custom_attributes: {
            groups: [],
            grouparoo_custom_text: "text is also here",
            grouparoo_custom_number: 5,
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2498",
      "X-RateLimit-Reset",
      "1637707560",
      "ETag",
      'W/"2af2b552f76d3a4d933e70c8d0ae4663"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "4db4a877-5cb0-4e66-94fe-ae64ca198ad5",
      "X-Runtime",
      "0.030832",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:45:29 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707529.054975,VS0,VE130",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Evan",
          random_bucket: 7397,
          custom_attributes: {
            groups: [],
            grouparoo_custom_text: "text is also here",
            grouparoo_custom_number: 5,
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2497",
      "X-RateLimit-Reset",
      "1637707560",
      "ETag",
      'W/"2af2b552f76d3a4d933e70c8d0ae4663"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "879c5485-cf8a-429f-ac5e-b1dfd19fac20",
      "X-Runtime",
      "0.022134",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:45:29 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707529.299114,VS0,VE414",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo2@demo.com",
        first_name: "Maria",
        grouparoo_custom_text: null,
        grouparoo_custom_number: null,
        groups: [],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49999",
    "X-RateLimit-Reset",
    "1637707560",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "29d43a3f-f2c3-4453-a379-cbfde5ea16db",
    "X-Runtime",
    "0.012901",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:45:30 GMT",
    "X-Served-By",
    "cache-for8420-FOR, cache-for8420-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707530.824169,VS0,VE407",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Evan",
          random_bucket: 7397,
          custom_attributes: {
            groups: [],
            grouparoo_custom_text: "text is also here",
            grouparoo_custom_number: 5,
          },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2496",
      "X-RateLimit-Reset",
      "1637707560",
      "ETag",
      'W/"2af2b552f76d3a4d933e70c8d0ae4663"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "572a2c43-b3c1-400a-b0dc-51b2111d111a",
      "X-Runtime",
      "0.018313",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:45:30 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707530.340784,VS0,VE117",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"d54bc30eca847dccdca14614b570c7b9"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "83bf75da-c4a8-4eea-a065-ef509f26089c",
      "X-Runtime",
      "0.015430",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:00 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707561.580337,VS0,VE408",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2498",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"d54bc30eca847dccdca14614b570c7b9"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "e13f34b9-8506-4d0b-89a8-03d94d6453c3",
      "X-Runtime",
      "0.014066",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:01 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707561.104045,VS0,VE407",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2497",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"d54bc30eca847dccdca14614b570c7b9"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "71804ca8-d577-4a04-a7bc-e12b67ed003c",
      "X-Runtime",
      "0.031379",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:02 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707562.704395,VS0,VE429",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo3@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: ["grouparoo3@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2496",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"e40f078e0c3474c701a4fd7c2879ae14"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "a5b2039a-3223-4518-8882-63a557113b11",
      "X-Runtime",
      "0.014944",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:02 GMT",
      "X-Served-By",
      "cache-for8428-FOR, cache-for8428-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707562.244489,VS0,VE114",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: ["grouparoo@demo.com", "grouparoo3@demo.com"],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "John",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo3@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2495",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"220f3b571f29e8f773c98fb56513f693"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "68e1cc23-64f6-4317-b52d-23b53124a4d4",
      "X-Runtime",
      "0.016069",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:02 GMT",
      "X-Served-By",
      "cache-for8422-FOR, cache-for8422-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707562.465606,VS0,VE409",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo@demo.com",
        first_name: "Sam",
        last_name: "Test",
        groups: ["(test) High Value"],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49999",
    "X-RateLimit-Reset",
    "1637707620",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "f1c6ee1a-a265-4a8d-9192-c0d4cff76e1e",
    "X-Runtime",
    "0.010284",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:46:03 GMT",
    "X-Served-By",
    "cache-for8425-FOR, cache-for8425-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707563.982012,VS0,VE401",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "grouparoo3@demo.com",
        first_name: "Liz",
        grouparoo_custom_text: "some text",
        groups: [],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 1, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49998",
    "X-RateLimit-Reset",
    "1637707620",
    "ETag",
    'W/"f34a974a3de7f56c1472e483c2725291"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "45524af0-b175-4325-b7bc-97c7a49ca772",
    "X-Runtime",
    "0.006922",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:46:03 GMT",
    "X-Served-By",
    "cache-for8428-FOR, cache-for8428-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707563.491898,VS0,VE398",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "John",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["grouparoo3@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2494",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"7a9cc180ba1fb2c75c58f5266db2617a"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "83104bbe-f694-4864-a052-106a8ee713e7",
      "X-Runtime",
      "0.022625",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:04 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707564.003739,VS0,VE414",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "Sam",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:09.435Z",
          external_id: "grouparoo3@demo.com",
          user_aliases: [],
          appboy_id: "619d6f31306e4b137da34985",
          braze_id: "619d6f31306e4b137da34985",
          first_name: "Liz",
          random_bucket: 6418,
          custom_attributes: { groups: [], grouparoo_custom_text: "some text" },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2493",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"3c330148d6ff626d6edddc21d1d8fb37"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "b5a2d9b7-726e-4e83-a4d4-9fe44bca01da",
      "X-Runtime",
      "0.021159",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:34 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707595.541603,VS0,VE414",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "Sam",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2492",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"211330f94de40433076119844cbd2dea"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "f73a16c8-7d21-4561-be33-18d42e2afd6f",
      "X-Runtime",
      "0.023668",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:35 GMT",
      "X-Served-By",
      "cache-for8427-FOR, cache-for8427-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707595.062277,VS0,VE321",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo2@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2491",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"d54bc30eca847dccdca14614b570c7b9"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "c89175ff-d603-4ff1-bcf2-ef7912a04908",
      "X-Runtime",
      "0.018754",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:35 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707595.490929,VS0,VE412",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", { external_ids: ["grouparoo3@demo.com"] })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:46:09.435Z",
          external_id: "grouparoo3@demo.com",
          user_aliases: [],
          appboy_id: "619d6f31306e4b137da34985",
          braze_id: "619d6f31306e4b137da34985",
          first_name: "Liz",
          random_bucket: 6418,
          custom_attributes: { groups: [], grouparoo_custom_text: "some text" },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2490",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"d5d390b4232f042ddb1218f58783d920"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "9b8955ab-a0a9-4236-8015-48925471a387",
      "X-Runtime",
      "0.017345",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:36 GMT",
      "X-Served-By",
      "cache-for8422-FOR, cache-for8422-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707596.008597,VS0,VE312",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "user0@demo.com",
      "user1@demo.com",
      "user2@demo.com",
      "user3@demo.com",
      "user4@demo.com",
      "user5@demo.com",
      "user6@demo.com",
      "user7@demo.com",
      "user8@demo.com",
      "user9@demo.com",
      "user10@demo.com",
      "user11@demo.com",
      "user12@demo.com",
      "user13@demo.com",
      "user14@demo.com",
      "user15@demo.com",
      "user16@demo.com",
      "user17@demo.com",
      "user18@demo.com",
      "user19@demo.com",
      "user20@demo.com",
      "user21@demo.com",
      "user22@demo.com",
      "user23@demo.com",
      "user24@demo.com",
      "user25@demo.com",
      "user26@demo.com",
      "user27@demo.com",
      "user28@demo.com",
      "user29@demo.com",
      "user30@demo.com",
      "user31@demo.com",
      "user32@demo.com",
      "user33@demo.com",
      "user34@demo.com",
      "user35@demo.com",
      "user36@demo.com",
      "user37@demo.com",
      "user38@demo.com",
      "user39@demo.com",
      "user40@demo.com",
      "user41@demo.com",
      "user42@demo.com",
      "user43@demo.com",
      "user44@demo.com",
      "user45@demo.com",
      "user46@demo.com",
      "user47@demo.com",
      "user48@demo.com",
      "user49@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: [
        "user0@demo.com",
        "user1@demo.com",
        "user2@demo.com",
        "user3@demo.com",
        "user4@demo.com",
        "user5@demo.com",
        "user6@demo.com",
        "user7@demo.com",
        "user8@demo.com",
        "user9@demo.com",
        "user10@demo.com",
        "user11@demo.com",
        "user12@demo.com",
        "user13@demo.com",
        "user14@demo.com",
        "user15@demo.com",
        "user16@demo.com",
        "user17@demo.com",
        "user18@demo.com",
        "user19@demo.com",
        "user20@demo.com",
        "user21@demo.com",
        "user22@demo.com",
        "user23@demo.com",
        "user24@demo.com",
        "user25@demo.com",
        "user26@demo.com",
        "user27@demo.com",
        "user28@demo.com",
        "user29@demo.com",
        "user30@demo.com",
        "user31@demo.com",
        "user32@demo.com",
        "user33@demo.com",
        "user34@demo.com",
        "user35@demo.com",
        "user36@demo.com",
        "user37@demo.com",
        "user38@demo.com",
        "user39@demo.com",
        "user40@demo.com",
        "user41@demo.com",
        "user42@demo.com",
        "user43@demo.com",
        "user44@demo.com",
        "user45@demo.com",
        "user46@demo.com",
        "user47@demo.com",
        "user48@demo.com",
        "user49@demo.com",
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2489",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"1c25f45ac29f7af4e1068474c150ef7a"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "b261799c-22d0-44dd-9cc9-fc7099d7f471",
      "X-Runtime",
      "0.288036",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:37 GMT",
      "X-Served-By",
      "cache-for8420-FOR, cache-for8420-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707596.432898,VS0,VE679",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/track", {
    attributes: [
      {
        external_id: "user0@demo.com",
        first_name: "Fist Name 0",
        last_name: "Last Name 0",
        groups: [],
      },
      {
        external_id: "user1@demo.com",
        first_name: "Fist Name 1",
        last_name: "Last Name 1",
        groups: [],
      },
      {
        external_id: "user2@demo.com",
        first_name: "Fist Name 2",
        last_name: "Last Name 2",
        groups: [],
      },
      {
        external_id: "user3@demo.com",
        first_name: "Fist Name 3",
        last_name: "Last Name 3",
        groups: [],
      },
      {
        external_id: "user4@demo.com",
        first_name: "Fist Name 4",
        last_name: "Last Name 4",
        groups: [],
      },
      {
        external_id: "user5@demo.com",
        first_name: "Fist Name 5",
        last_name: "Last Name 5",
        groups: [],
      },
      {
        external_id: "user6@demo.com",
        first_name: "Fist Name 6",
        last_name: "Last Name 6",
        groups: [],
      },
      {
        external_id: "user7@demo.com",
        first_name: "Fist Name 7",
        last_name: "Last Name 7",
        groups: [],
      },
      {
        external_id: "user8@demo.com",
        first_name: "Fist Name 8",
        last_name: "Last Name 8",
        groups: [],
      },
      {
        external_id: "user9@demo.com",
        first_name: "Fist Name 9",
        last_name: "Last Name 9",
        groups: [],
      },
      {
        external_id: "user10@demo.com",
        first_name: "Fist Name 10",
        last_name: "Last Name 10",
        groups: [],
      },
      {
        external_id: "user11@demo.com",
        first_name: "Fist Name 11",
        last_name: "Last Name 11",
        groups: [],
      },
      {
        external_id: "user12@demo.com",
        first_name: "Fist Name 12",
        last_name: "Last Name 12",
        groups: [],
      },
      {
        external_id: "user13@demo.com",
        first_name: "Fist Name 13",
        last_name: "Last Name 13",
        groups: [],
      },
      {
        external_id: "user14@demo.com",
        first_name: "Fist Name 14",
        last_name: "Last Name 14",
        groups: [],
      },
      {
        external_id: "user15@demo.com",
        first_name: "Fist Name 15",
        last_name: "Last Name 15",
        groups: [],
      },
      {
        external_id: "user16@demo.com",
        first_name: "Fist Name 16",
        last_name: "Last Name 16",
        groups: [],
      },
      {
        external_id: "user17@demo.com",
        first_name: "Fist Name 17",
        last_name: "Last Name 17",
        groups: [],
      },
      {
        external_id: "user18@demo.com",
        first_name: "Fist Name 18",
        last_name: "Last Name 18",
        groups: [],
      },
      {
        external_id: "user19@demo.com",
        first_name: "Fist Name 19",
        last_name: "Last Name 19",
        groups: [],
      },
      {
        external_id: "user20@demo.com",
        first_name: "Fist Name 20",
        last_name: "Last Name 20",
        groups: [],
      },
      {
        external_id: "user21@demo.com",
        first_name: "Fist Name 21",
        last_name: "Last Name 21",
        groups: [],
      },
      {
        external_id: "user22@demo.com",
        first_name: "Fist Name 22",
        last_name: "Last Name 22",
        groups: [],
      },
      {
        external_id: "user23@demo.com",
        first_name: "Fist Name 23",
        last_name: "Last Name 23",
        groups: [],
      },
      {
        external_id: "user24@demo.com",
        first_name: "Fist Name 24",
        last_name: "Last Name 24",
        groups: [],
      },
      {
        external_id: "user25@demo.com",
        first_name: "Fist Name 25",
        last_name: "Last Name 25",
        groups: [],
      },
      {
        external_id: "user26@demo.com",
        first_name: "Fist Name 26",
        last_name: "Last Name 26",
        groups: [],
      },
      {
        external_id: "user27@demo.com",
        first_name: "Fist Name 27",
        last_name: "Last Name 27",
        groups: [],
      },
      {
        external_id: "user28@demo.com",
        first_name: "Fist Name 28",
        last_name: "Last Name 28",
        groups: [],
      },
      {
        external_id: "user29@demo.com",
        first_name: "Fist Name 29",
        last_name: "Last Name 29",
        groups: [],
      },
      {
        external_id: "user30@demo.com",
        first_name: "Fist Name 30",
        last_name: "Last Name 30",
        groups: [],
      },
      {
        external_id: "user31@demo.com",
        first_name: "Fist Name 31",
        last_name: "Last Name 31",
        groups: [],
      },
      {
        external_id: "user32@demo.com",
        first_name: "Fist Name 32",
        last_name: "Last Name 32",
        groups: [],
      },
      {
        external_id: "user33@demo.com",
        first_name: "Fist Name 33",
        last_name: "Last Name 33",
        groups: [],
      },
      {
        external_id: "user34@demo.com",
        first_name: "Fist Name 34",
        last_name: "Last Name 34",
        groups: [],
      },
      {
        external_id: "user35@demo.com",
        first_name: "Fist Name 35",
        last_name: "Last Name 35",
        groups: [],
      },
      {
        external_id: "user36@demo.com",
        first_name: "Fist Name 36",
        last_name: "Last Name 36",
        groups: [],
      },
      {
        external_id: "user37@demo.com",
        first_name: "Fist Name 37",
        last_name: "Last Name 37",
        groups: [],
      },
      {
        external_id: "user38@demo.com",
        first_name: "Fist Name 38",
        last_name: "Last Name 38",
        groups: [],
      },
      {
        external_id: "user39@demo.com",
        first_name: "Fist Name 39",
        last_name: "Last Name 39",
        groups: [],
      },
      {
        external_id: "user40@demo.com",
        first_name: "Fist Name 40",
        last_name: "Last Name 40",
        groups: [],
      },
      {
        external_id: "user41@demo.com",
        first_name: "Fist Name 41",
        last_name: "Last Name 41",
        groups: [],
      },
      {
        external_id: "user42@demo.com",
        first_name: "Fist Name 42",
        last_name: "Last Name 42",
        groups: [],
      },
      {
        external_id: "user43@demo.com",
        first_name: "Fist Name 43",
        last_name: "Last Name 43",
        groups: [],
      },
      {
        external_id: "user44@demo.com",
        first_name: "Fist Name 44",
        last_name: "Last Name 44",
        groups: [],
      },
      {
        external_id: "user45@demo.com",
        first_name: "Fist Name 45",
        last_name: "Last Name 45",
        groups: [],
      },
      {
        external_id: "user46@demo.com",
        first_name: "Fist Name 46",
        last_name: "Last Name 46",
        groups: [],
      },
      {
        external_id: "user47@demo.com",
        first_name: "Fist Name 47",
        last_name: "Last Name 47",
        groups: [],
      },
      {
        external_id: "user48@demo.com",
        first_name: "Fist Name 48",
        last_name: "Last Name 48",
        groups: [],
      },
      {
        external_id: "user49@demo.com",
        first_name: "Fist Name 49",
        last_name: "Last Name 49",
        groups: [],
      },
    ],
  })
  .query({ "": "" })
  .once()
  .reply(201, { attributes_processed: 50, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "50000",
    "X-RateLimit-Remaining",
    "49997",
    "X-RateLimit-Reset",
    "1637707620",
    "ETag",
    'W/"0d150c22829a0d0df62c5b007a1ecc95"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "434d4205-5dbd-43a8-ba77-fa084102c19f",
    "X-Runtime",
    "0.014481",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:46:37 GMT",
    "X-Served-By",
    "cache-for8428-FOR, cache-for8428-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707597.223082,VS0,VE668",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "user0@demo.com",
      "user1@demo.com",
      "user2@demo.com",
      "user3@demo.com",
      "user4@demo.com",
      "user5@demo.com",
      "user6@demo.com",
      "user7@demo.com",
      "user8@demo.com",
      "user9@demo.com",
      "user10@demo.com",
      "user11@demo.com",
      "user12@demo.com",
      "user13@demo.com",
      "user14@demo.com",
      "user15@demo.com",
      "user16@demo.com",
      "user17@demo.com",
      "user18@demo.com",
      "user19@demo.com",
      "user20@demo.com",
      "user21@demo.com",
      "user22@demo.com",
      "user23@demo.com",
      "user24@demo.com",
      "user25@demo.com",
      "user26@demo.com",
      "user27@demo.com",
      "user28@demo.com",
      "user29@demo.com",
      "user30@demo.com",
      "user31@demo.com",
      "user32@demo.com",
      "user33@demo.com",
      "user34@demo.com",
      "user35@demo.com",
      "user36@demo.com",
      "user37@demo.com",
      "user38@demo.com",
      "user39@demo.com",
      "user40@demo.com",
      "user41@demo.com",
      "user42@demo.com",
      "user43@demo.com",
      "user44@demo.com",
      "user45@demo.com",
      "user46@demo.com",
      "user47@demo.com",
      "user48@demo.com",
      "user49@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:46:37.857Z",
          external_id: "user0@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4df0492735ec90ee08",
          braze_id: "619d6f4df0492735ec90ee08",
          random_bucket: 6753,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.017Z",
          external_id: "user1@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee0b",
          braze_id: "619d6f4ef0492735ec90ee0b",
          random_bucket: 4086,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.056Z",
          external_id: "user2@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee12",
          braze_id: "619d6f4ef0492735ec90ee12",
          random_bucket: 6969,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.099Z",
          external_id: "user3@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee15",
          braze_id: "619d6f4ef0492735ec90ee15",
          random_bucket: 8472,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.131Z",
          external_id: "user4@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee18",
          braze_id: "619d6f4ef0492735ec90ee18",
          random_bucket: 3847,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.173Z",
          external_id: "user5@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee23",
          braze_id: "619d6f4ef0492735ec90ee23",
          random_bucket: 9238,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.222Z",
          external_id: "user6@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee2e",
          braze_id: "619d6f4ef0492735ec90ee2e",
          random_bucket: 2150,
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: [
        "user7@demo.com",
        "user8@demo.com",
        "user9@demo.com",
        "user10@demo.com",
        "user11@demo.com",
        "user12@demo.com",
        "user13@demo.com",
        "user14@demo.com",
        "user15@demo.com",
        "user16@demo.com",
        "user17@demo.com",
        "user18@demo.com",
        "user19@demo.com",
        "user20@demo.com",
        "user21@demo.com",
        "user22@demo.com",
        "user23@demo.com",
        "user24@demo.com",
        "user25@demo.com",
        "user26@demo.com",
        "user27@demo.com",
        "user28@demo.com",
        "user29@demo.com",
        "user30@demo.com",
        "user31@demo.com",
        "user32@demo.com",
        "user33@demo.com",
        "user34@demo.com",
        "user35@demo.com",
        "user36@demo.com",
        "user37@demo.com",
        "user38@demo.com",
        "user39@demo.com",
        "user40@demo.com",
        "user41@demo.com",
        "user42@demo.com",
        "user43@demo.com",
        "user44@demo.com",
        "user45@demo.com",
        "user46@demo.com",
        "user47@demo.com",
        "user48@demo.com",
        "user49@demo.com",
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2488",
      "X-RateLimit-Reset",
      "1637707620",
      "ETag",
      'W/"32e2dad1c40700dd605c056cd47b8c28"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "40e7c3b5-9244-4757-85ef-c41bfed67e8c",
      "X-Runtime",
      "0.034240",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:46:38 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707598.998501,VS0,VE329",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "user0@demo.com",
      "user1@demo.com",
      "user2@demo.com",
      "user3@demo.com",
      "user4@demo.com",
      "user5@demo.com",
      "user6@demo.com",
      "user7@demo.com",
      "user8@demo.com",
      "user9@demo.com",
      "user10@demo.com",
      "user11@demo.com",
      "user12@demo.com",
      "user13@demo.com",
      "user14@demo.com",
      "user15@demo.com",
      "user16@demo.com",
      "user17@demo.com",
      "user18@demo.com",
      "user19@demo.com",
      "user20@demo.com",
      "user21@demo.com",
      "user22@demo.com",
      "user23@demo.com",
      "user24@demo.com",
      "user25@demo.com",
      "user26@demo.com",
      "user27@demo.com",
      "user28@demo.com",
      "user29@demo.com",
      "user30@demo.com",
      "user31@demo.com",
      "user32@demo.com",
      "user33@demo.com",
      "user34@demo.com",
      "user35@demo.com",
      "user36@demo.com",
      "user37@demo.com",
      "user38@demo.com",
      "user39@demo.com",
      "user40@demo.com",
      "user41@demo.com",
      "user42@demo.com",
      "user43@demo.com",
      "user44@demo.com",
      "user45@demo.com",
      "user46@demo.com",
      "user47@demo.com",
      "user48@demo.com",
      "user49@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:46:37.857Z",
          external_id: "user0@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4df0492735ec90ee08",
          braze_id: "619d6f4df0492735ec90ee08",
          first_name: "Fist Name 0",
          last_name: "Last Name 0",
          random_bucket: 6753,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.017Z",
          external_id: "user1@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee0b",
          braze_id: "619d6f4ef0492735ec90ee0b",
          first_name: "Fist Name 1",
          last_name: "Last Name 1",
          random_bucket: 4086,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.056Z",
          external_id: "user2@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee12",
          braze_id: "619d6f4ef0492735ec90ee12",
          first_name: "Fist Name 2",
          last_name: "Last Name 2",
          random_bucket: 6969,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.099Z",
          external_id: "user3@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee15",
          braze_id: "619d6f4ef0492735ec90ee15",
          first_name: "Fist Name 3",
          last_name: "Last Name 3",
          random_bucket: 8472,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.131Z",
          external_id: "user4@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee18",
          braze_id: "619d6f4ef0492735ec90ee18",
          first_name: "Fist Name 4",
          last_name: "Last Name 4",
          random_bucket: 3847,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.173Z",
          external_id: "user5@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee23",
          braze_id: "619d6f4ef0492735ec90ee23",
          first_name: "Fist Name 5",
          last_name: "Last Name 5",
          random_bucket: 9238,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.222Z",
          external_id: "user6@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee2e",
          braze_id: "619d6f4ef0492735ec90ee2e",
          first_name: "Fist Name 6",
          last_name: "Last Name 6",
          random_bucket: 2150,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.282Z",
          external_id: "user7@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee31",
          braze_id: "619d6f4ef0492735ec90ee31",
          first_name: "Fist Name 7",
          last_name: "Last Name 7",
          random_bucket: 1686,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.320Z",
          external_id: "user8@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee34",
          braze_id: "619d6f4ef0492735ec90ee34",
          first_name: "Fist Name 8",
          last_name: "Last Name 8",
          random_bucket: 4676,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.350Z",
          external_id: "user9@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee37",
          braze_id: "619d6f4ef0492735ec90ee37",
          first_name: "Fist Name 9",
          last_name: "Last Name 9",
          random_bucket: 7368,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.383Z",
          external_id: "user10@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee3a",
          braze_id: "619d6f4ef0492735ec90ee3a",
          first_name: "Fist Name 10",
          last_name: "Last Name 10",
          random_bucket: 7807,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.409Z",
          external_id: "user11@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee3d",
          braze_id: "619d6f4ef0492735ec90ee3d",
          first_name: "Fist Name 11",
          last_name: "Last Name 11",
          random_bucket: 8416,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.466Z",
          external_id: "user12@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee45",
          braze_id: "619d6f4ef0492735ec90ee45",
          first_name: "Fist Name 12",
          last_name: "Last Name 12",
          random_bucket: 5086,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.491Z",
          external_id: "user13@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee48",
          braze_id: "619d6f4ef0492735ec90ee48",
          first_name: "Fist Name 13",
          last_name: "Last Name 13",
          random_bucket: 8363,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.519Z",
          external_id: "user14@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee4b",
          braze_id: "619d6f4ef0492735ec90ee4b",
          first_name: "Fist Name 14",
          last_name: "Last Name 14",
          random_bucket: 2835,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.555Z",
          external_id: "user15@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee4e",
          braze_id: "619d6f4ef0492735ec90ee4e",
          first_name: "Fist Name 15",
          last_name: "Last Name 15",
          random_bucket: 5055,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.625Z",
          external_id: "user16@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee55",
          braze_id: "619d6f4ef0492735ec90ee55",
          first_name: "Fist Name 16",
          last_name: "Last Name 16",
          random_bucket: 2309,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.882Z",
          external_id: "user17@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee58",
          braze_id: "619d6f4ef0492735ec90ee58",
          first_name: "Fist Name 17",
          last_name: "Last Name 17",
          random_bucket: 3561,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.913Z",
          external_id: "user18@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee5b",
          braze_id: "619d6f4ef0492735ec90ee5b",
          first_name: "Fist Name 18",
          last_name: "Last Name 18",
          random_bucket: 181,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:38.947Z",
          external_id: "user19@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee62",
          braze_id: "619d6f4ef0492735ec90ee62",
          first_name: "Fist Name 19",
          last_name: "Last Name 19",
          random_bucket: 7501,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.025Z",
          external_id: "user20@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ef0492735ec90ee65",
          braze_id: "619d6f4ef0492735ec90ee65",
          first_name: "Fist Name 20",
          last_name: "Last Name 20",
          random_bucket: 4298,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.076Z",
          external_id: "user21@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee68",
          braze_id: "619d6f4ff0492735ec90ee68",
          first_name: "Fist Name 21",
          last_name: "Last Name 21",
          random_bucket: 6324,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.134Z",
          external_id: "user22@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee6b",
          braze_id: "619d6f4ff0492735ec90ee6b",
          first_name: "Fist Name 22",
          last_name: "Last Name 22",
          random_bucket: 2528,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.160Z",
          external_id: "user23@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee6e",
          braze_id: "619d6f4ff0492735ec90ee6e",
          first_name: "Fist Name 23",
          last_name: "Last Name 23",
          random_bucket: 2503,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.346Z",
          external_id: "user24@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee71",
          braze_id: "619d6f4ff0492735ec90ee71",
          first_name: "Fist Name 24",
          last_name: "Last Name 24",
          random_bucket: 4845,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.459Z",
          external_id: "user25@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee74",
          braze_id: "619d6f4ff0492735ec90ee74",
          first_name: "Fist Name 25",
          last_name: "Last Name 25",
          random_bucket: 1396,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.485Z",
          external_id: "user26@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee77",
          braze_id: "619d6f4ff0492735ec90ee77",
          first_name: "Fist Name 26",
          last_name: "Last Name 26",
          random_bucket: 9017,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.518Z",
          external_id: "user27@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee7e",
          braze_id: "619d6f4ff0492735ec90ee7e",
          first_name: "Fist Name 27",
          last_name: "Last Name 27",
          random_bucket: 9306,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.547Z",
          external_id: "user28@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee81",
          braze_id: "619d6f4ff0492735ec90ee81",
          first_name: "Fist Name 28",
          last_name: "Last Name 28",
          random_bucket: 8182,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.596Z",
          external_id: "user29@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee90",
          braze_id: "619d6f4ff0492735ec90ee90",
          first_name: "Fist Name 29",
          last_name: "Last Name 29",
          random_bucket: 851,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.623Z",
          external_id: "user30@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee93",
          braze_id: "619d6f4ff0492735ec90ee93",
          first_name: "Fist Name 30",
          last_name: "Last Name 30",
          random_bucket: 1421,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.706Z",
          external_id: "user31@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee96",
          braze_id: "619d6f4ff0492735ec90ee96",
          first_name: "Fist Name 31",
          last_name: "Last Name 31",
          random_bucket: 2012,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.834Z",
          external_id: "user32@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90ee9e",
          braze_id: "619d6f4ff0492735ec90ee9e",
          first_name: "Fist Name 32",
          last_name: "Last Name 32",
          random_bucket: 8032,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:39.917Z",
          external_id: "user33@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90eea1",
          braze_id: "619d6f4ff0492735ec90eea1",
          first_name: "Fist Name 33",
          last_name: "Last Name 33",
          random_bucket: 3641,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.007Z",
          external_id: "user34@demo.com",
          user_aliases: [],
          appboy_id: "619d6f4ff0492735ec90eea4",
          braze_id: "619d6f4ff0492735ec90eea4",
          first_name: "Fist Name 34",
          last_name: "Last Name 34",
          random_bucket: 8154,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.082Z",
          external_id: "user35@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eea7",
          braze_id: "619d6f50f0492735ec90eea7",
          first_name: "Fist Name 35",
          last_name: "Last Name 35",
          random_bucket: 7010,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.119Z",
          external_id: "user36@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eeaa",
          braze_id: "619d6f50f0492735ec90eeaa",
          first_name: "Fist Name 36",
          last_name: "Last Name 36",
          random_bucket: 8880,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.183Z",
          external_id: "user37@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eead",
          braze_id: "619d6f50f0492735ec90eead",
          first_name: "Fist Name 37",
          last_name: "Last Name 37",
          random_bucket: 11,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.214Z",
          external_id: "user38@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eeb5",
          braze_id: "619d6f50f0492735ec90eeb5",
          first_name: "Fist Name 38",
          last_name: "Last Name 38",
          random_bucket: 6064,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.253Z",
          external_id: "user39@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eebf",
          braze_id: "619d6f50f0492735ec90eebf",
          first_name: "Fist Name 39",
          last_name: "Last Name 39",
          random_bucket: 6309,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.280Z",
          external_id: "user40@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eec9",
          braze_id: "619d6f50f0492735ec90eec9",
          first_name: "Fist Name 40",
          last_name: "Last Name 40",
          random_bucket: 5697,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.318Z",
          external_id: "user41@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eed2",
          braze_id: "619d6f50f0492735ec90eed2",
          first_name: "Fist Name 41",
          last_name: "Last Name 41",
          random_bucket: 1372,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.377Z",
          external_id: "user42@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eeda",
          braze_id: "619d6f50f0492735ec90eeda",
          first_name: "Fist Name 42",
          last_name: "Last Name 42",
          random_bucket: 7910,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.414Z",
          external_id: "user43@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eee5",
          braze_id: "619d6f50f0492735ec90eee5",
          first_name: "Fist Name 43",
          last_name: "Last Name 43",
          random_bucket: 2372,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.438Z",
          external_id: "user44@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eeee",
          braze_id: "619d6f50f0492735ec90eeee",
          first_name: "Fist Name 44",
          last_name: "Last Name 44",
          random_bucket: 5680,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.462Z",
          external_id: "user45@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eef1",
          braze_id: "619d6f50f0492735ec90eef1",
          first_name: "Fist Name 45",
          last_name: "Last Name 45",
          random_bucket: 2432,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.486Z",
          external_id: "user46@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eef4",
          braze_id: "619d6f50f0492735ec90eef4",
          first_name: "Fist Name 46",
          last_name: "Last Name 46",
          random_bucket: 8292,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.526Z",
          external_id: "user47@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90eef7",
          braze_id: "619d6f50f0492735ec90eef7",
          first_name: "Fist Name 47",
          last_name: "Last Name 47",
          random_bucket: 4688,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.565Z",
          external_id: "user48@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90ef01",
          braze_id: "619d6f50f0492735ec90ef01",
          first_name: "Fist Name 48",
          last_name: "Last Name 48",
          random_bucket: 9268,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:40.623Z",
          external_id: "user49@demo.com",
          user_aliases: [],
          appboy_id: "619d6f50f0492735ec90ef09",
          braze_id: "619d6f50f0492735ec90ef09",
          first_name: "Fist Name 49",
          last_name: "Last Name 49",
          random_bucket: 5227,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2499",
      "X-RateLimit-Reset",
      "1637707680",
      "ETag",
      'W/"817b558ed9d255acb3371961f4485c0d"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "a6fb2f08-aae2-4754-bd9e-7c19491f872c",
      "X-Runtime",
      "0.102481",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:47:09 GMT",
      "X-Served-By",
      "cache-for8421-FOR, cache-for8421-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707628.445143,VS0,VE599",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/delete", {
    external_ids: [
      "user0@demo.com",
      "user1@demo.com",
      "user2@demo.com",
      "user3@demo.com",
      "user4@demo.com",
      "user5@demo.com",
      "user6@demo.com",
      "user7@demo.com",
      "user8@demo.com",
      "user9@demo.com",
      "user10@demo.com",
      "user11@demo.com",
      "user12@demo.com",
      "user13@demo.com",
      "user14@demo.com",
      "user15@demo.com",
      "user16@demo.com",
      "user17@demo.com",
      "user18@demo.com",
      "user19@demo.com",
      "user20@demo.com",
      "user21@demo.com",
      "user22@demo.com",
      "user23@demo.com",
      "user24@demo.com",
      "user25@demo.com",
      "user26@demo.com",
      "user27@demo.com",
      "user28@demo.com",
      "user29@demo.com",
      "user30@demo.com",
      "user31@demo.com",
      "user32@demo.com",
      "user33@demo.com",
      "user34@demo.com",
      "user35@demo.com",
      "user36@demo.com",
      "user37@demo.com",
      "user38@demo.com",
      "user39@demo.com",
      "user40@demo.com",
      "user41@demo.com",
      "user42@demo.com",
      "user43@demo.com",
      "user44@demo.com",
      "user45@demo.com",
      "user46@demo.com",
      "user47@demo.com",
      "user48@demo.com",
      "user49@demo.com",
    ],
  })
  .once()
  .reply(201, { deleted: 50, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "250000",
    "X-RateLimit-Remaining",
    "249990",
    "X-RateLimit-Reset",
    "1637708400",
    "ETag",
    'W/"ba67d43397206cf9a2dd082136112efc"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "ff4b5cb4-179a-4aad-9fb1-29cccc2f71af",
    "X-Runtime",
    "0.008138",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:47:09 GMT",
    "X-Served-By",
    "cache-for8429-FOR, cache-for8429-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707629.179014,VS0,VE405",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/delete", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
      "notgrouparoo@demo.com",
    ],
  })
  .once()
  .reply(201, { deleted: 4, message: "success" }, [
    "Connection",
    "close",
    "Content-Type",
    "application/json",
    "Server",
    "nginx",
    "X-RateLimit-Limit",
    "250000",
    "X-RateLimit-Remaining",
    "249989",
    "X-RateLimit-Reset",
    "1637708400",
    "ETag",
    'W/"19a5a34b876dede4914bba61307471e6"',
    "Cache-Control",
    "max-age=0, private, must-revalidate",
    "X-Request-Id",
    "2a244dc7-98f1-47d0-85c3-e6c35a934c45",
    "X-Runtime",
    "0.004330",
    "Accept-Ranges",
    "bytes",
    "Via",
    "1.1 varnish, 1.1 varnish",
    "Date",
    "Tue, 23 Nov 2021 22:47:10 GMT",
    "X-Served-By",
    "cache-for8425-FOR, cache-for8425-FOR",
    "X-Cache",
    "MISS, MISS",
    "X-Cache-Hits",
    "0, 0",
    "X-Timer",
    "S1637707630.700351,VS0,VE396",
    "Vary",
    "Origin,Accept-Encoding",
    "Strict-Transport-Security",
    "max-age=31536000; includeSubDomains",
    "transfer-encoding",
    "chunked",
  ]);
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
      "notgrouparoo@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [
        {
          created_at: "2021-11-23T22:44:29.185Z",
          external_id: "grouparoo@demo.com",
          user_aliases: [],
          appboy_id: "619d6ecdc9d7187efbc0ff1c",
          braze_id: "619d6ecdc9d7187efbc0ff1c",
          first_name: "Sam",
          last_name: "Test",
          random_bucket: 4804,
          custom_attributes: { groups: ["(test) High Value"] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:45:03.150Z",
          external_id: "grouparoo2@demo.com",
          user_aliases: [],
          appboy_id: "619d6eef12c8c9336d2b1496",
          braze_id: "619d6eef12c8c9336d2b1496",
          first_name: "Maria",
          random_bucket: 7397,
          custom_attributes: { groups: [] },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
        {
          created_at: "2021-11-23T22:46:09.435Z",
          external_id: "grouparoo3@demo.com",
          user_aliases: [],
          appboy_id: "619d6f31306e4b137da34985",
          braze_id: "619d6f31306e4b137da34985",
          first_name: "Liz",
          random_bucket: 6418,
          custom_attributes: { groups: [], grouparoo_custom_text: "some text" },
          total_revenue: 0,
          push_subscribe: "subscribed",
          email_subscribe: "subscribed",
        },
      ],
      invalid_user_ids: ["notgrouparoo@demo.com"],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2498",
      "X-RateLimit-Reset",
      "1637707680",
      "ETag",
      'W/"239f613b1f10180c27e60c604aba9baa"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "7fd8f546-e774-4005-af2d-feeb8d638ff3",
      "X-Runtime",
      "0.065553",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:47:10 GMT",
      "X-Served-By",
      "cache-for8423-FOR, cache-for8423-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707630.210352,VS0,VE463",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );
nock("https://sdk.bla-30-39.braze.com:443", { encodedQueryParams: true })
  .post("/users/export/ids", {
    external_ids: [
      "grouparoo@demo.com",
      "grouparoo2@demo.com",
      "grouparoo3@demo.com",
      "notgrouparoo@demo.com",
    ],
  })
  .once()
  .reply(
    201,
    {
      users: [],
      invalid_user_ids: [
        "grouparoo@demo.com",
        "grouparoo2@demo.com",
        "grouparoo3@demo.com",
        "notgrouparoo@demo.com",
      ],
      message: "success",
    },
    [
      "Connection",
      "close",
      "Content-Type",
      "application/json",
      "Server",
      "nginx",
      "X-RateLimit-Limit",
      "2500",
      "X-RateLimit-Remaining",
      "2497",
      "X-RateLimit-Reset",
      "1637707680",
      "ETag",
      'W/"07d61cd3b9a0a341960dbd0ee0b4f504"',
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-Request-Id",
      "809cc677-7787-49ed-86cf-3a8045dc739b",
      "X-Runtime",
      "0.030611",
      "Accept-Ranges",
      "bytes",
      "Via",
      "1.1 varnish, 1.1 varnish",
      "Date",
      "Tue, 23 Nov 2021 22:47:41 GMT",
      "X-Served-By",
      "cache-for8429-FOR, cache-for8429-FOR",
      "X-Cache",
      "MISS, MISS",
      "X-Cache-Hits",
      "0, 0",
      "X-Timer",
      "S1637707661.799162,VS0,VE426",
      "Vary",
      "Origin,Accept-Encoding",
      "Strict-Transport-Security",
      "max-age=31536000; includeSubDomains",
      "transfer-encoding",
      "chunked",
    ]
  );

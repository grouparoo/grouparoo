const nock = require("nock");

nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/session/v1/login-request",
    /1f8b08000000000000.3558ecb0e82301045ff65d68404910dbba64c4c09b44d0bb86c1a51236e8c125fa4ffee74618cbbc9b98fb90b8c7ef6502ec03857bdec9c642d4209cfd73b5be5eb021268d446c82faf2b85c434b376ab4c45e47c9b0ed3fef81809f346207530ad9d885aedefdeeeaea7cbfc2f0e68ac50921c595aa4f94f443908a3644b771ca5b8d5ae5555fc2ca445de1b849080451bf34e3343b33a6a237708e1039f6be621cf000000/
  )
  .query({
    requestId: /.+/g,
    warehouse: "COMPUTE_WH",
    databaseName: "SAMPLE_SOURCES",
    schemaName: "PUBLIC",
  })
  .once()
  .reply(
    200,
    {
      data: {
        masterToken: "master_token_here",
        token: "token_here",
        validityInSeconds: 3600,
        masterValidityInSeconds: 14400,
        displayUserName: "JDOE",
        serverVersion: "4.33.2",
        firstLogin: false,
        remMeToken: null,
        remMeValidityInSeconds: 0,
        healthCheckInterval: 45,
        newClientForUpgrade: null,
        sessionId: 11812616058023970,
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        sessionInfo: {
          databaseName: "SAMPLE_SOURCES",
          schemaName: "PUBLIC",
          warehouseName: "COMPUTE_WH",
          roleName: "SYSADMIN",
        },
        idToken: null,
        idTokenValidityInSeconds: 0,
        responseData: null,
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Cache-Control",
      "no-cache, no-store, no-transform",
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:47 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "3636",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/queries/v1/query-request",
    /1f8b08000000000000.3458eb10ac23014457fe5f126950c75ed56d34402ad294916a1505a9ada600c481485d27f37e2e076ce810b77c1d1c57ef0564e9377c1d2f919ae11f3a9f7d1128c776fecfb81396a56316a60478016da6c5ad4a6a89b16a18fa08d12a7e3f68b2d76ddfcbaa5ce95ac93364a7251319d8a5425537038c37f5c684a928af2c750895a18d8671948ce35339021c1c185d1854b7ab5aceb070b1f7881b1000000/
  )
  .query({ requestId: /.+/g })
  .once()
  .reply(
    200,
    {
      data: {
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        rowtype: [
          {
            name: "ID",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "fixed",
            scale: 0,
            precision: 38,
            nullable: false,
            collation: null,
            length: null,
          },
          {
            name: "FIRST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "LAST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "EMAIL",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "GENDER",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IP_ADDRESS",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IOS_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "boolean",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "ANDROID_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "boolean",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "VIP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "boolean",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "LTV",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "real",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "DATE",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "date",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "STAMP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "timestamp_ntz",
            scale: 9,
            precision: 0,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "__hwm",
            database: "",
            schema: "",
            table: "",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
        ],
        rowset: [
          [
            "1",
            "Erie",
            "Jervois",
            "ejervois0@example.com",
            "Male",
            "15.247.38.72",
            "1",
            "0",
            "1",
            "259.12",
            "18293",
            "1580559194.000000000",
            "2020-02-01 12:13:14.000",
          ],
          [
            "2",
            "Cacilie",
            "Eate",
            "ceate1@example.com",
            "Female",
            "253.146.41.201",
            "0",
            "1",
            "0",
            "94.36",
            "18294",
            "1580645594.000000000",
            "2020-02-02 12:13:14.000",
          ],
          [
            "3",
            "Gretel",
            "Groucock",
            "ggroucock2@example.com",
            "Female",
            "211.89.110.134",
            "1",
            "0",
            "1",
            "668.3",
            "18295",
            "1580731994.000000000",
            "2020-02-03 12:13:14.000",
          ],
          [
            "4",
            "Amata",
            "Cotesford",
            "acotesford3@example.com",
            "Female",
            "193.9.240.246",
            "1",
            "1",
            "1",
            "489",
            "18296",
            "1580818394.000000000",
            "2020-02-04 12:13:14.000",
          ],
          [
            "5",
            "Lira",
            "Johnston",
            "ljohnston4@example.com",
            "Female",
            "53.161.58.99",
            "0",
            "1",
            "0",
            "823.16",
            "18297",
            "1580904794.000000000",
            "2020-02-05 12:13:14.000",
          ],
          [
            "6",
            "Deni",
            "Scalia",
            "dscalia5@example.com",
            "Female",
            "138.131.148.74",
            "1",
            "0",
            "1",
            "273.98",
            "18298",
            "1580991194.000000000",
            "2020-02-06 12:13:14.000",
          ],
          [
            "7",
            "Helga",
            "Kleis",
            "hkleis6@example.com",
            "Female",
            "85.248.8.158",
            "1",
            "1",
            "1",
            "407.05",
            "18299",
            "1581077594.000000000",
            "2020-02-07 12:13:14.000",
          ],
          [
            "8",
            "Gertie",
            "Cubitt",
            "gcubitt7@example.com",
            "Female",
            "123.255.130.24",
            "0",
            "0",
            "1",
            "841.45",
            "18300",
            "1581163994.000000000",
            "2020-02-08 12:13:14.000",
          ],
          [
            "9",
            "Lurleen",
            "Browell",
            "lbrowell8@example.com",
            "Female",
            "231.159.55.43",
            "1",
            "0",
            "0",
            "623.34",
            "18301",
            "1581250394.000000000",
            "2020-02-09 12:13:14.000",
          ],
          [
            "10",
            "Dorthy",
            "Iston",
            "diston9@example.com",
            "Female",
            "45.241.64.163",
            "0",
            "1",
            "0",
            "290.53",
            "18302",
            "1581336794.000000000",
            "2020-02-10 12:13:14.000",
          ],
        ],
        total: 10,
        returned: 10,
        queryId: "0197b397-048c-2eb1-0029-f78300048022",
        databaseProvider: null,
        finalDatabaseName: "SAMPLE_SOURCES",
        finalSchemaName: "PUBLIC",
        finalWarehouseName: "COMPUTE_WH",
        finalRoleName: "SYSADMIN",
        numberOfBinds: 0,
        arrayBindSupported: false,
        statementTypeId: 4096,
        version: 1,
        sendResultTime: 1603147667998,
        queryResultFormat: "json",
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:48 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "6415",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/session/v1/login-request",
    /1f8b08000000000000.3558ecb0e82301045ff65d68404910dbba64c4c09b44d0bb86c1a51236e8c125fa4ffee74618cbbc9b98fb90b8c7ef6502ec03857bdec9c642d4209cfd73b5be5eb021268d446c82faf2b85c434b376ab4c45e47c9b0ed3fef81809f346207530ad9d885aedefdeeeaea7cbfc2f0e68ac50921c595aa4f94f443908a3644b771ca5b8d5ae5555fc2ca445de1b849080451bf34e3343b33a6a237708e1039f6be621cf000000/
  )
  .query({
    requestId: /.+/g,
    warehouse: "COMPUTE_WH",
    databaseName: "SAMPLE_SOURCES",
    schemaName: "PUBLIC",
  })
  .once()
  .reply(
    200,
    {
      data: {
        masterToken: "master_token_here",
        token: "token_here",
        validityInSeconds: 3600,
        masterValidityInSeconds: 14400,
        displayUserName: "JDOE",
        serverVersion: "4.33.2",
        firstLogin: false,
        remMeToken: null,
        remMeValidityInSeconds: 0,
        healthCheckInterval: 45,
        newClientForUpgrade: null,
        sessionId: 11812616058019870,
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        sessionInfo: {
          databaseName: "SAMPLE_SOURCES",
          schemaName: "PUBLIC",
          warehouseName: "COMPUTE_WH",
          roleName: "SYSADMIN",
        },
        idToken: null,
        idTokenValidityInSeconds: 0,
        responseData: null,
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Cache-Control",
      "no-cache, no-store, no-transform",
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:48 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "3636",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/queries/v1/query-request",
    /1f8b08000000000000.34d8edd4ac34014845fe570ae54d272360ac282424c371a48dcb27bc02a8192d28d0dae41d9d61f4adedd0d5ee8cd30df0c0373c46d1fda8d77baeb7c3fb87c77185e02caaef5c12518de3dbbaf3d4ab4aa5239c359027966f9a441cb59bd6c10da00964d797f7b3ad906d7ebdde76bcc0ba3eb884ba38bb25236260f77ca28f85b5e5f8114a0cd4219b879fc5764364f22968b5f0f5559970c8208745158c54098e0a61fb6fdf01cbf1e514cb2ff7e73f128ab15c7faa3f58709534a6946e98c2e59a4529c4b713127a2271cc7f10755609ddcfd000000/
  )
  .query({ requestId: /.+/g })
  .once()
  .reply(
    200,
    {
      data: {
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        rowtype: [
          {
            name: "ID",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "fixed",
            scale: 0,
            precision: 38,
            byteLength: null,
            nullable: false,
            collation: null,
            length: null,
          },
          {
            name: "FIRST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "LAST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "EMAIL",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "GENDER",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IP_ADDRESS",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IOS_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "ANDROID_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "VIP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "LTV",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "real",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "DATE",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "date",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "STAMP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "timestamp_ntz",
            scale: 9,
            precision: 0,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "__hwm",
            database: "",
            schema: "",
            table: "",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
        ],
        rowset: [
          [
            "7",
            "Helga",
            "Kleis",
            "hkleis6@example.com",
            "Female",
            "85.248.8.158",
            "1",
            "1",
            "1",
            "407.05",
            "18299",
            "1581077594.000000000",
            "2020-02-07 12:13:14.000",
          ],
          [
            "8",
            "Gertie",
            "Cubitt",
            "gcubitt7@example.com",
            "Female",
            "123.255.130.24",
            "0",
            "0",
            "1",
            "841.45",
            "18300",
            "1581163994.000000000",
            "2020-02-08 12:13:14.000",
          ],
          [
            "9",
            "Lurleen",
            "Browell",
            "lbrowell8@example.com",
            "Female",
            "231.159.55.43",
            "1",
            "0",
            "0",
            "623.34",
            "18301",
            "1581250394.000000000",
            "2020-02-09 12:13:14.000",
          ],
          [
            "10",
            "Dorthy",
            "Iston",
            "diston9@example.com",
            "Female",
            "45.241.64.163",
            "0",
            "1",
            "0",
            "290.53",
            "18302",
            "1581336794.000000000",
            "2020-02-10 12:13:14.000",
          ],
        ],
        total: 4,
        returned: 4,
        queryId: "0197b397-040b-184c-0029-f7830004901e",
        databaseProvider: null,
        finalDatabaseName: "SAMPLE_SOURCES",
        finalSchemaName: "PUBLIC",
        finalWarehouseName: "COMPUTE_WH",
        finalRoleName: "SYSADMIN",
        numberOfBinds: 0,
        arrayBindSupported: false,
        statementTypeId: 4096,
        version: 1,
        sendResultTime: 1603147669503,
        queryResultFormat: "json",
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:49 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "5507",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/session/v1/login-request",
    /1f8b08000000000000.3558ecb0e82301045ff65d68404910dbba64c4c09b44d0bb86c1a51236e8c125fa4ffee74618cbbc9b98fb90b8c7ef6502ec03857bdec9c642d4209cfd73b5be5eb021268d446c82faf2b85c434b376ab4c45e47c9b0ed3fef81809f346207530ad9d885aedefdeeeaea7cbfc2f0e68ac50921c595aa4f94f443908a3644b771ca5b8d5ae5555fc2ca445de1b849080451bf34e3343b33a6a237708e1039f6be621cf000000/
  )
  .query({
    requestId: /.+/g,
    warehouse: "COMPUTE_WH",
    databaseName: "SAMPLE_SOURCES",
    schemaName: "PUBLIC",
  })
  .once()
  .reply(
    200,
    {
      data: {
        masterToken: "master_token_here",
        token: "token_here",
        validityInSeconds: 3600,
        masterValidityInSeconds: 14400,
        displayUserName: "JDOE",
        serverVersion: "4.33.2",
        firstLogin: false,
        remMeToken: null,
        remMeValidityInSeconds: 0,
        healthCheckInterval: 45,
        newClientForUpgrade: null,
        sessionId: 11812616058023974,
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        sessionInfo: {
          databaseName: "SAMPLE_SOURCES",
          schemaName: "PUBLIC",
          warehouseName: "COMPUTE_WH",
          roleName: "SYSADMIN",
        },
        idToken: null,
        idTokenValidityInSeconds: 0,
        responseData: null,
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Cache-Control",
      "no-cache, no-store, no-transform",
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:50 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "3636",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/queries/v1/query-request",
    /1f8b08000000000000.34d8e514bc3301485ffcae53ea97492549f020e6a976aa03523b930370aa363a92bc6a2647393d1ff6e8a0ff3e570be733870ceb8ed42b3f14eb7adef7a97ef0efd7b40d1363eb804c3972777daa3402b4b9913dc24906796ae6ab49455f31aa10960c9a897a7ebd1d6b85eef8e1f312f8cae22ce8d2e54296d4c16cfd248b82ca70f2038683393061e97ff8acce6494435fbf350aa4a1170c640178595040c13dc74fdb6ebdfe2d733f251f63f9f2e1e25f94ab1fe6efc61c494a56cc2d209e7c453c1ef04bfbf658cad7018865f00502624fd000000/
  )
  .query({ requestId: /.+/g })
  .once()
  .reply(
    200,
    {
      data: {
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        rowtype: [
          {
            name: "ID",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "fixed",
            scale: 0,
            precision: 38,
            nullable: false,
            collation: null,
            length: null,
          },
          {
            name: "FIRST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "LAST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "EMAIL",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "GENDER",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IP_ADDRESS",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IOS_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "boolean",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "ANDROID_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "boolean",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "VIP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "boolean",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "LTV",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "real",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "DATE",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "date",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "STAMP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            byteLength: null,
            type: "timestamp_ntz",
            scale: 9,
            precision: 0,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "__hwm",
            database: "",
            schema: "",
            table: "",
            byteLength: 16777216,
            type: "text",
            scale: null,
            precision: null,
            nullable: true,
            collation: null,
            length: 16777216,
          },
        ],
        rowset: [],
        total: 0,
        returned: 0,
        queryId: "0197b397-048c-1b43-0029-f78300048026",
        databaseProvider: null,
        finalDatabaseName: "SAMPLE_SOURCES",
        finalSchemaName: "PUBLIC",
        finalWarehouseName: "COMPUTE_WH",
        finalRoleName: "SYSADMIN",
        numberOfBinds: 0,
        arrayBindSupported: false,
        statementTypeId: 4096,
        version: 1,
        sendResultTime: 1603147670458,
        queryResultFormat: "json",
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:50 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "4906",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/session/v1/login-request",
    /1f8b08000000000000.3558ecb0e82301045ff65d68404910dbba64c4c09b44d0bb86c1a51236e8c125fa4ffee74618cbbc9b98fb90b8c7ef6502ec03857bdec9c642d4209cfd73b5be5eb021268d446c82faf2b85c434b376ab4c45e47c9b0ed3fef81809f346207530ad9d885aedefdeeeaea7cbfc2f0e68ac50921c595aa4f94f443908a3644b771ca5b8d5ae5555fc2ca445de1b849080451bf34e3343b33a6a237708e1039f6be621cf000000/
  )
  .query({
    requestId: /.+/g,
    warehouse: "COMPUTE_WH",
    databaseName: "SAMPLE_SOURCES",
    schemaName: "PUBLIC",
  })
  .once()
  .reply(
    200,
    {
      data: {
        masterToken: "master_token_here",
        token: "token_here",
        validityInSeconds: 3600,
        masterValidityInSeconds: 14400,
        displayUserName: "JDOE",
        serverVersion: "4.33.2",
        firstLogin: false,
        remMeToken: null,
        remMeValidityInSeconds: 0,
        healthCheckInterval: 45,
        newClientForUpgrade: null,
        sessionId: 11812616058019874,
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        sessionInfo: {
          databaseName: "SAMPLE_SOURCES",
          schemaName: "PUBLIC",
          warehouseName: "COMPUTE_WH",
          roleName: "SYSADMIN",
        },
        idToken: null,
        idTokenValidityInSeconds: 0,
        responseData: null,
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Cache-Control",
      "no-cache, no-store, no-transform",
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:50 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "3636",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/queries/v1/query-request",
    /1f8b08000000000000.3458eb10ac23014457fe5f126950c0e4edd6a9a94406b4a9245289496a63618031245a1f4df8d38b89d73e0c25d7074b11fbc95d3e45db0747e866bc46cea7db404e3dd1bfb7e60869a558c1ad811a0b9369b16b5c9eba645e82368a3c4a9dc7eb1c5ae9b5fb7d4b99275d246492e2aa65391aa600a8e67f88f734d495251fc182a510b0307909c6b66608f04071746172ee9d3b2ae1f1d87b2f3af000000/
  )
  .query({ requestId: /.+/g })
  .once()
  .reply(
    200,
    {
      data: {
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        rowtype: [
          {
            name: "ID",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "fixed",
            scale: 0,
            precision: 38,
            byteLength: null,
            nullable: false,
            collation: null,
            length: null,
          },
          {
            name: "FIRST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "LAST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "EMAIL",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "GENDER",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IP_ADDRESS",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IOS_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "ANDROID_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "VIP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "LTV",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "real",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "DATE",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "date",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "STAMP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "timestamp_ntz",
            scale: 9,
            precision: 0,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "__hwm",
            database: "",
            schema: "",
            table: "",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
        ],
        rowset: [
          [
            "1",
            "Erie",
            "Jervois",
            "ejervois0@example.com",
            "Male",
            "15.247.38.72",
            "1",
            "0",
            "1",
            "259.12",
            "18293",
            "1580559194.000000000",
            "2020-02-01 12:13:14.000",
          ],
          [
            "2",
            "Cacilie",
            "Eate",
            "ceate1@example.com",
            "Female",
            "253.146.41.201",
            "0",
            "1",
            "0",
            "94.36",
            "18294",
            "1580645594.000000000",
            "2020-02-02 12:13:14.000",
          ],
          [
            "3",
            "Gretel",
            "Groucock",
            "ggroucock2@example.com",
            "Female",
            "211.89.110.134",
            "1",
            "0",
            "1",
            "668.3",
            "18295",
            "1580731994.000000000",
            "2020-02-03 12:13:14.000",
          ],
          [
            "4",
            "Amata",
            "Cotesford",
            "acotesford3@example.com",
            "Female",
            "193.9.240.246",
            "1",
            "1",
            "1",
            "489",
            "18296",
            "1580818394.000000000",
            "2020-02-04 12:13:14.000",
          ],
        ],
        total: 4,
        returned: 4,
        queryId: "0197b397-04c9-18ce-0029-f78300049022",
        databaseProvider: null,
        finalDatabaseName: "SAMPLE_SOURCES",
        finalSchemaName: "PUBLIC",
        finalWarehouseName: "COMPUTE_WH",
        finalRoleName: "SYSADMIN",
        numberOfBinds: 0,
        arrayBindSupported: false,
        statementTypeId: 4096,
        version: 1,
        sendResultTime: 1603147671280,
        queryResultFormat: "json",
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:51 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "5508",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/session/v1/login-request",
    /1f8b08000000000000.3558ecb0e82301045ff65d68404910dbba64c4c09b44d0bb86c1a51236e8c125fa4ffee74618cbbc9b98fb90b8c7ef6502ec03857bdec9c642d4209cfd73b5be5eb021268d446c82faf2b85c434b376ab4c45e47c9b0ed3fef81809f346207530ad9d885aedefdeeeaea7cbfc2f0e68ac50921c595aa4f94f443908a3644b771ca5b8d5ae5555fc2ca445de1b849080451bf34e3343b33a6a237708e1039f6be621cf000000/
  )
  .query({
    requestId: /.+/g,
    warehouse: "COMPUTE_WH",
    databaseName: "SAMPLE_SOURCES",
    schemaName: "PUBLIC",
  })
  .once()
  .reply(
    200,
    {
      data: {
        masterToken: "master_token_here",
        token: "token_here",
        validityInSeconds: 3600,
        masterValidityInSeconds: 14400,
        displayUserName: "JDOE",
        serverVersion: "4.33.2",
        firstLogin: false,
        remMeToken: null,
        remMeValidityInSeconds: 0,
        healthCheckInterval: 45,
        newClientForUpgrade: null,
        sessionId: 11812616058023978,
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        sessionInfo: {
          databaseName: "SAMPLE_SOURCES",
          schemaName: "PUBLIC",
          warehouseName: "COMPUTE_WH",
          roleName: "SYSADMIN",
        },
        idToken: null,
        idTokenValidityInSeconds: 0,
        responseData: null,
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Cache-Control",
      "no-cache, no-store, no-transform",
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:51 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "3636",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/queries/v1/query-request",
    /1f8b08000000000000.34d8e5f4bc33014c5bfcae53ea97492d43e051cd42ed5406b46724185c2e858ba95c5a264f30fa3dfdd943db897c3f99dc38173c24d1fdab577baeb7c3fb862771cf60145d7fae0120c9f9edccf01055a59c982e0268122b774d5a0a5bc5e36086d004b463d3f5e4fb6c1d56af7fd1ef3d2e83ae2d2e85255d2c6e4e5491a09ffcbf93d080eda2ca48187b78b22b74512512dce1e2a552b820c74595a49c030c1753f6cfa611b9f9e904f72f8fd70f126c9578af557eb8f13a62c653396ce58063c15fc4ef0ec963186e338fe01a2e2b687fa000000/
  )
  .query({ requestId: /.+/g })
  .once()
  .reply(
    200,
    {
      data: {
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        rowtype: [
          {
            name: "ID",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "fixed",
            scale: 0,
            precision: 38,
            byteLength: null,
            nullable: false,
            collation: null,
            length: null,
          },
          {
            name: "FIRST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "LAST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "EMAIL",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "GENDER",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IP_ADDRESS",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IOS_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "ANDROID_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "VIP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "LTV",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "real",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "DATE",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "date",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "STAMP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "timestamp_ntz",
            scale: 9,
            precision: 0,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "__hwm",
            database: "",
            schema: "",
            table: "",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
        ],
        rowset: [
          [
            "4",
            "Amata",
            "Cotesford",
            "acotesford3@example.com",
            "Female",
            "193.9.240.246",
            "1",
            "1",
            "1",
            "489",
            "18296",
            "1580818394.000000000",
            "2020-02-04 12:13:14.000",
          ],
          [
            "5",
            "Lira",
            "Johnston",
            "ljohnston4@example.com",
            "Female",
            "53.161.58.99",
            "0",
            "1",
            "0",
            "823.16",
            "18297",
            "1580904794.000000000",
            "2020-02-05 12:13:14.000",
          ],
          [
            "6",
            "Deni",
            "Scalia",
            "dscalia5@example.com",
            "Female",
            "138.131.148.74",
            "1",
            "0",
            "1",
            "273.98",
            "18298",
            "1580991194.000000000",
            "2020-02-06 12:13:14.000",
          ],
          [
            "7",
            "Helga",
            "Kleis",
            "hkleis6@example.com",
            "Female",
            "85.248.8.158",
            "1",
            "1",
            "1",
            "407.05",
            "18299",
            "1581077594.000000000",
            "2020-02-07 12:13:14.000",
          ],
        ],
        total: 4,
        returned: 4,
        queryId: "0197b397-0480-7038-0029-f78300049026",
        databaseProvider: null,
        finalDatabaseName: "SAMPLE_SOURCES",
        finalSchemaName: "PUBLIC",
        finalWarehouseName: "COMPUTE_WH",
        finalRoleName: "SYSADMIN",
        numberOfBinds: 0,
        arrayBindSupported: false,
        statementTypeId: 4096,
        version: 1,
        sendResultTime: 1603147672003,
        queryResultFormat: "json",
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:52 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "5506",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/session/v1/login-request",
    /1f8b08000000000000.3558ecb0e82301045ff65d68404910dbba64c4c09b44d0bb86c1a51236e8c125fa4ffee74618cbbc9b98fb90b8c7ef6502ec03857bdec9c642d4209cfd73b5be5eb021268d446c82faf2b85c434b376ab4c45e47c9b0ed3fef81809f346207530ad9d885aedefdeeeaea7cbfc2f0e68ac50921c595aa4f94f443908a3644b771ca5b8d5ae5555fc2ca445de1b849080451bf34e3343b33a6a237708e1039f6be621cf000000/
  )
  .query({
    requestId: /.+/g,
    warehouse: "COMPUTE_WH",
    databaseName: "SAMPLE_SOURCES",
    schemaName: "PUBLIC",
  })
  .once()
  .reply(
    200,
    {
      data: {
        masterToken: "master_token_here",
        token: "token_here",
        validityInSeconds: 3600,
        masterValidityInSeconds: 14400,
        displayUserName: "JDOE",
        serverVersion: "4.33.2",
        firstLogin: false,
        remMeToken: null,
        remMeValidityInSeconds: 0,
        healthCheckInterval: 45,
        newClientForUpgrade: null,
        sessionId: 11812616058019878,
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        sessionInfo: {
          databaseName: "SAMPLE_SOURCES",
          schemaName: "PUBLIC",
          warehouseName: "COMPUTE_WH",
          roleName: "SYSADMIN",
        },
        idToken: null,
        idTokenValidityInSeconds: 0,
        responseData: null,
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Cache-Control",
      "no-cache, no-store, no-transform",
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:52 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "3636",
      "Connection",
      "Close",
    ]
  );
nock("https://xyz12345.us-east-1.snowflakecomputing.com:443", {
  encodedQueryParams: true,
})
  .post(
    "/queries/v1/query-request",
    /1f8b08000000000000.34d8e514bc3301485ffcae53ee9e8465207838083daa51a68cd482ea850181d4bb7622c4a36758cfe77537cd097c3f9cee1c0b9e0ae0bcdd63bddb6beeb5d7e38f5af0145dbf8e0120c1f9edcf711055a59ca9c6092409e59baaad15256ad6b84268025a31eefaf475be36673f87a8b79617415716d74a14a6963f2f4208d84bfe5f21604076d56d2c0ddcbbf22b3791251ad7e3d94aa520473d045612501c304b75dbfebfa7d7c7a413ecaf1fceee24d92cf14ebcfc69f464c59caa62c9db205f054f01bc1e733c6180ec3f003c03f306dfa000000/
  )
  .query({ requestId: /.+/g })
  .once()
  .reply(
    200,
    {
      data: {
        parameters: [
          {
            name: "TIMESTAMP_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3 TZHTZM",
          },
          { name: "CLIENT_PREFETCH_THREADS", value: 4 },
          { name: "JS_TREAT_INTEGER_AS_BIGINT", value: false },
          { name: "TIME_OUTPUT_FORMAT", value: "HH24:MI:SS" },
          { name: "CLIENT_RESULT_CHUNK_SIZE", value: 160 },
          { name: "TIMESTAMP_TZ_OUTPUT_FORMAT", value: "" },
          { name: "CLIENT_SESSION_KEEP_ALIVE", value: false },
          { name: "CLIENT_METADATA_USE_SESSION_DATABASE", value: false },
          { name: "CLIENT_OUT_OF_BAND_TELEMETRY_ENABLED", value: false },
          { name: "CLIENT_RESULT_PREFETCH_THREADS", value: 1 },
          {
            name: "TIMESTAMP_NTZ_OUTPUT_FORMAT",
            value: "YYYY-MM-DD HH24:MI:SS.FF3",
          },
          { name: "CLIENT_METADATA_REQUEST_USE_CONNECTION_CTX", value: false },
          { name: "CLIENT_HONOR_CLIENT_TZ_FOR_TIMESTAMP_NTZ", value: true },
          { name: "CLIENT_MEMORY_LIMIT", value: 1536 },
          { name: "CLIENT_TIMESTAMP_TYPE_MAPPING", value: "TIMESTAMP_LTZ" },
          { name: "TIMEZONE", value: "America/Los_Angeles" },
          { name: "CLIENT_RESULT_PREFETCH_SLOTS", value: 2 },
          { name: "CLIENT_TELEMETRY_ENABLED", value: true },
          { name: "CLIENT_DISABLE_INCIDENTS", value: true },
          { name: "CLIENT_USE_V1_QUERY_API", value: true },
          { name: "CLIENT_RESULT_COLUMN_CASE_INSENSITIVE", value: false },
          { name: "BINARY_OUTPUT_FORMAT", value: "HEX" },
          { name: "CLIENT_ENABLE_LOG_INFO_STATEMENT_PARAMETERS", value: false },
          { name: "JS_DRIVER_DISABLE_OCSP_FOR_NON_SF_ENDPOINTS", value: false },
          { name: "CLIENT_CONSENT_CACHE_ID_TOKEN", value: false },
          { name: "DATE_OUTPUT_FORMAT", value: "YYYY-MM-DD" },
          { name: "CLIENT_FORCE_PROTECT_ID_TOKEN", value: true },
          { name: "CLIENT_STAGE_ARRAY_BINDING_THRESHOLD", value: 65280 },
          {
            name: "CLIENT_SESSION_KEEP_ALIVE_HEARTBEAT_FREQUENCY",
            value: 3600,
          },
          { name: "CLIENT_SESSION_CLONE", value: false },
          { name: "AUTOCOMMIT", value: true },
          { name: "TIMESTAMP_LTZ_OUTPUT_FORMAT", value: "" },
        ],
        rowtype: [
          {
            name: "ID",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "fixed",
            scale: 0,
            precision: 38,
            byteLength: null,
            nullable: false,
            collation: null,
            length: null,
          },
          {
            name: "FIRST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "LAST_NAME",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "EMAIL",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "GENDER",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IP_ADDRESS",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
          {
            name: "IOS_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "ANDROID_APP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "VIP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "boolean",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "LTV",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "real",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "DATE",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "date",
            scale: null,
            precision: null,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "STAMP",
            database: "SAMPLE_SOURCES",
            schema: "PUBLIC",
            table: "PROFILES",
            type: "timestamp_ntz",
            scale: 9,
            precision: 0,
            byteLength: null,
            nullable: true,
            collation: null,
            length: null,
          },
          {
            name: "__hwm",
            database: "",
            schema: "",
            table: "",
            type: "text",
            scale: null,
            precision: null,
            byteLength: 16777216,
            nullable: true,
            collation: null,
            length: 16777216,
          },
        ],
        rowset: [
          [
            "7",
            "Helga",
            "Kleis",
            "hkleis6@example.com",
            "Female",
            "85.248.8.158",
            "1",
            "1",
            "1",
            "407.05",
            "18299",
            "1581077594.000000000",
            "2020-02-07 12:13:14.000",
          ],
          [
            "8",
            "Gertie",
            "Cubitt",
            "gcubitt7@example.com",
            "Female",
            "123.255.130.24",
            "0",
            "0",
            "1",
            "841.45",
            "18300",
            "1581163994.000000000",
            "2020-02-08 12:13:14.000",
          ],
          [
            "9",
            "Lurleen",
            "Browell",
            "lbrowell8@example.com",
            "Female",
            "231.159.55.43",
            "1",
            "0",
            "0",
            "623.34",
            "18301",
            "1581250394.000000000",
            "2020-02-09 12:13:14.000",
          ],
          [
            "10",
            "Dorthy",
            "Iston",
            "diston9@example.com",
            "Female",
            "45.241.64.163",
            "0",
            "1",
            "0",
            "290.53",
            "18302",
            "1581336794.000000000",
            "2020-02-10 12:13:14.000",
          ],
        ],
        total: 4,
        returned: 4,
        queryId: "0197b397-045d-3f05-0029-f7830004902a",
        databaseProvider: null,
        finalDatabaseName: "SAMPLE_SOURCES",
        finalSchemaName: "PUBLIC",
        finalWarehouseName: "COMPUTE_WH",
        finalRoleName: "SYSADMIN",
        numberOfBinds: 0,
        arrayBindSupported: false,
        statementTypeId: 4096,
        version: 1,
        sendResultTime: 1603147672730,
        queryResultFormat: "json",
      },
      code: null,
      message: null,
      success: true,
    },
    [
      "Content-Type",
      "application/json",
      "Date",
      "Mon, 19 Oct 2020 22:47:52 GMT",
      "Expect-CT",
      "enforce, max-age=3600",
      "Strict-Transport-Security",
      "max-age=31536000",
      "Vary",
      "Accept-Encoding, User-Agent",
      "X-Content-Type-Options",
      "nosniff",
      "X-Frame-Options",
      "deny",
      "X-XSS-Protection",
      ": 1; mode=block",
      "Content-Length",
      "5507",
      "Connection",
      "Close",
    ]
  );

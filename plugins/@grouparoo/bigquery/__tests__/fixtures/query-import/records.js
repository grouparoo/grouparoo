const nock = require("nock");
process.env.BIGQUERY_JEST_TIMESTAMP = "1640212598110";

nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "0000000002ff1dd04b7282300000d0bb646d1d14f9a43ba0a64aa5148315b3c9f0898244888040e8f4ee757a84f77e409ca6ac6d695797ac02af40c64b384fe7896245bd3285fe96555d229a82bc23aae7c3ceda483942e57cf48482a6f1ece32311b76c514176958beae0c6db4769eeb272dfac5de3a6190e09d436d5379de9926c7b437e78b922c3a31cf6779a4a7fc8ee7d3b60b2bfe074c52dead96722d0d2091e53f8216d5c1789da404f77898f86151eebb8aeef7a1f0d9a4abe0a13055ab4ccd71c178e391ede0eaea95e6bc923ef73cabb1747b838304f171a9fecefaeb4029e85250ff8c60233c0465134aca5c5d3ad6a10cec07f02eda460cf099bc50d6bc0ef1fdc8c496223010000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:39 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 1000 OFFSET 0",
        defaultDataset: { datasetId: "test_001" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-1-1640212598110",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "85",
      "52",
      "5b",
      "6f",
      "9b",
      "30",
      "14",
      "fe",
      "2b",
      "c87b6d8249022491a22d4be84695cb46c8a63e45c61c985b8229369da2aaff7dc7d066ad2ab56fe0ef766e0fe4569429999244e4770dd4a74f373221170434cbf175bba46be57e4f373f56e9da1fde04737675359fcd90218c4ab16355404fc9a6e6a0a6fb5d3faf6553b15aca1e1af59c9ee38de8c019b893b1e350942928b295286f51fc47eb4a4d6dfb39ba9f4b9917c02aa1fa5c1ecfeff6fdc0ae6a79035c2bfb75a28d21ca7e37f3732139d34296b3fd0ef31b05f5018e4c1458c17f619a7c79eddc17ecd8cf917c2f3830ce65536a53155a705966226fead6954c1f485be58b0fb20b56c122b6446a5d46dbb555039775aaac6db40c22ebebb501e6bb85b50ad7616c3994526b7b79b90b62cb4c2805a545d99ac72c29c0183fb51fbe9db91130cd1474e0c1a71e73c674926489cfb3f1d04d320a49324e7c970d13ca272318a50930d469e3deaa5829cb91ef7b9e33717ccafdc160c0a89f72cabc141ce6b0c4a5a93b4a537742c9e305f95b0b0d4ba12aa9443704f23b0ae3e01047fbcd621e076d1b196b0abdec8a334dbcac536393074a1d24bed3dba34185c43433d5701307d17c1187bf826e912bc8193fedee7095192b14201d0f203e553833f2731f44d7a47b8a20831a4afef12c91dc021f9df1f3512115cf0a5394c67f5c1c572683d7d02d501c4d2d67f5c4a363d2926bfd06f35d0fb1f33119473842a99f1aea8e8a3c3e8535ea4c4210e7be0937df10fd07f6a8aa5ed2030000",
    ],
    [
      "ETag",
      "OD0Ms5HdNPLdM73jEAaJJA==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:39 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-1-1640212598110"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "65",
      "91",
      "cd",
      "6e",
      "c2",
      "30",
      "10",
      "84",
      "df",
      "65",
      "7b",
      "844824050a481ca0429482501b8afa270e26594268924ded4d5b8478f7ae430f957cb1d79f67edf1f8041f6911c300b669f259a13e5e25c88fb608d154191b994a2a0c4213905522ca4363da30cff36aced97df0b68afbaf3f2ffbd170280a13ed31573038c12ec52c3630783f41a17294b63416011f4b5bcf964f93e9241490536cc172bd588cc68b099c37e7261c681be20e351611dac34a4d078c78667d1a9597197a862a1da1815a5c6f249aaa5269224f88e77b7eb7dd0afca0d3eff97e4b7419458a532a44ba5e81dcc2c42a0be95b5c42add0752d8e77f5f865796de83f091c72ed90b6433a0ee93ae4c6213d87f41d22ce056dfe9e333e329a074d128d419b4aeb92d02dd9d458d2645d611322253f7597f2657dfe05ec9420ed06020000",
    ],
    [
      "ETag",
      "j+G+sWKuKtlJ2ZSd9YxXhA==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:40 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "000000000002ff1dd04b7282300000d0bb642d0e2022740711997428cab7349b0c9f08483198080a9ddebd4e8ff0de0fc8cb920a41eeaca357f006e65c35d7e5ba90ad6c9297d8771e9c2ae89b9b1ba43cf292e7ba676552e71c25a389dc548fac761c217271fa5ed89286b0a2b621accca2722bbe60dddbd50d81925a744681e2008b5e0d3172894b280d156f3910ee91433cf9f6f00c3c16b26717069534a56dbcafb5203f7fa2fefe9540d8cc0b3c8e896c55b0b9c4d3f636b3d1ae9da1831fb6e3a664cfa2cb554abcb19f0be864a2395903c3b7f824c28bf013cddfd5269bcbf26a9cad1396c10ad0e7d0722a48fb726fb6a6b902ff09e43e0ff43561d39c530e7eff00795e808e23010000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:40 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 100 OFFSET 9999",
        defaultDataset: { datasetId: "test_001" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-2-1640212598110",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "0002ff85525b4fdb3014fe2b91f738da3817dab412da4a49a7486d1169cac653653b2799218d43ec8010e2bfef24291d0809fa94fabb9ddb33b993654aa684cbfcbe81fae9dbade2e484806139be9e2757d55667abe4f14f7cf5bd48aaedf562fd7876860cd9aa34db57050cb46a6a017abadd0cf35a3515ab951aa0d1c01d38239fba8e7b3a091c87a24c43912d657987e2bfc6547a6adbafd1c35ca9bc0056493d146a7f7cb71f5cbbaad52d08a3edf789368668fbd3cc1f8512cc48559e6d3798df68a877b067b2c00afe0b53fef3bdf350b2fd3047f28314c084504d69daaad042a83293795377ae64fa4cba2adf7c904db80ce78925536b115faeac1a84aa536d5dc617616c9ddfb4c06c33b796d12a4a2c8752eb72b1d8848935c11f06a4a08d2c3bfb84f1025aebc300a28f536f05cc300d3db81bd31173023ae1191f8b2cf04e794681f3808f4f99c7a998f8e0a71c18ea4cebdea958a94a1f844f1dc83ce6b923cf4dd31167d4c3ee793af627341807aeef78414a5e4ec8632d0d5c485d292dfb3190df719484bb24deaee7b324ecdac85853988bbeb8b689b7751a6c7247a983c44f7a7b6951a930ad9d6bb44ec278364fa2ebb05fe51272269e36f7b8cc8c151a908e27903c55383372b50de31bd23fc590410da5f87a9648ee80af0ef9f5ac908a878529dae07f5c9cd06d86a8a15fa0dcb7b51cd4234a3d774c3a726d3e607e3042ec784ead23eca1348786fab3222f87b0461f4908e2dcd7d1fa17a2ff000a3a42b7d4030000",
    ],
    [
      "ETag",
      "BTQpUsfMTwXRQ+lTpUVFNw==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:40 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-2-1640212598110"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "2d",
      "8f",
      "41",
      "4f",
      "84",
      "40",
      "0c",
      "85",
      "ff",
      "4b",
      "3d",
      "0ac94256a3247b104356226e14259b683ccc0e5d64050a33258690fdef76d0d3b4afdfbcbecef05d77254470a8ab6144335d54c82faec8d18e0d5b797aea2c8207c8aa1272cb43aaabf672787a2ff6e9b02e63f368aacd4608abbfb05510cd70acb1292d441f3374aa45f9569702f0d4bb3addbd25db2417a1a5d209bb22cbeee22c81f3e7d983131d723ca2c14ea333eb0d9d5073ea725ad5f60dfa9646a3d1c2022f83cad0d82b43e48be2877e70bd5e854178757b13042be11ad28a6bea042d5e41b630b16a72fa9194e080a58f2746fb6c48bc2d96ff1331bc27b796250e9b113dd04a4e7da8f9af3fff0230cac06f47010000",
    ],
    [
      "ETag",
      "GtqIcgm+qMZUWIq4dBrKrg==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:40 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "1d",
      "d0",
      "4b",
      "7282300000d0bb642d0e2022740711997428cab7349b0c9f08483198080a9ddebd4e8ff0de0fc8cb920a41eeaca357f006e65c35d7e5ba90ad6c9297d8771e9c2ae89b9b1ba43cf292e7ba676552e71c25a389dc548fac761c217271fa5ed89286b0a2b621accca2722bbe60dddbd50d81925a744681e2008b5e0d3172894b280d156f3910ee91433cf9f6f00c3c16b26717069534a56dbcafb5203f7fa2fefe9540d8cc0b3c8e896c55b0b9c4d3f636b3d1ae9da1831fb6e3a664cfa2cb554abcb19f0be864a2395903c3b7f824c28bf013cddfd5269bcbf26a9cad1396c10ad0e7d0722a48fb726fb6a6b902ff09e43e0ff43561d39c530e7eff00795e808e23010000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:40 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 4 OFFSET 0",
        defaultDataset: { datasetId: "test_001" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-3-1640212598110",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "85",
      "52",
      "5b",
      "6f",
      "9b",
      "3014fe2bc87b6d12200468a46acb12ba31a5c94648a73e45b63950b780a96d3a5555fffb0e9076ad2aad6fe0ef766e8fe456d4199913268abb16d4c3a71bc9c80901430b7c5d78c50fe736f3d5b2daae78785d5ffadf7f166767c8109d4ad3aa2961a465ab38e8f97e372e946c1baaa41ca1d1683a727ccf761d77761a3a8e8d320d65be16f52d8aaf8d69f47c32798e1e17521625d046e83197d5cbfbe4de9d344ade00377af2367182217af2dfcccfa5e4d408599fed7798df6a5007a8a828b1827fc28c7d79eb3c16b41a1748be171c28e7b2ad4d57155a7059e7a26855ef4ae68fa4aff2d507d945eb68995a22b3ce93ed85a5804b95696b9baca2c4fa7ad5018bddd25ac717716a79d6f6fc7c17a556379e0cb41175ef9c525642e77aec3d7e3ff04e400dd5308087c0f6a913daa72c6701cfc3e98ce5363016b26046a7cce6a71e7819038a3ad3b9f72a5acbdaf399e304c0431b66a1e7ba2cf021c819752875439e71f0b937cd02469e4ec81f250cac846ea416c304c8ef244ea3439aec37cb451af56de4b42dcd6a28ae6be2759d069b3cd8b683c4fff4f6d4a142625a37d2789346c96299c697d1b0c53514943fecee708f392d35201db79f3e343833f26b1f255764784a20070535ff789648ee818f6ef8f9a2908a378529dae03f2e8eeb2e832b181628aaae96a3dab71ddb9d929eaccc3bcc7543c45e2ea973840a6a736c68b828f2740c6bf50b09419cfb26de7c43f42f7adb579ecf030000",
    ],
    [
      "ETag",
      "A4gJ1kd6rCmODc8hnV6HPg==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:41 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-3-1640212598110"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "65",
      "90",
      "51",
      "4fc23010c7bfcbf9284bd800a3243c005974662e3a2531313c94ee3687db6eb4370912bebbd7e183092fedf5d75f7bfff6085f6593c1143665b1ebd01cae0ae41757a468bb8aad4c2d35166100c8aa1033e1d1fbe43ac15df81844f3e553bed43ff3fd6c2686d59f582b981e212fb1ca2c4c3f8ed0a81ae5589989c087d6d551f216de87a9809a320792551ccf177108a7f569005bdaa498a3c146a3bbac35b445cd91cb6955dd56e859ea8c460bbddc6f1486ba5619224f8837f2fc9bf130f083c9ddadef0fc5ab482b2ea91175f50ad285895595d25e52c25804d3971238efc76fc17e9fe73f092ec8e8828c1d59ff35581c18edb321096bd1e51c9e332fc9bd83e57d6c3a1c8056f2770f259fd7a75f789c6f5198010000",
    ],
    [
      "ETag",
      "Nt3X5+NeqEJ2IACMfCczAw==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:41 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08000000000002ff1dd04b7282300000d0bb64ad0ee29098eef84451443022a46c188c41b0e0270863707af73a3dc27b6f90732eda367bde7ec4157c0195eb78c22747cd64bd3644e17ab1669d8c18a57255763bcff350b4349b42ef680973c9902112f792ce693e2f0aac864447da77c383d5d6278655a1826db69b9e9892ea785640fd309b92a098e21a5bb1ada6b4a67050d45941d2dfca40d9d47f5cd1ab7936323dd3fb4e8d61e8bac4389b654aa01d6f7bd447b6e1954b8b35dcbf8ab4769cb4eae809ededcd23b9e81a1f5cf33856c19eb630ac99f4bbb03bc0fa982e64a2f527121f90421c8c8078dd2b29daacfab86706c623f09f903dd55d7c262c914b21c1ef1f16e45ee223010000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:41 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 4 OFFSET 4",
        defaultDataset: { datasetId: "test_001" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-4-1640212598110",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08000000000002ff85525b4fdb3014fe2b91f74a9b4b736ba56a8312a668bda869ba8da7ca764e32431a87d8614288ffbe93a4301012bc25fe6ee7f6486e4595911961a2b86ba179f87223193923a06981af8efb5b969bdb9bc20f7e64db15bdbed0106ee77364884ea5e8b12e61a464db7050b3fd6e5c34b2ad6923e5088d46eec8f65dcbb11d6f1adab685320565be14d52d8aff685dab99693e478f0b298b12682dd498cbe3cbbb79ef9875236f806b65be4d343144991f667e2d25a75ac86abedf617eaba039c0918a122bf82fccd8b7b7ce63418fe302c9f78203e55cb695eeaa420b2eab5c146dd3bb92d923e9ab7cf54176d1325aa486c88cab64b3321ae0b2c994b1492ea3c4b8b8ee80f3ddc258c6ab38355c637375b58bf003bd33505a54bd734a59099deba9f7f8fdc03b01d554c1001e02cba776684d59ce029e87138fe5163016b2c0a31366f1a90b6ec680a24e77eebd8a56b20a5cc79a044eee43104c83c9d409c28c06dcf318cfb9ef791e0dc162b94f9ecec8df4668b814aa964a0c1320bf92388d0e69b25f2fced3a86f23a76da92f87e2ba265ed7a9b1c98365d948fca0b7a70e1512d3ba91c6eb344ace1769fc331ab6b88482f287dd1dee31a7a502a4e3f6d3871a6746b6fb28b926c35302393450f1cf6789e41ef8ec869f2f0aa9785398a234fee3e2b8ea327803c302c5b1abe5a4f62d3b7442d2931bfd0e9b861e622f97d439c2112a7d6a68b828f2740a6bd50b09419cfb3a5e7f47f41f272fa1dbcf030000",
    ],
    [
      "ETag",
      "24XolOkjg67KdQMaYBte8Q==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:42 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-4-1640212598110"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "65",
      "90",
      "51",
      "4f",
      "c2",
      "30",
      "10c7bfcbf9288b8c0c984b7810254a42884c49888687b2dde670dbcdf62659967d77aec307135edaebafbff6fe6d0bdf59194300872cfda951373729f2c616219a3a67235345a5411800b24ac54cdcdd1d4f6f774f2afcd81c37b5cafd9139cd666298e80b0b05410b4986796c20f86ca15405cab12c16819bcad6cbf5fbe279110a2828b660bd5dad1ee6ab0574fb6e00473a8498a0c632427b59a5e988112f6d4ea38a2a47c750ad2334d0cbfd46aaa9ae94267284389ee34ebce1c81d8def7dd71d8a9753a438a352d4ed1b4817265679482749099e08ba2f2570d28fbf82c77d9eff647245a657c4b764ffd760de309a574d12d6a0cd39bc647e24fb0e96f7b1ae71009192bf7bc9f8b2eece02e1c82c98010000",
    ],
    [
      "ETag",
      "f1X/t7+XDaRZQjQual82sw==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:42 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f8b08000000000002ff1dd0516e82300000d0bbf0ada6b612647f20189489a280b53f4de998eb2a424a95c2b2bbcfec08effd588cf3aaeba86e6475b7deac814177c66725f0f0138c59121bed016317ed366ba62b20e707d089cb0ea73951cfa3f4f7f67b70c2b9bcd18efaf721df5c1d9f3acade789dabf457d1879f49de42ee2c1e07192e6f497a006c1581144f658db23a162280fc7c81a4c8cafb1aaf3ee01ece8519aec08c5c97578f313ea278395e0616d4daf5a2b8a7b773cb4ed9384d72888c87b784ac4f3d2ac94e6fc3d8d9347b9298f09b8cc7b34451533c96b56a163c107d8e038ea31435d6c4aa4c2b54d551f17223db7527d67f02d5435bbd26fc8aa94a59bf7f04e1042623010000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:42 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 4 OFFSET 8",
        defaultDataset: { datasetId: "test_001" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-5-1640212598110",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "85",
      "525b4fa34014fe2b64f6d5964b29a54dccaedba2cba6d608748d4fcdcc70c051cae0cce0c618fffb1ea0ba1a137d83f96ee7f644ee449d930561a2bc6f413d7ebb958c1c1130b4c457fbf2f7d98d097eadaed8bd97de9ea5dcbece2f8f8f91213a95a6fba6829196ade2a017db745c2ad93654493942a3d174e406bee3b9de741ebaae83320d55b116f51d8a6f8c69f4c2b65fa2c7a5946505b4117acce5fef5dd7ef0ec46c95be046dbef136d0cd1f6a799df2bc9a911b23edea698df6a503bd853516105ff8539fbf1de792ce87e5c22f94170a09ccbb6365d5568c1655d88b255bd2b593c91beca371f248dd6d132b3446e9d2617e796022e55aead8b641525d6cfeb0e384997d63a3e8f33cbb72e4e4fd328b342f4ce411b51f7ce19651574ae87dee38f03ef04d4500d03b89b3901754367ce0a36e3453899b2c201c642369bd20973f8dc073f674051673af75e456b5907aec3260c42ee790e0d67937911324ebdc09de68eef53707dcaddf97c4a9e8fc85f250cac846ea416c304c8551267d12e4bb69be54916f56d14b4adcc6a28ae6be26d9d069bdc398e8bc44f7a7bee502131ad1b69bcc9a2e46499c57fa2618b6b28297f4cef718f05ad34201db79f3d36383372b98d926b323c255080829a7f3d4b24f7c05737fc725148c59bc2146df01f17c77597c1150c0b14fbae96833a70709c13d29395f98085c10cb1d74bea1c610fb53934345c14793e84b5fa958420ce7d136fce10fd077ed9fbb6cf030000",
    ],
    [
      "ETag",
      "/QJGht6HDWbq2SjGSc/YdQ==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:42 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-5-1640212598110"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "4d",
      "90",
      "51",
      "4f",
      "83",
      "30",
      "10",
      "c7",
      "bf",
      "cb",
      "f90ac920ce6c247b90b9e812240e213e983d74e5402670d01675217c77afcc075fdaebbfbfbbfed2113eab3687004e55d90fa82e37259a832d12d4436d346f1db51ac10134a264325e95e1db439f64b9eeb745fa9caae54f7ed86c98d0f2031b01c108458575ae21781fa1150d725b9533602e9dadf771ba7bdc251c3494db20cea2e83e8c76301d2707ce744ab04085ad443bac53744669f6d6538ba6abd1d53428891a6678be28150d9d50442e27eed2f5ee6e17bee72fd72bcf5b30579314a6a296d1ec15f8154346d4097db325f80ca8b964e1625ebf385ecf3eff131ec5d1f1af3bbc18d42f8ad844a395585c85b664250dcb1b35a00352f0c73c55e67a9e7e014660170d75010000",
    ],
    [
      "ETag",
      "N8gBWDqRUdsqCfTMTr5xdQ==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Wed, 22 Dec 2021 22:36:43 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );

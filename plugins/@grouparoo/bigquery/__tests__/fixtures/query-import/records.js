const nock = require("nock");
process.env.BIGQUERY_JEST_TIMESTAMP = "1636475688553";

nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ffedd35b7643400000d0bdcc77e26818a57f26a1251a04f1f8718c4ec388106f72baf7e6741bcdddc3bd83244d49dbc65d55902b780373b2919894d9d72252c7bc22858cdcd23f2de176540a79ec95bacad0ba809ced4ca2515d3e0c4ab56a3da4eacec2aee112c76cd127a7c11b8b53f11c72816ae2b1fc9e9df3c44e3de58fba915de1ce2edb03e92f48cda837bc9a06a6384a2895681b65ec7ee6468c12fd85127f21ba5c60cdac2c21f56e5ee378388f6c14443eec05f8d574ac6a0b5808353ef0fc4310584a0c07bc09a0748a94edb17166546e3c7551defb9c3798a7a7ff0bac0099eabc216d9c3fb673509256e0af7edccd3579fc47246948037e7e010b16dbb919040000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:49 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 1000 OFFSET 0",
        defaultDataset: { datasetId: "test" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-1-1636475688553",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02ff85525b4fdb3014fe2b91f738da244d2f6e25b4b1364c91dac2d2748c27643b2799218983ed802ac47fdf49020c84046f89bfdbb93d901b59a56441b8cc6f1bd0872fd78a93230296e5f8cabe16171707a993f3952fe679b9f9c3af47f7c7c7c890adcab0b22e606054a30598c57e37ccb56a6aa6951aa0d1c01ff8d3603a9e4da6944e2601ca0c14d95a563728fe6b6d6d16aefb1c3dcc95ca0b60b53443a1ca9777f76ee4d65a5d83b0c67d9be86288713fccfc5628c1ac54d5f17e87f98d017d0525930556f05f98f2ef6f9d879295c31cc9775200134235956dab420ba1aa4ce68dee5cc9e2817455befa20bb701d2e1347a6ce697cb6713408a553e39cc5ab30767e5cb6c0c96ee9aca34d9438bee779ced9e9e92e4c1c0fed533056569d79c27801adf153fbd1fb99b7026699811ebc9a7953e6536fce333e13190d263cf38073ca671316704fccc7304e3930d4d9d6bd53b10a5ba2e0f994524103369e5110c1c8637e46fdb19867b3609c32c128be90c72372afa5859534b532b21f02b988a324bc4ae2fd767992845d1b196b0abbea8b6b9b785da7c52691f4415f8f2d2a1526b5138db649189f2c93e877d82f710d391387dd2dae31638501a4e3f293438df322bff6617c49faa71832d05089cfe788e40ef8ec849f0f0aa9785298622cfee3d284693384867e79b26c6b7956cf3d8f8e4847d6f61d360a2688bd1c52eb082554f6a9a1fea0c8e35358635e4808e2ccb7d1f627a2ff00af24f1c7ce030000",
    ],
    [
      "ETag",
      "a+lWWyirTPD1c9gmMXbj2w==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:50 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-1-1636475688553"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff6591416fc2300c85ff8b77a5121db430240e3055ac5285b66e9c260ea135a5acadbbc41d6388ff3ea7ec302997c4f9f29cbcbc5ce0a36c7298c1ae2c3e3bd4e7bb02f9c516299aae6223534b8d411800b22a4439593707fac10d46ab5dbc50397f63e19fe6735198ec80b582d905f62556b981d9fb051a55a3b495b908f8dcda3a5ebf45ab281550536ec17a93248b6512c1757b1dc0917629ee516393a13dacd574c48c63ebd3a8baadd033d4e90c0df4e27ea3d0d4b54a1379423cdff3c351389e04e1741a0423d15594292ea911e9e615e4162656554a277109fe5014baafc5f1be1fbf2cef0dfd27f70e193964ec90c021a143260e993ae4c121e25cd0f6ef39cb33a379d624d118b4a90c6f093d924d8d254dd61d0e2053f2534f25dfd6d75f9598032506020000",
    ],
    [
      "ETag",
      "7NnhozeUeEGbIAadtxeg1w==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:50 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "ed",
      "d3",
      "5b",
      "72",
      "82",
      "30",
      "14",
      "00d0bde45b9caaa513fa2722af48e459941f06f01281aa082810a77bafd36dd4b387f340499641dbc6dda58233fa44633297a6d994d45856fba32884186fd3c059715b0677e4cc5df5b79d6fadb1137a7ba338317285158edd868f87ad6b7343b933f0e6acf2b558848ba26347380be2726159a1400383a6a24ab56f9cb7fdd5a923edeb5e46119d6937b6d11a0ff2d9d92ef52ca095475a6a2621c1a2c4c9c1dbaf938a1e75ac979bfc02f82d22f3eedebbc6b0c37efe5e930f4b57582f0b374a43d93819b952d98cc8f9d2f48177fe26edc9601275faf2f27fa10982a12e1a68e3e2b97d214ad204fdd58fbbb186e77f1992061af4f30b7b051f9c19040000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:50 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 100 OFFSET 9999",
        defaultDataset: { datasetId: "test" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-2-1636475688553",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "000002ff85525b6f9b3014fe2bc87b5c1348804022555b9a92092d170dc8a6eca5b2cd81ba259862d3aaaafadf7780266b37a9cd13f1773bb727722bca94cc0813f95d03f5e3a71bc9c819014d737cfd7c9ff0e5febb195fafd7bff5debfa069b49d9f9f2343b42a450f550103259b9a839aede2615ecba6a2b59403341a8c07a3893d713c77e2fbae6ba34c4191ad44798be26bad2b3533cd63f43097322f8056420db93c9cdecdfbb159d5f206b856e6db44134394f96ee6974272aa852ccf7731e6370aea2b38505160057f8529fbfad67928e8619823f95e70a09ccba6d46d5568c1659989bca93b57327b225d95af3e481cac82456288d45846dbb551039775aa8c6d741944c6c5be05e6f1c25885eb30314696656c97cb38488c29fe302005a545d9d9279415d05abf0c20fc7feaad806aaaa007af3c6b4247be356519f378e6db2ecb2c60cc679e4b6d66f1a9034eca80a24eb7ee9d8a96b264d41d33d7f26162538751cf9b7aa36cc4a80d936cec3b999dfa763a761df27c461e6aa1e152a84a2ad18f81fc8ac224b84aa2dd66314f82ae8d8c3685beec8b6b9b785da7c62691f44e5fcf2d2a2426b5330d374910cd1749f833e8d7b8829cf2c7f80e1799d14201d271fdc96385f3223f7641b427fd530419d450f28fe788e40ef8e8888f2785543c2a4c511affe3d2b86a33780dfdf2c4a1ade5a89e5afed8251db9d6ff6278050e62a7536a1de100a57e69a83f29f2fc12d6a81309419cf926dc7c43f40f1583748bd0030000",
    ],
    [
      "ETag",
      "+vTcFYK/ShMMZtY8BadROA==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:51 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-2-1636475688553"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "0000000002ff2d8f416fc2300c85ff8b77a51a5bd7822a7118a8624815daca38a06987909aaeaca9bbc4dd5455fdef738053ece72fcfcf037c574d01091cabf2a743dbdf95c86fbec8d175353b795a6a1cc204905529e4e1de985da8d6966bfd85ea305db9df59b95808e144300a92014e15d68583e463804619946f552100f7adaf37dbf7749de622182abcb0dd67d9f3324b61fc1c2770a6638e27b4d868f466ada5336adef89c4e99b6c6c05167353ab8c0974169a96b95250a44091e8387388c9f66513c9f4751285c4d5a71458da0fb1dc8162656754e7f9212a670eb973da37bb524de0e8bdb440c57e4d7b2c461dbe104b492535f2abef6e33f10f3242d47010000",
    ],
    [
      "ETag",
      "Y/mmS3aGrtlcheaY0Csv7g==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:51 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "ed",
      "d3",
      "41",
      "72",
      "82",
      "300040d1bb646d1d5a4492ee888276024a11d476c3048c0411080953219ddebd4eaf51df05feea7f039ae74ca9b46f2bd6805730d21734cda74440ecdd8aec94f14417e2588a65cd3addb65b5c2d140cf9a5ca9da0ba0ef0c265e620d331ca9be77c2edc1537c9a955b17e5e6e9a4091dd00b7e94744b9210f732856e3a6b6ca731747e3be7f3bbddb7beee2822b23ea68aa12b3bdc7f2a01bd7beab6acfbe5ab6779cc5b0f25771837b02eb5da1d7da133884913c6b8e9a2cd0dc9715b58eb13e6ceb0419c4fe72c97cd9423483f1de9c4b9f944f0d946148a70f0fff179800368852329596f7db4d0ba109f85b3fed47c1eeff63462593e0e717a0f727d019040000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:51 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 4 OFFSET 0",
        defaultDataset: { datasetId: "test" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-3-1636475688553",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff8552ed4f9b4018ff57c8ede36ca1e5b54d9aadab68c86a554ab7b82fe6381ed829707877b874c6ff7d0f509dc644bfc1fdde9eb70772cbeb8ccc49ca8bbb16e4fed38d48c911014d0b7cfdfbb9da2f938bcdf78b5b27f4e35f17f2d49e5c2e16c8e09d4ad1aa2961a4442b19a8f96e3b2ea4681b2a8518a1d1c81e4d3cdb737cd70b02d7b551a6a0ccd7bcbe45f16fad1b3537cda7e871214451026db81a33513dbf9bf753b391e2069856e6eb44134394f96ee6975230aab9a817bb2de6b70ae43554949758c17f61967e7ded3ce6b41a1748bee70c2863a2ad7557155a3051e7bc6865ef4ae60fa4aff2c507d986eb7095183c334ee2f3334302133253c6797c1cc6c6b7ab0e586e57c63a3a8b12c331ce4f4eb6616258e89d81d2bcee9d139a96d0b91e7a8fde0ebc13504d150ce0b56f79741258b3344f7d9607b69be616a46990fa2eb5538bcd1c70b21428ea74e7deab682d6ae67a564069967a41ee050ecda96f4f2dcf036736f53dc7f5981304be9f91c723f247720dc75c3542f16102e4671c25e17512ef36ab6512f66de4b42df5f1505cd7c4cb3a353689a477fa7aec502e30a91b67b449c278b94aa21fe1b0c1351494edb777b8c39c960a908e9b4ff60dce8b5ceec2f88a0c4f31e420a1661fcf11c93df0d1fd3e5d1352f19e304569fcc7a531d5653009c3f278d5d5f2a49e4ddc697ffd9a4afd06f39c0962cf57d4394205b53e34345c13793c84b5ea998420ce7c136d4e11fd07edf3b900cb030000",
    ],
    [
      "ETag",
      "z+myATPNKPk4E7RZPrG31Q==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:51 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-3-1636475688553"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "65",
      "90",
      "51",
      "4f",
      "c2",
      "30",
      "10",
      "c7",
      "bf",
      "cb",
      "f9284b8001e2121ec42cba644199f0647828dd6d16bbdd6c3b0d59f6ddbd0e1f4c7869afbffedafbb71d7caa3a87088eaafc6ad19c6f4a745b5f64685bed2c4f0dd5166104e844c9e638b9373aaed48bbcd5d5ae68a7e169bf2d572b36acfcc04a40d441a150e716a2f70e6a51211f53390beedcf83ad9ece2a738635051eec1669fa60feb3486fed08fe044c70c0b34584bf49735864e285de2735a51351a034bad91686190878dd250db0843143009c260b20817b3bbf962b99ccf43f63449e114d5aceedf80bb38724267f4c32961c682194a0e5c0ce337e3c990e73f995e91f08acc3c39fc35589f1dda57431cd6a2cf39be647e24ff0ec7ef73a6c51148c17ff7acdc65ddff0243fb935698010000",
    ],
    [
      "ETag",
      "0I9rlEmiOc+lmTfu23jUQg==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:51 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "ed",
      "d3",
      "4b",
      "72",
      "82",
      "30",
      "00",
      "00",
      "d0",
      "bb",
      "64",
      "2d8c062949770d6dca277c44e874d83014a3460cc6c808d8e9ddebf41af5dde17d83ba69f8e552f5a79677e0194c35c46663860a113aec8bb7ce3d04e4687d2c628ad3da53ec4657ca28dd5d3a0e2c73a7c399e550ec460987b073a86f941d0e0b6af7a19dd0d3576ba00d63e741439c96914593f0b8849970a47c8a5661a2d7dbd683197ced159e43c2b23a72ad512ed135b879ebd5a44edbab45e05a069f4474058b0cd66d260cfd7cf02352be8fc8299ca250c868b57018cc83d8af7c5a92bd76d98beaa53cc43c5fb816cad13cdd79c27c78f8bfc00cf05109cd2f95b86fb76c8c67e0af7ed54f8adfff135e6baec1cf2f447af33819040000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:52 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 4 OFFSET 4",
        defaultDataset: { datasetId: "test" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-4-1636475688553",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "85",
      "52",
      "5b",
      "4f",
      "db",
      "30",
      "14",
      "fe2b91f74a9ba4cdad95d0464bd82295a225e926f6826ce7247349e3603b2084f8ef3b49808190e02df1773bb707722d9a822c0913d54d07eafecb5e327244c0d00a5fb315dbafea0d6c56d9fecfee764e57d10fefeef81819a257697a686b9868d9290e7ab9cba695925d4b959413349a78133798075ee80751e4fb739469a8cb8d68ae51fcd798562f6dfb397a5a4959d5405ba1a75c1e5edeeddb99dd2ab9076eb4fd36d1c6106d7f98f9b5969c1a219be35d86f99d067505072a6aace0bfb060dfde3a4f053d4c2b24df0a0e9473d935a6af0a2db86c4a51756a7025cb073254f9ea8364f1265ee79628acb3f4e2dc52c0a52ab475919ec6a9b5baec81936c6d6d92f324b73cebe2ec2c8bf103bd0bd0463483734e590dbdeb53efc9fb81f7026aa88611bc0a9d80ba91b360250b7919cd7d563ac058c4429fce99c3171e7805038a3ad3bb0f2adac886cfdcb02cc370cedcd2737801480a7c279821dd714b17664114304ac9e311b953c2c0a9d0add4629c00f99d26797c95a7bbedfa248f87364adad5e6742cae6fe2759d069b44d2077d3df6a89098d48f33d9e6717ab2ce935ff1b8c10d5494df6737b8c392d61a908e9bcfef5b9c17f9b98bd34b323ea5508282867f3e47240fc067f7fb7c4d48c57bc2146df01f97c6759fc1158ccb1387be9667f562e6fa0e19c8cabcc3668b08b1972bea1de1008d796a68bc26f2f814d6e917128238f36db2fd8ee83f2bc44725cb030000",
    ],
    [
      "ETag",
      "SBbjBlLeLBSjZUv3aB8H4w==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:52 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-4-1636475688553"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b08000000000002ff6590516f823010c7bfcbed7192cc2848487c90cd38134236369f8c0f158eae0e38d6961966f8eebbe21e96f8d25e7ffdb5f76f2ff0a99a0222382af9d5a1eeef24da57576468baca1a9e5a6a0cc204d00ac9667c2f7fe454a41bb58debeea92ee99c88d572c986c93fb016105da054581506a2fd051a51231f53050bb66f5dbd4ddfd79b75c6a0a6c281749724ab3859c370182670a26386256a6c727497b59a4e98dbadcb6944dd56e819ea748e064679dc909aba5668228f8937f7a6c12c982ffc200c7d7fc65e45b9b08a1a56776fc05d2c59516574e6943067418f25072ec7f19bb13fe6f94f821bb2b821a12387bf06716fd1bc68e2b0065dce876be64772efb0fc3eab3b9c402ef8ef9e95bdae875f9a031b6f98010000",
    ],
    [
      "ETag",
      "B+gzg1aNGiIBmuDmfowLaA==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:52 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://www.googleapis.com:443", { encodedQueryParams: true })
  .post("/oauth2/v4/token", { grant_type: /.+/g, assertion: /.+/g })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02ffedd34b7282300000d0bb642d8c062949770d6dca277c44e874d83014a3460cc6c808d8e9ddebf41af5dde17d83ba69f8e552f5a79677e0194c35c46663860a113aec8bb7ce3d04e4687d2c628ad3da53ec4657ca28dd5d3a0e2c73a7c399e550ec460987b073a86f941d0e0b6af7a19dd0d3576ba00d63e741439c96914593f0b8849970a47c8a5661a2d7dbd683197ced159e43c2b23a72ad512ed135b879ebd5a44edbab45e05a069f4474058b0cd66d260cfd7cf02352be8fc8299ca250c868b57018cc83d8af7c5a92bd76d98beaa53cc43c5fb816cad13cdd79c27c78f8bfc00cf05109cd2f95b86fb76c8c67e0af7ed54f8adfff135e6baec1cf2f447af33819040000",
    ],
    [
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:52 GMT",
      "Server",
      "scaffolding on HTTPServer2",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Connection",
      "close",
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .post("/bigquery/v2/projects/sample-sources/jobs", {
    configuration: {
      query: {
        useLegacySql: false,
        query: "SELECT id FROM records ORDER BY id ASC LIMIT 4 OFFSET 8",
        defaultDataset: { datasetId: "test" },
      },
    },
    jobReference: {
      projectId: "sample-sources",
      jobId: "grouparoo-job-5-1636475688553",
    },
  })
  .query({ prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "000002ff85525b4fa34014fe2b64f6d5165aa0852666d7adb821a975a574373e9999e1c08e520667861a35fef73d03da684cf4a974bedbb93d915bd114644198a8ee3a500fdf6e242347040cadf0b59aaed677f793c795a13348b2cb76df85bfabe3636408abd274d7d630d2b2531cf462bb19574a762d55528ed068148e26337f16ccc3591485a18f320d75b912cd2d8aff19d3ea85ebbe468f2b29ab1a682bf498cbdde1dddd4fdd56c91be046bbef135d0cd1eea799df6bc9a911b239de6e30bfd3a0ae6147456ddb3b080bf6e3bdf358d0ddb842f25e70a09ccbae31b62ab4e0b22945d5a9de952c9e485fe59b0fb24956c9327744e19c6517e78e022e55a19d8bec34c99c9f571638d92c9d557a9ee64ee05c9c9d6d92dc89d0bb006d44d33be794d5605d5f7a4f3f0edc0aa8a11a06f07aeecde824f26256b2392f233f64a5078c456c1e529f793c0e20281850d419ebdeab68231b9f7a74ce79803f308d581c780587989651e94d99174ce33930888309793e22f74a183815ba955a0c13207fb3344faef36cbb5e9ee449df4649bbda9c0ec5d926ded669b049247dd2d7b34585c4243bce749d27d9c9324fff24c306575051feb0b9c31d96b4d68074dc7cfed0e2bcc8e536c9aec8f09441090a1afef51c91dc035fddefeb352115ef0953b4c1ffb834ae6d0657302c4fec6c2dafead8f7fc98f464653e6093c862872bb28eb083c6bc34345c13797e09ebf4818420ce7c9dae7f21fa1f8f256b4ccb030000",
    ],
    [
      "ETag",
      "g2LNqw1zLta6eERQpvu5Pg==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:53 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );
nock("https://bigquery.googleapis.com:443", { encodedQueryParams: true })
  .get(
    "/bigquery/v2/projects/sample-sources/queries/grouparoo-job-5-1636475688553"
  )
  .query({ location: "US", prettyPrint: "false" })
  .once()
  .reply(
    200,
    [
      "1f",
      "8b",
      "08",
      "00",
      "00",
      "00",
      "00",
      "00",
      "02",
      "ff",
      "4d",
      "90",
      "c1",
      "6e",
      "c2",
      "30",
      "0c",
      "86",
      "df",
      "c5",
      "bb5209d6153a240e80aa0d09a1ad03ed307108a9db15daba4b5c5887faee73ca0ebb24ce9fcfcea75ce19457094ce190675f0d9af62e437e75458cb629d8ca565365110680ac3221dfe7939fd372bbf3437fcb9738fb0ecfadbecc664258fd89a582e915d21c8bc4c2f4e30a952a51daf244006e6b57af36dbe8298a25282971c166b75ecf17eb08ba7d3780231d624cd160a5d10dab0d1d51f3ca795a55d6057a961aa3d1420ff71799a1a65686c893c40bbcd1d81f3f4c82711806812f5c415a714e95a0bb379057985815315dc412ee05307d29c269bf9e257eec7dfe27a3a18bf67fdd8b96d1be1812138b4e6278135a9293649167d3e000b4928f79cef976ee7e01facc374975010000",
    ],
    [
      "ETag",
      "WA7zkCTU383TtwRgx8vycw==",
      "Content-Type",
      "application/json; charset=UTF-8",
      "Vary",
      "Origin",
      "Vary",
      "X-Origin",
      "Vary",
      "Referer",
      "Content-Encoding",
      "gzip",
      "Date",
      "Tue, 09 Nov 2021 16:34:53 GMT",
      "Server",
      "ESF",
      "Cache-Control",
      "private",
      "X-XSS-Protection",
      "0",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Alt-Svc",
      'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000,h3-Q050=":443"; ma=2592000,h3-Q046=":443"; ma=2592000,h3-Q043=":443"; ma=2592000,quic=":443"; ma=2592000; v="46,43"',
      "Transfer-Encoding",
      "chunked",
    ]
  );

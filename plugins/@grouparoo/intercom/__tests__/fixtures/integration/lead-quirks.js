const nock = require("nock");
process.env.INTERCOM_RANDOM_NUMBERS =
  "[6861941801,5504083248,4296324619,6927181855,8553112774,6533199308,1650737931,9852241804,3699129264,4862419212,744027131,8697596423,8062205331,2612277651,2133540781,8439905252,6626282069,1146878511,6420443134,474381098,3971609835,4587662354,9710994847,8763560566,8012716573,6075790779,8244103814,5225963355,5603432476,8018775916,6323639022,7438437727,5910657088,553854885,7400639224,4923295738,6264610751,3475270897,4823144095,210064830,8267271134,5072020697,6636381128,7919555764,4722952971,979061924,7882197685,1075892203,9694906669,2615966355,7409045730,4953587658,1155810202,3518003491,1175302164,935456976,9559087739,8781200662,284435838,9358799494,8800137086,6072450380,9656946122,3185121108,3409084015,6594094847,5558374457,2621917005,9132561853,9658012826,6724317905,4190116153,5605461932,605722571,4062330606,3574545625,7614303819,1299180649,8838655956,4074042640,5995777935,6664157339,5365883980,2770666354,2174299918,4833704283,169014075,5374902441,5004189078,5528493541,4200797555,5707922521,3436847545,2519869233,1378944163,7205751964,6837450508,4615699505,2781626721,8683813731]";

nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts")
  .query({ per_page: "150" })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "600e1ac60fb22447d2976537",
          workspace_id: "l4wp0knn",
          external_id: "cc94dbfa-bded-472d-81ed-6019051fca89",
          role: "lead",
          email: "testuser1.8690556450@demo.com",
          phone: null,
          name: null,
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1611537094,
          updated_at: 1611537606,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {
            text_field: null,
            number_field: null,
            decimal_field: null,
            boolean_field: null,
            date_field: null,
          },
          tags: {
            type: "list",
            data: [{ id: "4919479", type: "tag", url: "/tags/4919479" }],
            url: "/contacts/600e1ac60fb22447d2976537/tags",
            total_count: 1,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/600e1ac60fb22447d2976537/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/600e1ac60fb22447d2976537/companies",
            total_count: 0,
            has_more: false,
          },
        },
        {
          type: "contact",
          id: "600e1c4aebadd4739760cd85",
          workspace_id: "l4wp0knn",
          external_id: "testuser3.779030328",
          role: "user",
          email: "testuser3.779030328@demo.com",
          phone: null,
          name: "Allison",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1611537482,
          updated_at: 1611537604,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [{ id: "4919472", type: "tag", url: "/tags/4919472" }],
            url: "/contacts/600e1c4aebadd4739760cd85/tags",
            total_count: 1,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/600e1c4aebadd4739760cd85/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/600e1c4aebadd4739760cd85/companies",
            total_count: 0,
            has_more: false,
          },
        },
        {
          type: "contact",
          id: "600e1dbb6e3ca82f2c842f5c",
          workspace_id: "l4wp0knn",
          external_id: "6cbd6d1d-9cbe-4ad3-8911-905e67ab6ff9",
          role: "lead",
          email: "testuser2.7990884758@demo.com",
          phone: null,
          name: "Back!",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1611537851,
          updated_at: 1611537851,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [],
            url: "/contacts/600e1dbb6e3ca82f2c842f5c/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/600e1dbb6e3ca82f2c842f5c/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/600e1dbb6e3ca82f2c842f5c/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 3,
      pages: { type: "pages", page: 1, per_page: 150, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:15 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "161",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "00007i6lu9765qt8rucg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"e41ec28f5ce54f0f35f5557bacf8a660"',
      "X-Runtime",
      "0.121180",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1ac60fb22447d2976537/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1ac60fb22447d2976537", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:16 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "160",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgf3uth5c3k597ing",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"83561d466b3b019dd293b552f24e33d3"',
      "X-Runtime",
      "0.076030",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1c4aebadd4739760cd85/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1c4aebadd4739760cd85", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:16 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "159",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002govv8f5mrtmmemlh0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"1019e98147c8e522c48f97077c924f32"',
      "X-Runtime",
      "0.058931",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1dbb6e3ca82f2c842f5c/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1dbb6e3ca82f2c842f5c", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:17 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "158",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hl485kfj587k17g50",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"ced582dfb3c5b68bcd488df11a8509c8"',
      "X-Runtime",
      "0.058605",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", { role: "lead", email: "testuser1.5072020697@demo.com" })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e39d3d27d5e85f1dec7",
      workspace_id: "l4wp0knn",
      external_id: "753269b8-4ce7-4ff5-94ed-05252be7af01",
      role: "lead",
      email: "testuser1.5072020697@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537977,
      updated_at: 1611537977,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e39d3d27d5e85f1dec7/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e39d3d27d5e85f1dec7/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e39d3d27d5e85f1dec7/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:17 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "157",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgfcvrbki4r19dt0g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"a006d7fbd05d811aba998a207e9a3c86"',
      "X-Runtime",
      "0.290345",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=d4deb4f1-bc12-4084-bcce-5c5087f85af5; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e39d3d27d5e85f1dec7")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e39d3d27d5e85f1dec7",
      workspace_id: "l4wp0knn",
      external_id: "753269b8-4ce7-4ff5-94ed-05252be7af01",
      role: "lead",
      email: "testuser1.5072020697@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537977,
      updated_at: 1611537977,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e39d3d27d5e85f1dec7/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e39d3d27d5e85f1dec7/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e39d3d27d5e85f1dec7/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:18 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "156",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgfhdtc63v15s2630",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"a006d7fbd05d811aba998a207e9a3c86"',
      "X-Runtime",
      "0.077294",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "lead",
    email: "testuser2.6636381128@demo.com",
    external_id: "testuser2.6636381128",
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3ae063b9d803d7c156",
      workspace_id: "l4wp0knn",
      external_id: "bd0f1bd5-a6df-4a12-9e14-54a8762df6c3",
      role: "lead",
      email: "testuser2.6636381128@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537978,
      updated_at: 1611537978,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:18 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "155",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gtkk8inflgt1pqn5g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"8f6fd1e4762a0870954213ce8f2406b3"',
      "X-Runtime",
      "0.185814",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=4588ba72-b841-490c-9af3-ba0b316832ce; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e3ae063b9d803d7c156")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3ae063b9d803d7c156",
      workspace_id: "l4wp0knn",
      external_id: "bd0f1bd5-a6df-4a12-9e14-54a8762df6c3",
      role: "lead",
      email: "testuser2.6636381128@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537978,
      updated_at: 1611537978,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:19 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "154",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gtkolj03iufp95790",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"8f6fd1e4762a0870954213ce8f2406b3"',
      "X-Runtime",
      "0.065639",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .put("/contacts/600e1e3ae063b9d803d7c156", {
    role: "user",
    email: "testuser2.6636381128@demo.com",
    external_id: "testuser2.6636381128",
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3ae063b9d803d7c156",
      workspace_id: "l4wp0knn",
      external_id: "testuser2.6636381128",
      role: "user",
      email: "testuser2.6636381128@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537978,
      updated_at: 1611537979,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:19 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "153",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgfrtv03rr6cgdssg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"80616fae9e5f092ea0d86edbce4338b4"',
      "X-Runtime",
      "0.187364",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=90cd046d-6704-4a44-8ec7-c6183dea75da; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e3ae063b9d803d7c156")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3ae063b9d803d7c156",
      workspace_id: "l4wp0knn",
      external_id: "testuser2.6636381128",
      role: "user",
      email: "testuser2.6636381128@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537978,
      updated_at: 1611537979,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:19 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537982",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "152",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgg07vfs07dmnu0e0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"80616fae9e5f092ea0d86edbce4338b4"',
      "X-Runtime",
      "0.068471",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .put("/contacts/600e1e3ae063b9d803d7c156", {
    role: "lead",
    email: "testuser2.6636381128@demo.com",
    external_id: "testuser2.6636381128",
  })
  .once()
  .reply(
    400,
    {
      type: "error.list",
      request_id: "00007j8rtj7ir899c8qg",
      errors: [
        {
          code: "client_error",
          message: "Contact with user role can't be converted to a lead",
        },
      ],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:20 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "400 Bad Request",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "167",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "00007j8rtj7ir899c8qg",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.054061",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e3ae063b9d803d7c156")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3ae063b9d803d7c156",
      workspace_id: "l4wp0knn",
      external_id: "testuser2.6636381128",
      role: "user",
      email: "testuser2.6636381128@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537978,
      updated_at: 1611537979,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3ae063b9d803d7c156/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:20 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "166",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "000aieusblgk6pbghn7g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"80616fae9e5f092ea0d86edbce4338b4"',
      "X-Runtime",
      "0.082235",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    email: "testuser3.7919555764@demo.com",
    external_id: "testuser3.7919555764",
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3dd3d27deecdf95953",
      workspace_id: "l4wp0knn",
      external_id: "testuser3.7919555764",
      role: "user",
      email: "testuser3.7919555764@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537981,
      updated_at: 1611537981,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:21 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "165",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgg9euba0usg636o0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"444c36f310284312c58fb4fc537d4895"',
      "X-Runtime",
      "0.204406",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=aaecd45f-2908-427f-9a54-993be44bc5e2; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e3dd3d27deecdf95953")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3dd3d27deecdf95953",
      workspace_id: "l4wp0knn",
      external_id: "testuser3.7919555764",
      role: "user",
      email: "testuser3.7919555764@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537981,
      updated_at: 1611537981,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:21 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "164",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hl5b18re52d4qnskg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"444c36f310284312c58fb4fc537d4895"',
      "X-Runtime",
      "0.075124",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1e3dd3d27deecdf95953/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1e3dd3d27deecdf95953", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:22 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "163",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hbqqtbo9vkaqq0omg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"6abbc606e67be935ea75c14a88f9f1fe"',
      "X-Runtime",
      "0.146151",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=2064159c-303e-4cd6-b9d4-895e0cf156ab; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e3dd3d27deecdf95953")
  .once()
  .reply(
    404,
    {
      type: "error.list",
      request_id: "002huiplp85aumdd696g",
      errors: [{ code: "not_found", message: "User Not Found" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:22 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "404 Not Found",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "162",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002huiplp85aumdd696g",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.048376",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    email: "testuser3.7919555764@demo.com",
    external_id: "testuser3.7919555764",
  })
  .once()
  .reply(
    409,
    {
      type: "error.list",
      request_id: "002hggmao1o8da2uhbag",
      errors: [
        {
          code: "conflict",
          message:
            "An archived contact matching those details already exists with id=600e1e3dd3d27deecdf95953",
        },
      ],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:22 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "409 Conflict",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "161",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hggmao1o8da2uhbag",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.065466",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1e3dd3d27deecdf95953/unarchive", {})
  .once()
  .reply(
    200,
    { id: "600e1e3dd3d27deecdf95953", object: "contact", archived: false },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:23 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "160",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gfm8ju00s5j5c7e7g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"4c1ea5669dd7a74b670c3a78154828a8"',
      "X-Runtime",
      "0.207954",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=f7c27a8a-4d9f-4c52-ba1b-498a285dbdb6; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e3dd3d27deecdf95953")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e3dd3d27deecdf95953",
      workspace_id: "l4wp0knn",
      external_id: "testuser3.7919555764",
      role: "user",
      email: "testuser3.7919555764@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537981,
      updated_at: 1611537983,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e3dd3d27deecdf95953/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:23 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "159",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gkcgvplaim4m8vsqg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"4ecad8d532e6d924f4e8f87145c7e243"',
      "X-Runtime",
      "0.084373",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", { role: "lead", email: "testuser4.4722952971@demo.com" })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e40ec51fb551130348b",
      workspace_id: "l4wp0knn",
      external_id: "02436ebb-f8bb-4427-b682-38a0d785f6b6",
      role: "lead",
      email: "testuser4.4722952971@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537984,
      updated_at: 1611537984,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:24 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "158",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hprb9ringmji742n0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"26906b46c942e287e7bd7fefc706c313"',
      "X-Runtime",
      "0.216594",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=115f1d97-3e27-4b4e-a326-a27b09cf1fb9; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e40ec51fb551130348b")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e40ec51fb551130348b",
      workspace_id: "l4wp0knn",
      external_id: "02436ebb-f8bb-4427-b682-38a0d785f6b6",
      role: "lead",
      email: "testuser4.4722952971@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537984,
      updated_at: 1611537984,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:24 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "157",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hprfqvbihl31g6dj0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"26906b46c942e287e7bd7fefc706c313"',
      "X-Runtime",
      "0.070810",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1e40ec51fb551130348b/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1e40ec51fb551130348b", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:25 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "156",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002g67v1tom0kdjtdvo0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"1e658fb031252dcff2e3024065af7028"',
      "X-Runtime",
      "0.170454",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=45dff853-1082-4b3b-89cf-2a7b6160a128; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e40ec51fb551130348b")
  .once()
  .reply(
    404,
    {
      type: "error.list",
      request_id: "002hprm2vgrissdu1lbg",
      errors: [{ code: "not_found", message: "User Not Found" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:25 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "404 Not Found",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "155",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hprm2vgrissdu1lbg",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.048895",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", { role: "lead", email: "testuser4.4722952971@demo.com" })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e41ec51fbebd71ab51b",
      workspace_id: "l4wp0knn",
      external_id: "837ce6e0-b4c3-4ff0-836d-935524363e14",
      role: "lead",
      email: "testuser4.4722952971@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537985,
      updated_at: 1611537985,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e41ec51fbebd71ab51b/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e41ec51fbebd71ab51b/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e41ec51fbebd71ab51b/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:26 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "154",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hprokuoa1h7761tgg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"d86b9ee81e75d1a10c0e07df8ecbcd63"',
      "X-Runtime",
      "0.422059",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=186e8ba9-2acc-4e2b-937b-85bfe59b0ac8; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e41ec51fbebd71ab51b")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e41ec51fbebd71ab51b",
      workspace_id: "l4wp0knn",
      external_id: "837ce6e0-b4c3-4ff0-836d-935524363e14",
      role: "lead",
      email: "testuser4.4722952971@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537985,
      updated_at: 1611537985,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e41ec51fbebd71ab51b/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e41ec51fbebd71ab51b/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e41ec51fbebd71ab51b/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:26 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "153",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hbrtv88fhl91gsr6g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"d86b9ee81e75d1a10c0e07df8ecbcd63"',
      "X-Runtime",
      "0.073934",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1e40ec51fb551130348b/unarchive", {})
  .once()
  .reply(
    200,
    { id: "600e1e40ec51fb551130348b", object: "contact", archived: false },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:26 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "152",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gb00qtl77r5heom7g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"4214fd7e5c5a1a1529a842f2a830b18b"',
      "X-Runtime",
      "0.146367",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=dbb4fb31-df5e-4113-9a18-5d05ec5bc5a6; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e40ec51fb551130348b")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e40ec51fb551130348b",
      workspace_id: "l4wp0knn",
      external_id: "02436ebb-f8bb-4427-b682-38a0d785f6b6",
      role: "lead",
      email: "testuser4.4722952971@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537984,
      updated_at: 1611537986,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e40ec51fb551130348b/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:27 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "151",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002i394cu6i8tsohhjhg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"1f14eca34017002ba0ea7e118f042c12"',
      "X-Runtime",
      "0.093085",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    email: "testuser3.979061924@demo.com",
    external_id: "testuser3.979061924",
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e432824cd2e608f563c",
      workspace_id: "l4wp0knn",
      external_id: "testuser3.979061924",
      role: "user",
      email: "testuser3.979061924@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537987,
      updated_at: 1611537987,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e432824cd2e608f563c/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e432824cd2e608f563c/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e432824cd2e608f563c/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:27 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "150",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "000aigm2ae2sust4c3h0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"3fdb80c7306da1443f1110843745ad27"',
      "X-Runtime",
      "0.310092",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=8a685228-b514-4519-ba01-7277f4e51a3d; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e432824cd2e608f563c")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e432824cd2e608f563c",
      workspace_id: "l4wp0knn",
      external_id: "testuser3.979061924",
      role: "user",
      email: "testuser3.979061924@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537987,
      updated_at: 1611537987,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e432824cd2e608f563c/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e432824cd2e608f563c/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e432824cd2e608f563c/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:28 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "149",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hbscnqbnndkf1raf0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"3fdb80c7306da1443f1110843745ad27"',
      "X-Runtime",
      "0.076734",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .delete("/contacts/600e1e432824cd2e608f563c")
  .once()
  .reply(
    200,
    { id: "600e1e432824cd2e608f563c", object: "contact", deleted: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:28 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "148",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hukaupkhiieetanvg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"6b5afa534f1d172894e8d427e1aad422"',
      "X-Runtime",
      "0.177467",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=8d2b5ff4-61e5-47df-bbf5-a223deacbe32; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e432824cd2e608f563c")
  .once()
  .reply(
    404,
    {
      type: "error.list",
      request_id: "002g6908oln1tdbbskfg",
      errors: [{ code: "not_found", message: "User Not Found" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:29 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "404 Not Found",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "147",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002g6908oln1tdbbskfg",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.054999",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    email: "testuser3.979061924@demo.com",
    external_id: "testuser3.979061924",
  })
  .once()
  .reply(
    409,
    {
      type: "error.list",
      request_id: "002hpsmusqaeb74h46u0",
      errors: [
        {
          code: "conflict",
          message:
            "An archived contact matching those details already exists with id=600e1e432824cd2e608f563c",
        },
      ],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:29 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "409 Conflict",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "146",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hpsmusqaeb74h46u0",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.067356",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1e432824cd2e608f563c/unarchive", {})
  .once()
  .reply(
    500,
    {
      type: "error.list",
      request_id: "002h6rt3qj4l414vptqg",
      errors: [{ code: "server_error", message: "Server Error" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:30 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "500 Internal Server Error",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611537992",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "145",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002h6rt3qj4l414vptqg",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.102959",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e432824cd2e608f563c")
  .once()
  .reply(
    404,
    {
      type: "error.list",
      request_id: "000aihaqd3v379am93j0",
      errors: [{ code: "not_found", message: "User Not Found" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:30 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "404 Not Found",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "167",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "000aihaqd3v379am93j0",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.185720",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", { role: "lead", email: "testuser4.7882197685@demo.com" })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e46d3d27d9ec0fbc6f1",
      workspace_id: "l4wp0knn",
      external_id: "0435393f-0dcd-45e2-8b6f-2362c35132d1",
      role: "lead",
      email: "testuser4.7882197685@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537990,
      updated_at: 1611537990,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e46d3d27d9ec0fbc6f1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e46d3d27d9ec0fbc6f1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e46d3d27d9ec0fbc6f1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:30 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "166",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgil6r5pq3dop9gk0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"14949a3382bf8cee13601bc90e9039b7"',
      "X-Runtime",
      "0.197497",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=c5dc11b6-6397-4e6d-b61d-33c98e67ded9; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e46d3d27d9ec0fbc6f1")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e46d3d27d9ec0fbc6f1",
      workspace_id: "l4wp0knn",
      external_id: "0435393f-0dcd-45e2-8b6f-2362c35132d1",
      role: "lead",
      email: "testuser4.7882197685@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537990,
      updated_at: 1611537990,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e46d3d27d9ec0fbc6f1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e46d3d27d9ec0fbc6f1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e46d3d27d9ec0fbc6f1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:31 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "165",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gp3hngudkhdptsd80",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"14949a3382bf8cee13601bc90e9039b7"',
      "X-Runtime",
      "0.091788",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .delete("/contacts/600e1e46d3d27d9ec0fbc6f1")
  .once()
  .reply(
    200,
    { id: "600e1e46d3d27d9ec0fbc6f1", object: "contact", deleted: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:31 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "164",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002g69kfqaiknmj350a0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"86230e00fa2a059f0e77ef8b5f58ebef"',
      "X-Runtime",
      "0.220626",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=da64c42b-4217-454c-aadc-d87bbc394d95; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e46d3d27d9ec0fbc6f1")
  .once()
  .reply(
    404,
    {
      type: "error.list",
      request_id: "002gkel5qaqrrr7boa60",
      errors: [{ code: "not_found", message: "User Not Found" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:32 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "404 Not Found",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "163",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gkel5qaqrrr7boa60",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.058365",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", { role: "lead", email: "testuser4.7882197685@demo.com" })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e480fb2248540b4411f",
      workspace_id: "l4wp0knn",
      external_id: "43f8e677-6413-4fa0-9334-bdf2dfe6d19a",
      role: "lead",
      email: "testuser4.7882197685@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537992,
      updated_at: 1611537992,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e480fb2248540b4411f/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e480fb2248540b4411f/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e480fb2248540b4411f/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:32 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "162",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002g6ci5ivjai3a6lo6g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"12bf6fee15de3d540a585d1c2944caff"',
      "X-Runtime",
      "0.223392",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=b8dc1689-cc58-43ed-af65-252ee32b597a; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e480fb2248540b4411f")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "600e1e480fb2248540b4411f",
      workspace_id: "l4wp0knn",
      external_id: "43f8e677-6413-4fa0-9334-bdf2dfe6d19a",
      role: "lead",
      email: "testuser4.7882197685@demo.com",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1611537992,
      updated_at: 1611537992,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/600e1e480fb2248540b4411f/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/600e1e480fb2248540b4411f/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/600e1e480fb2248540b4411f/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:33 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "161",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002gb1kgr7fovan9tcsg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"12bf6fee15de3d540a585d1c2944caff"',
      "X-Runtime",
      "0.084545",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1e46d3d27d9ec0fbc6f1/unarchive", {})
  .once()
  .reply(
    500,
    {
      type: "error.list",
      request_id: "002h2fkjs60i7vura9f0",
      errors: [{ code: "server_error", message: "Server Error" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:33 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "500 Internal Server Error",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "160",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002h2fkjs60i7vura9f0",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.094744",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/600e1e46d3d27d9ec0fbc6f1")
  .once()
  .reply(
    404,
    {
      type: "error.list",
      request_id: "002hullhvea7jj5v3vj0",
      errors: [{ code: "not_found", message: "User Not Found" }],
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:34 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "404 Not Found",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "159",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hullhvea7jj5v3vj0",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.049443",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts")
  .query({ per_page: "150" })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "600e1ac60fb22447d2976537",
          workspace_id: "l4wp0knn",
          external_id: "cc94dbfa-bded-472d-81ed-6019051fca89",
          role: "lead",
          email: "testuser1.8690556450@demo.com",
          phone: null,
          name: null,
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1611537094,
          updated_at: 1611537606,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {
            text_field: null,
            number_field: null,
            decimal_field: null,
            boolean_field: null,
            date_field: null,
          },
          tags: {
            type: "list",
            data: [{ id: "4919479", type: "tag", url: "/tags/4919479" }],
            url: "/contacts/600e1ac60fb22447d2976537/tags",
            total_count: 1,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/600e1ac60fb22447d2976537/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/600e1ac60fb22447d2976537/companies",
            total_count: 0,
            has_more: false,
          },
        },
        {
          type: "contact",
          id: "600e1c4aebadd4739760cd85",
          workspace_id: "l4wp0knn",
          external_id: "testuser3.779030328",
          role: "user",
          email: "testuser3.779030328@demo.com",
          phone: null,
          name: "Allison",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1611537482,
          updated_at: 1611537604,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [{ id: "4919472", type: "tag", url: "/tags/4919472" }],
            url: "/contacts/600e1c4aebadd4739760cd85/tags",
            total_count: 1,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/600e1c4aebadd4739760cd85/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/600e1c4aebadd4739760cd85/companies",
            total_count: 0,
            has_more: false,
          },
        },
        {
          type: "contact",
          id: "600e1dbb6e3ca82f2c842f5c",
          workspace_id: "l4wp0knn",
          external_id: "6cbd6d1d-9cbe-4ad3-8911-905e67ab6ff9",
          role: "lead",
          email: "testuser2.7990884758@demo.com",
          phone: null,
          name: "Back!",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1611537851,
          updated_at: 1611537851,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [],
            url: "/contacts/600e1dbb6e3ca82f2c842f5c/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/600e1dbb6e3ca82f2c842f5c/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/600e1dbb6e3ca82f2c842f5c/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 3,
      pages: { type: "pages", page: 1, per_page: 150, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:34 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "158",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "00015c17p2kk4483tfa0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"e41ec28f5ce54f0f35f5557bacf8a660"',
      "X-Runtime",
      "0.127217",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1ac60fb22447d2976537/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1ac60fb22447d2976537", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:35 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "157",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002hgjlhr1reqn81u0e0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"83561d466b3b019dd293b552f24e33d3"',
      "X-Runtime",
      "0.121297",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1c4aebadd4739760cd85/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1c4aebadd4739760cd85", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:35 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "156",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "00007mugs9bv8q0o1c10",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"1019e98147c8e522c48f97077c924f32"',
      "X-Runtime",
      "0.054782",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/600e1dbb6e3ca82f2c842f5c/archive", {})
  .once()
  .reply(
    200,
    { id: "600e1dbb6e3ca82f2c842f5c", object: "contact", archived: true },
    [
      "Date",
      "Mon, 25 Jan 2021 01:26:35 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1611538002",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "155",
      "X-Intercom-Version",
      "8f07e1dcefa42c740562d3d861286f5a8d54f913",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "002i3b5vraat1icqqa1g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"ced582dfb3c5b68bcd488df11a8509c8"',
      "X-Runtime",
      "0.060141",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-01bbcee2357c5b1cf",
    ]
  );

const nock = require("nock");

nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts")
  .query({ per_page: "150" })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "5ff2aae5d506e1ee5fb2638e",
          workspace_id: "l4wp0knn",
          external_id: "testuser9323283150",
          role: "user",
          email: null,
          phone: null,
          name: null,
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1609738981,
          updated_at: 1609739047,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {
            text_field: null,
            number_field: null,
            decimal_field: null,
            boolean_field: null,
            date_field: null,
          },
          tags: {
            type: "list",
            data: [],
            url: "/contacts/5ff2aae5d506e1ee5fb2638e/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/5ff2aae5d506e1ee5fb2638e/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/5ff2aae5d506e1ee5fb2638e/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 1,
      pages: { type: "pages", page: 1, per_page: 150, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:46:34 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739200",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "167",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008nrn16bqch098iab5g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"5b8d406b4822429fd4a81cb6e9b0bfd1"',
      "X-Runtime",
      "0.087177",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/5ff2aae5d506e1ee5fb2638e/archive", {})
  .once()
  .reply(
    200,
    { id: "5ff2aae5d506e1ee5fb2638e", object: "contact", archived: true },
    [
      "Date",
      "Mon, 04 Jan 2021 05:46:35 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739200",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "166",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008r707h9hjlb2u56hr0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"2c9abc80f096f97a30741cb36f14ce0c"',
      "X-Runtime",
      "0.173545",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=bae1179d-a1c8-43b6-9880-9f034d99be53; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/search", {
    query: { field: "external_id", operator: "=", value: "testuser3415520588" },
  })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [],
      total_count: 0,
      pages: { type: "pages", page: 1, per_page: 50, total_pages: 0 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:46:35 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739200",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "165",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008r5kcpp2t7j5i4d61g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"3accce3023253f75d3952041dc778ae0"',
      "X-Runtime",
      "0.094542",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/search", {
    query: {
      operator: "OR",
      value: [
        { field: "external_id", operator: "=", value: "testuser3415520588" },
        { field: "email", operator: "=", value: "testuser3415520588@demo.com" },
      ],
    },
  })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [],
      total_count: 0,
      pages: { type: "pages", page: 1, per_page: 50, total_pages: 0 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:46:36 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739200",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "164",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008nuc9pj5tmrm5jffv0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"3accce3023253f75d3952041dc778ae0"',
      "X-Runtime",
      "0.136894",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    external_id: "testuser3415520588",
    email: "testuser3415520588@demo.com",
    name: "Brian",
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "testuser3415520588@demo.com",
      phone: null,
      name: "Brian",
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739196,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:46:36 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739200",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "163",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008nucdddv7g23f6vjog",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"57b8bef16bb7f184410290ef7ef002e5"',
      "X-Runtime",
      "0.276959",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=47e1823b-42da-4e10-935a-5b2e5afac1b6; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/search", {
    query: { field: "external_id", operator: "=", value: "testuser3415520588" },
  })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "5ff2abbc5b0a1b5511eb33c1",
          workspace_id: "l4wp0knn",
          external_id: "testuser3415520588",
          role: "user",
          email: "testuser3415520588@demo.com",
          phone: null,
          name: "Brian",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1609739196,
          updated_at: 1609739196,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 1,
      pages: { type: "pages", page: 1, per_page: 50, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:37 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "167",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008r7fcfpd0dtro3fkgg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"fcf51f7b464658abdb5b8d3195ac648b"',
      "X-Runtime",
      "0.096445",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/5ff2abbc5b0a1b5511eb33c1")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "testuser3415520588@demo.com",
      phone: null,
      name: "Brian",
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739196,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {},
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:37 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "166",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008nqmtjtce8a0n56adg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"57b8bef16bb7f184410290ef7ef002e5"',
      "X-Runtime",
      "0.070153",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/search", {
    query: {
      operator: "OR",
      value: [
        { field: "external_id", operator: "=", value: "testuser3415520588" },
        { field: "email", operator: "=", value: "testuser3415520588@demo.com" },
      ],
    },
  })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "5ff2abbc5b0a1b5511eb33c1",
          workspace_id: "l4wp0knn",
          external_id: "testuser3415520588",
          role: "user",
          email: "testuser3415520588@demo.com",
          phone: null,
          name: "Brian",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1609739196,
          updated_at: 1609739196,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 1,
      pages: { type: "pages", page: 1, per_page: 50, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:37 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "165",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008q5fdrrtvb2hu4oaa0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"fcf51f7b464658abdb5b8d3195ac648b"',
      "X-Runtime",
      "0.132851",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    external_id: "testuser3415520588",
    email: "testuser3415520588@demo.com",
    name: "John",
    phone: "+16505551234",
    custom_attributes: { text_field: "testing here", date_field: 1597870204 },
  })
  .once()
  .reply(
    409,
    {
      type: "error.list",
      request_id: "008r63notfsegt9h85a0",
      errors: [
        {
          code: "conflict",
          message:
            "A contact matching those details already exists with id=5ff2abbc5b0a1b5511eb33c1",
        },
      ],
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:38 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "409 Conflict",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "164",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008r63notfsegt9h85a0",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.053745",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .put("/contacts/5ff2abbc5b0a1b5511eb33c1", {
    role: "user",
    external_id: "testuser3415520588",
    email: "testuser3415520588@demo.com",
    name: "John",
    phone: "+16505551234",
    custom_attributes: { text_field: "testing here", date_field: 1597870204 },
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "testuser3415520588@demo.com",
      phone: "+16505551234",
      name: "John",
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739258,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: { text_field: "testing here", date_field: 1597870204 },
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:38 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "163",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008nurjpr5dm511tehl0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"4ec1d1736de51ca181823a7722c2ffab"',
      "X-Runtime",
      "0.121841",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/5ff2abbc5b0a1b5511eb33c1")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "testuser3415520588@demo.com",
      phone: "+16505551234",
      name: "John",
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739258,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: { text_field: "testing here", date_field: 1597870204 },
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:39 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "162",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008prhbuv220jre27d80",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"4ec1d1736de51ca181823a7722c2ffab"',
      "X-Runtime",
      "0.076279",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/search", {
    query: {
      operator: "OR",
      value: [
        { field: "external_id", operator: "=", value: "testuser3415520588" },
        { field: "email", operator: "=", value: "testuser3415520588@demo.com" },
      ],
    },
  })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "5ff2abbc5b0a1b5511eb33c1",
          workspace_id: "l4wp0knn",
          external_id: "testuser3415520588",
          role: "user",
          email: "testuser3415520588@demo.com",
          phone: null,
          name: "Brian",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1609739196,
          updated_at: 1609739196,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 1,
      pages: { type: "pages", page: 1, per_page: 50, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:39 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "161",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008ra9i8tobm0mhp563g",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"fcf51f7b464658abdb5b8d3195ac648b"',
      "X-Runtime",
      "0.093598",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    external_id: "testuser3415520588",
    email: "testuser3415520588@demo.com",
    name: "Evan",
    phone: null,
    custom_attributes: {
      text_field: "testing here change",
      date_field: null,
      boolean_field: true,
      number_field: 13,
      decimal_field: 3.14,
    },
    unknown_junk: "ok",
  })
  .once()
  .reply(
    409,
    {
      type: "error.list",
      request_id: "008prhidf3af6p9969bg",
      errors: [
        {
          code: "conflict",
          message:
            "A contact matching those details already exists with id=5ff2abbc5b0a1b5511eb33c1",
        },
      ],
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:39 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "409 Conflict",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739260",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "160",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008prhidf3af6p9969bg",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.049046",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .put("/contacts/5ff2abbc5b0a1b5511eb33c1", {
    role: "user",
    external_id: "testuser3415520588",
    email: "testuser3415520588@demo.com",
    name: "Evan",
    phone: null,
    custom_attributes: {
      text_field: "testing here change",
      date_field: null,
      boolean_field: true,
      number_field: 13,
      decimal_field: 3.14,
    },
    unknown_junk: "ok",
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "testuser3415520588@demo.com",
      phone: null,
      name: "Evan",
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739260,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {
        text_field: "testing here change",
        date_field: null,
        boolean_field: true,
        number_field: 13,
        decimal_field: 3.14,
      },
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:40 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739270",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "167",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008ra9nrvqsce2h7irs0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"dd799ee2a3c7050197d37c915a982765"',
      "X-Runtime",
      "0.133918",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/5ff2abbc5b0a1b5511eb33c1")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "testuser3415520588@demo.com",
      phone: null,
      name: "Evan",
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739260,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {
        boolean_field: true,
        date_field: null,
        decimal_field: 3.14,
        number_field: 13,
        text_field: "testing here change",
      },
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:40 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739270",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "166",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008r64aeq6oafhgiu8bg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"838266f93a48edd9469a0fc9bccc7dbd"',
      "X-Runtime",
      "0.077360",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts/search", {
    query: {
      operator: "OR",
      value: [
        { field: "external_id", operator: "=", value: "testuser3415520588" },
        { field: "email", operator: "=", value: "testuser3415520588@demo.com" },
      ],
    },
  })
  .once()
  .reply(
    200,
    {
      type: "list",
      data: [
        {
          type: "contact",
          id: "5ff2abbc5b0a1b5511eb33c1",
          workspace_id: "l4wp0knn",
          external_id: "testuser3415520588",
          role: "user",
          email: "testuser3415520588@demo.com",
          phone: null,
          name: "Brian",
          avatar: null,
          owner_id: null,
          social_profiles: { type: "list", data: [] },
          has_hard_bounced: false,
          marked_email_as_spam: false,
          unsubscribed_from_emails: false,
          created_at: 1609739196,
          updated_at: 1609739196,
          signed_up_at: null,
          last_seen_at: null,
          last_replied_at: null,
          last_contacted_at: null,
          last_email_opened_at: null,
          last_email_clicked_at: null,
          language_override: null,
          browser: null,
          browser_version: null,
          browser_language: null,
          os: null,
          location: {
            type: "location",
            country: null,
            region: null,
            city: null,
          },
          android_app_name: null,
          android_app_version: null,
          android_device: null,
          android_os_version: null,
          android_sdk_version: null,
          android_last_seen_at: null,
          ios_app_name: null,
          ios_app_version: null,
          ios_device: null,
          ios_os_version: null,
          ios_sdk_version: null,
          ios_last_seen_at: null,
          custom_attributes: {},
          tags: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
            total_count: 0,
            has_more: false,
          },
          notes: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
            total_count: 0,
            has_more: false,
          },
          companies: {
            type: "list",
            data: [],
            url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
            total_count: 0,
            has_more: false,
          },
        },
      ],
      total_count: 1,
      pages: { type: "pages", page: 1, per_page: 50, total_pages: 1 },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:41 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739270",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "165",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008p6phrjep6etfj04j0",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"fcf51f7b464658abdb5b8d3195ac648b"',
      "X-Runtime",
      "0.130293",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .post("/contacts", {
    role: "user",
    external_id: "testuser3415520588",
    email: null,
    name: null,
    custom_attributes: {
      text_field: null,
      boolean_field: null,
      number_field: null,
      decimal_field: null,
      date_field: null,
    },
  })
  .once()
  .reply(
    409,
    {
      type: "error.list",
      request_id: "008rd1md8bfk90dv6e80",
      errors: [
        {
          code: "conflict",
          message:
            "A contact matching those details already exists with id=5ff2abbc5b0a1b5511eb33c1",
        },
      ],
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:41 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "409 Conflict",
      "Cache-Control",
      "no-cache",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739270",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "164",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008rd1md8bfk90dv6e80",
      "Intercom-Version",
      "2.3",
      "X-Runtime",
      "0.054969",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .put("/contacts/5ff2abbc5b0a1b5511eb33c1", {
    role: "user",
    external_id: "testuser3415520588",
    email: null,
    name: null,
    custom_attributes: {
      text_field: null,
      boolean_field: null,
      number_field: null,
      decimal_field: null,
      date_field: null,
    },
  })
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739261,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {
        boolean_field: null,
        date_field: null,
        decimal_field: null,
        number_field: null,
        text_field: null,
      },
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:41 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739270",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "163",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008o09aooj23aecdh010",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"f2fdc5f5b058ca92472ec11ec3cfb24a"',
      "X-Runtime",
      "0.123771",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Set-Cookie",
      "recent_write=2e520705-4f29-42ef-8785-81849c39d0d1; path=/; max-age=1; HttpOnly; secure",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );
nock("https://api.intercom.io:443", { encodedQueryParams: true })
  .get("/contacts/5ff2abbc5b0a1b5511eb33c1")
  .once()
  .reply(
    200,
    {
      type: "contact",
      id: "5ff2abbc5b0a1b5511eb33c1",
      workspace_id: "l4wp0knn",
      external_id: "testuser3415520588",
      role: "user",
      email: "",
      phone: null,
      name: null,
      avatar: null,
      owner_id: null,
      social_profiles: { type: "list", data: [] },
      has_hard_bounced: false,
      marked_email_as_spam: false,
      unsubscribed_from_emails: false,
      created_at: 1609739196,
      updated_at: 1609739261,
      signed_up_at: null,
      last_seen_at: null,
      last_replied_at: null,
      last_contacted_at: null,
      last_email_opened_at: null,
      last_email_clicked_at: null,
      language_override: null,
      browser: null,
      browser_version: null,
      browser_language: null,
      os: null,
      location: { type: "location", country: null, region: null, city: null },
      android_app_name: null,
      android_app_version: null,
      android_device: null,
      android_os_version: null,
      android_sdk_version: null,
      android_last_seen_at: null,
      ios_app_name: null,
      ios_app_version: null,
      ios_device: null,
      ios_os_version: null,
      ios_sdk_version: null,
      ios_last_seen_at: null,
      custom_attributes: {
        boolean_field: null,
        date_field: null,
        decimal_field: null,
        number_field: null,
        text_field: null,
      },
      tags: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/tags",
        total_count: 0,
        has_more: false,
      },
      notes: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/notes",
        total_count: 0,
        has_more: false,
      },
      companies: {
        type: "list",
        data: [],
        url: "/contacts/5ff2abbc5b0a1b5511eb33c1/companies",
        total_count: 0,
        has_more: false,
      },
    },
    [
      "Date",
      "Mon, 04 Jan 2021 05:47:42 GMT",
      "Content-Type",
      "application/json; charset=utf-8",
      "Transfer-Encoding",
      "chunked",
      "Connection",
      "close",
      "Status",
      "200 OK",
      "Cache-Control",
      "max-age=0, private, must-revalidate",
      "X-RateLimit-Limit",
      "167",
      "X-RateLimit-Reset",
      "1609739270",
      "Strict-Transport-Security",
      "max-age=31556952; includeSubDomains; preload",
      "X-RateLimit-Remaining",
      "162",
      "X-Intercom-Version",
      "93e50d2790ba8dde12db3c35cc0b0c6499b13495",
      "Vary",
      "Accept-Encoding",
      "X-XSS-Protection",
      "1; mode=block",
      "X-Request-Id",
      "008q5ggl71din6nhedbg",
      "Intercom-Version",
      "2.3",
      "ETag",
      'W/"f2fdc5f5b058ca92472ec11ec3cfb24a"',
      "X-Runtime",
      "0.076945",
      "X-Frame-Options",
      "SAMEORIGIN",
      "X-Content-Type-Options",
      "nosniff",
      "Server",
      "nginx",
      "x-ami-version",
      "ami-0ff4c5c01112bbd61",
    ]
  );

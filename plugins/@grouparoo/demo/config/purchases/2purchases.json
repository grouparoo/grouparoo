[
  {
    "id": "demo_purchases",
    "name": "Product Purchases",
    "class": "Source",
    "type": "postgres-table-import",
    "appId": "demo_db",
    "options": {
      "table": "purchases"
    },
    "mapping": {
      "user_id": "user_id"
    }
  },
  {
    "id": "ltv",
    "name": "LTV",
    "class": "Property",
    "type": "float",
    "unique": false,
    "isArray": false,
    "sourceId": "demo_purchases",
    "options": {
      "column": "price",
      "aggregationMethod": "sum",
      "sortColumn": null
    },
    "filters": [{ "key": "state", "op": "equals", "match": "successful" }]
  },
  {
    "id": "purchase_count",
    "name": "purchaseCount",
    "class": "Property",
    "type": "integer",
    "unique": false,
    "isArray": false,
    "sourceId": "demo_purchases",
    "options": {
      "column": "id",
      "aggregationMethod": "count",
      "sortColumn": null
    },
    "filters": [{ "key": "state", "op": "equals", "match": "successful" }]
  },
  {
    "id": "last_purchase_category",
    "name": "lastPurchaseCategory",
    "class": "Property",
    "type": "string",
    "unique": false,
    "isArray": false,
    "sourceId": "demo_purchases",
    "options": {
      "column": "category",
      "aggregationMethod": "most recent value",
      "sortColumn": "created_at"
    },
    "filters": [{ "key": "state", "op": "equals", "match": "successful" }]
  },
  {
    "id": "last_purchase_date",
    "name": "lastPurchaseDate",
    "class": "Property",
    "type": "date",
    "unique": false,
    "isArray": false,
    "sourceId": "demo_purchases",
    "options": {
      "column": "created_at",
      "aggregationMethod": "most recent value",
      "sortColumn": "created_at"
    },
    "filters": [{ "key": "state", "op": "equals", "match": "successful" }]
  }
]
